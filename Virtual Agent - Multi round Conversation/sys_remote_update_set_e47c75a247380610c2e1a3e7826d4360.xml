<?xml version="1.0" encoding="UTF-8"?><unload unload_date="2024-03-10 14:43:19">
<sys_remote_update_set action="INSERT_OR_UPDATE">
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<application_name>Human Resources: Core</application_name>
<application_scope>sn_hr_core</application_scope>
<application_version>19.0.0</application_version>
<collisions/>
<commit_date/>
<deleted/>
<description>VA and Chat GPT Integration with multiround approach</description>
<inserted/>
<name>USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1</name>
<origin_sys_id/>
<parent display_value=""/>
<release_date/>
<remote_base_update_set display_value=""/>
<remote_parent_id/>
<remote_sys_id>e6cf546647b00610c2e1a3e7826d43bd</remote_sys_id>
<state>loaded</state>
<summary/>
<sys_class_name>sys_remote_update_set</sys_class_name>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>e47c75a247380610c2e1a3e7826d4360</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<update_set display_value=""/>
<update_source display_value=""/>
<updated/>
</sys_remote_update_set>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_62d791ee47740610c2e1a3e7826d4339</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__2ed719ea6e740610879fb623043694e0">e2d791ee47740610c2e1a3e7826d4336</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"c7f19eb9a25a447ba10aba98ecfe4838","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"c7f19eb9a25a447ba10aba98ecfe4838"}],"goals":[{"name":"primary","trigger_id":"c7f19eb9a25a447ba10aba98ecfe4838","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"a1f501f41a974866b3bda69f922f4680","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"5115d1d54b7a4c0c8e2f5717958b3157","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\nvar request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n//  try { \n//  var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n//  r.setStringParameterNoEscape('payload', payload);\n\n//  var response = r.execute();\n//  var responseBody = response.getBody();\n//  var httpStatus = response.getStatusCode();\n// vaVars.Output = responseBody.toString();\n\n// }\n// catch(ex) {\n//  var message = ex.message;\n// }\n\nvaVars.Output = request.toString();\n\n})()\n","id":"27d00bf90d7249c9abffba1e26630355","name":"Continue Conversation","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"27d00bf90d7249c9abffba1e26630355","target_node_id":"5115d1d54b7a4c0c8e2f5717958b3157","id":"49019a82541540bc840400911ef7a030"},{"type":"Edge","source_node_id":"a1f501f41a974866b3bda69f922f4680","target_node_id":"27d00bf90d7249c9abffba1e26630355","id":"7478d668356e446ab58435013b64513e"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Output","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"07ca374af3e94217bfa05558977275c1","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"request","list":false,"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","library-usage":{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Output}}"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__2ed719ea6e740610879fb623043694e0","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"csTopicId":"eae0a4a647b00610c2e1a3e7826d43af","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>d6bfd8e247b00610c2e1a3e7826d4367</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "a1f501f41a974866b3bda69f922f4680": {
          "id": "a1f501f41a974866b3bda69f922f4680",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "type": "String",
              "value": "",
              "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
              "name": "Request",
              "required": true,
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "1dc4bbfc8f5d4a2fbb244a5e87254429"
          ]
        },
        "5115d1d54b7a4c0c8e2f5717958b3157": {
          "id": "5115d1d54b7a4c0c8e2f5717958b3157",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "Output",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Output}}",
                        "displayValue": "Script Variables➛Output"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": false
            }
          ]
        },
        "27d00bf90d7249c9abffba1e26630355": {
          "id": "27d00bf90d7249c9abffba1e26630355",
          "name": "Continue Conversation",
          "script": "(function execute() {\n\nvar request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n//  try { \n//  var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n//  r.setStringParameterNoEscape('payload', payload);\n\n//  var response = r.execute();\n//  var responseBody = response.getBody();\n//  var httpStatus = response.getStatusCode();\n// vaVars.Output = responseBody.toString();\n\n// }\n// catch(ex) {\n//  var message = ex.message;\n// }\n\nvaVars.Output = request.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "49019a82541540bc840400911ef7a030",
          "edgeType": "Edge",
          "source": "27d00bf90d7249c9abffba1e26630355",
          "target": "5115d1d54b7a4c0c8e2f5717958b3157",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7478d668356e446ab58435013b64513e",
          "edgeType": "Edge",
          "source": "a1f501f41a974866b3bda69f922f4680",
          "target": "27d00bf90d7249c9abffba1e26630355",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "07ca374af3e94217bfa05558977275c1": {
      "id": "07ca374af3e94217bfa05558977275c1",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Output",
      "label": "Output",
      "varType": "script",
      "category": "vaVars"
    },
    "1dc4bbfc8f5d4a2fbb244a5e87254429": {
      "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
      "name": "request",
      "label": "Request",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "a1f501f41a974866b3bda69f922f4680",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__2ed719ea6e740610879fb623043694e0</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:03:25</sys_created_on><sys_domain>global</sys_domain><sys_id>62d791ee47740610c2e1a3e7826d4339</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_62d791ee47740610c2e1a3e7826d4339</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:03:25</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-1166683676</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>207c712647380610c2e1a3e7826d4325</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e283f0f6e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>a2d791ee647406109aaedbd25c626d3a</update_guid>
<update_guid_history>a2d791ee647406109aaedbd25c626d3a:-1166683676</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>m2m_sys_nlu_model_sys_entity_5227f86e47f00610c2e1a3e7826d4361</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sys_nlu_model_sys_entity"><m2m_sys_nlu_model_sys_entity action="INSERT_OR_UPDATE"><active>true</active><entity>PERSON</entity><model display_value="VA GPT">da27786e47f00610c2e1a3e7826d4339</model><sys_class_name>m2m_sys_nlu_model_sys_entity</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:40:35</sys_created_on><sys_entity/><sys_id>5227f86e47f00610c2e1a3e7826d4361</sys_id><sys_mod_count>0</sys_mod_count><sys_name>VA GPT.</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>m2m_sys_nlu_model_sys_entity_5227f86e47f00610c2e1a3e7826d4361</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:40:35</sys_updated_on></m2m_sys_nlu_model_sys_entity></record_update>]]></payload>
<payload_hash>1250559129</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>207c75a247380610c2e1a3e7826d4361</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bc4c790000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>VA GPT.</target_name>
<type>NLU Model System Entity</type>
<update_domain>global</update_domain>
<update_guid>5227f86e1ff00610bc4902bdcba13262</update_guid>
<update_guid_history>5227f86e1ff00610bc4902bdcba13262:1250559129</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_2ae5392e47f40610c2e1a3e7826d43eb</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__e6e5392e8cf406109aa9690c80f453e7">aae5392e47f40610c2e1a3e7826d43e8</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"314df0ea1be24a1a8cbd568fceecdad4","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"314df0ea1be24a1a8cbd568fceecdad4"}],"goals":[{"name":"primary","trigger_id":"314df0ea1be24a1a8cbd568fceecdad4","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"a1f501f41a974866b3bda69f922f4680","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"5115d1d54b7a4c0c8e2f5717958b3157","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n// var request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', [{ \"role\": \"user\", \"content\": \"Tell me about React JS\" }].toString());\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n vaVars.Output = httpStatus.toString();\n gs.info('36358 - '+JSON.stringify(responseBody));\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = 'failure: '+ JSON.stringify(ex);\n}\n\n})()\n","id":"27d00bf90d7249c9abffba1e26630355","name":"Continue Conversation","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"27d00bf90d7249c9abffba1e26630355","target_node_id":"5115d1d54b7a4c0c8e2f5717958b3157","id":"49019a82541540bc840400911ef7a030"},{"type":"Edge","source_node_id":"a1f501f41a974866b3bda69f922f4680","target_node_id":"27d00bf90d7249c9abffba1e26630355","id":"7478d668356e446ab58435013b64513e"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Output","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"07ca374af3e94217bfa05558977275c1","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"request","list":false,"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","library-usage":{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Output}}"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__e6e5392e8cf406109aa9690c80f453e7","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"csTopicId":"eae0a4a647b00610c2e1a3e7826d43af","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>d6bfd8e247b00610c2e1a3e7826d4367</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "a1f501f41a974866b3bda69f922f4680": {
          "id": "a1f501f41a974866b3bda69f922f4680",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "type": "String",
              "value": "",
              "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
              "name": "Request",
              "required": true,
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "1dc4bbfc8f5d4a2fbb244a5e87254429"
          ]
        },
        "5115d1d54b7a4c0c8e2f5717958b3157": {
          "id": "5115d1d54b7a4c0c8e2f5717958b3157",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "Output",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Output}}",
                        "displayValue": "Script Variables➛Output"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": false
            }
          ]
        },
        "27d00bf90d7249c9abffba1e26630355": {
          "id": "27d00bf90d7249c9abffba1e26630355",
          "name": "Continue Conversation",
          "script": "(function execute() {\n\n// var request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', [{ \"role\": \"user\", \"content\": \"Tell me about React JS\" }].toString());\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n vaVars.Output = httpStatus.toString();\n gs.info('36358 - '+JSON.stringify(responseBody));\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = 'failure: '+ JSON.stringify(ex);\n}\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "49019a82541540bc840400911ef7a030",
          "edgeType": "Edge",
          "source": "27d00bf90d7249c9abffba1e26630355",
          "target": "5115d1d54b7a4c0c8e2f5717958b3157",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7478d668356e446ab58435013b64513e",
          "edgeType": "Edge",
          "source": "a1f501f41a974866b3bda69f922f4680",
          "target": "27d00bf90d7249c9abffba1e26630355",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "07ca374af3e94217bfa05558977275c1": {
      "id": "07ca374af3e94217bfa05558977275c1",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Output",
      "label": "Output",
      "varType": "script",
      "category": "vaVars"
    },
    "1dc4bbfc8f5d4a2fbb244a5e87254429": {
      "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
      "name": "request",
      "label": "Request",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "a1f501f41a974866b3bda69f922f4680",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__e6e5392e8cf406109aa9690c80f453e7</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:14:45</sys_created_on><sys_domain>global</sys_domain><sys_id>2ae5392e47f40610c2e1a3e7826d43eb</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_2ae5392e47f40610c2e1a3e7826d43eb</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:14:45</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>931647842</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>207c75a247380610c2e1a3e7826d4364</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28b74f6d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>6ae5392e7ff4061016a459cef1992bec</update_guid>
<update_guid_history>6ae5392e7ff4061016a459cef1992bec:931647842</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_5a1cbc6247340610c2e1a3e7826d4386</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__1a1cbc6231340610067d49c0b132ac82">da1cbc6247340610c2e1a3e7826d4383</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"52d454982bfa40f8a9c47ada70a8e6b5","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"52d454982bfa40f8a9c47ada70a8e6b5"}],"goals":[{"name":"primary","trigger_id":"52d454982bfa40f8a9c47ada70a8e6b5","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"7a163c28e83948ebb3cb431f7c585fd8","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"0e23dd455cb04705a942b643beb11097","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\nvar input = vaInputs.enter_your_query.toString();\n\nvar output = {\n    \"role\" :\"user\",\n    \"content\":input\n};\n\n// vaVars.Request  = JSON.stringify(output);\nvaVars.Request  = vaInputs.output_from_chatgpt?'true':'false';\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"7a163c28e83948ebb3cb431f7c585fd8","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"7a163c28e83948ebb3cb431f7c585fd8"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"0e23dd455cb04705a942b643beb11097","id":"7e27041fde704dafa3c57c0df71d7044","name":"0e23dd455cb04705a942b643beb11097"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation_JSON","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__1a1cbc6231340610067d49c0b132ac82","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\nvar input = vaInputs.enter_your_query.toString();\n\nvar output = {\n    \"role\" :\"user\",\n    \"content\":input\n};\n\n// vaVars.Request  = JSON.stringify(output);\nvaVars.Request  = vaInputs.output_from_chatgpt?'true':'false';\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation_JSON",
      "label": "Continue_Conversation_JSON",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__1a1cbc6231340610067d49c0b132ac82</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:02:09</sys_created_on><sys_domain>global</sys_domain><sys_id>5a1cbc6247340610c2e1a3e7826d4386</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_5a1cbc6247340610c2e1a3e7826d4386</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:02:09</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-863304019</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>247c712647380610c2e1a3e7826d4324</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27d00af90000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>9a1cbc622d340610759dd4373c8c6587</update_guid>
<update_guid_history>9a1cbc622d340610759dd4373c8c6587:-863304019</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_1ccc7ce247340610c2e1a3e7826d43e0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__d8ccb8629e34061036114b602d40171a">9cccb86247340610c2e1a3e7826d431b</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"7011fee2bf524ba6a55b398bd0ae48b6","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"7011fee2bf524ba6a55b398bd0ae48b6"}],"goals":[{"name":"primary","trigger_id":"7011fee2bf524ba6a55b398bd0ae48b6","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"f9dbac4e7a1646e08af993181309a304","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"7fa8fa9083e7441abf6d23ee9640d8f2","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    if (vaInputs.output_from_chatgpt) {\n        var bot_output = {\n            \"role\": \"assistant\",\n            \"content\": bot_output\n        };\n    }\n\n    \n\n    // vaVars.Request  = JSON.stringify(output);\n    vaVars.Request = vaVars.Request ? 'true' : 'false';\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"f9dbac4e7a1646e08af993181309a304","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"f9dbac4e7a1646e08af993181309a304"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"7fa8fa9083e7441abf6d23ee9640d8f2","id":"7e27041fde704dafa3c57c0df71d7044","name":"7fa8fa9083e7441abf6d23ee9640d8f2"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation_JSON","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__d8ccb8629e34061036114b602d40171a","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    if (vaInputs.output_from_chatgpt) {\n        var bot_output = {\n            \"role\": \"assistant\",\n            \"content\": bot_output\n        };\n    }\n\n    \n\n    // vaVars.Request  = JSON.stringify(output);\n    vaVars.Request = vaVars.Request ? 'true' : 'false';\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation_JSON",
      "label": "Continue_Conversation_JSON",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__d8ccb8629e34061036114b602d40171a</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:05:01</sys_created_on><sys_domain>global</sys_domain><sys_id>1ccc7ce247340610c2e1a3e7826d43e0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_1ccc7ce247340610c2e1a3e7826d43e0</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:05:01</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>357598259</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>247c75a247380610c2e1a3e7826d4363</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27d2abbe0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>5ccc7ce298340610dd23e31eb466c5e1</update_guid>
<update_guid_history>5ccc7ce298340610dd23e31eb466c5e1:357598259</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_4a9de12647f40610c2e1a3e7826d43b9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__319d252280b4061030f19cdfc9cdde9c">f19d252247b40610c2e1a3e7826d439d</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"62a7926cf22046cf92bf6480eb29d645","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"62a7926cf22046cf92bf6480eb29d645"}],"goals":[{"name":"primary","trigger_id":"62a7926cf22046cf92bf6480eb29d645","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"e3ee0223b46645cfbc8aceaa4c3da64f","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"df3d0dc156154138aeb3d81d2a877a01","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"e3ee0223b46645cfbc8aceaa4c3da64f","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"e3ee0223b46645cfbc8aceaa4c3da64f"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"df3d0dc156154138aeb3d81d2a877a01","id":"7e27041fde704dafa3c57c0df71d7044","name":"df3d0dc156154138aeb3d81d2a877a01"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__319d252280b4061030f19cdfc9cdde9c","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__319d252280b4061030f19cdfc9cdde9c</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:38:24</sys_created_on><sys_domain>global</sys_domain><sys_id>4a9de12647f40610c2e1a3e7826d43b9</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_4a9de12647f40610c2e1a3e7826d43b9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:38:24</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>2145385804</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>287c712647380610c2e1a3e7826d4323</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e289605ba0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>8a9de126d8f40610b388286e4d3b54ba</update_guid>
<update_guid_history>8a9de126d8f40610b388286e4d3b54ba:2145385804</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>ml_capability_definition_base_5627786e47f00610c2e1a3e7826d433a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="ml_capability_definition_base"><ml_capability_definition_base action="INSERT_OR_UPDATE"><active>true</active><capability display_value="NLU">b4ddf73453c73300d1dcddeeff7b1288</capability><current_solution_version>1</current_solution_version><dataset_language>en</dataset_language><fields/><filter/><request_source>api</request_source><solution_label>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</solution_label><solution_name>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</solution_name><solution_parameters/><solution_properties>{"authoringModel":{"intents":[{"name":"Connect GPT","samples":[{"utterance":"Answer"},{"utterance":"ChatGPT"},{"utterance":"Conenct GPT"},{"utterance":"Connect GPT"},{"utterance":"Need Help"},{"utterance":"Please Help"},{"utterance":"Question"},{"utterance":"troubleshoot"}],"testSamples":[],"entities":[]}],"schemaVersion":"NY-1","vocabulary":[],"modelPurpose":"virtual_agent","entities":[],"confidenceThreshold":"0.65","lookupSources":[],"name":"ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339","language":"en","version":"utah.0","properties":[{"name":"neuralModelPunctuationCleaning","value":"true"}]},"description":"Train NLU Solution","label":"ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339","name":"ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339","nluTrainingMode":"IntentClassifier","schedulingInfo":{"useCase":"Train NLU Solution"},"tags":["Train NLU Solution"],"trainingMode":"sync","trainingPipeline":{"pipelineName":"nlu_training_workflow_v1","pipelineInput":{"config":{"authoring_model":{"name":"ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339","language":"en","confidenceThreshold":"0.65","modelPurpose":"virtual_agent","schemaVersion":"NY-1","version":"utah.0","entities":[],"intents":[{"name":"Connect GPT","samples":[{"utterance":"Answer"},{"utterance":"ChatGPT"},{"utterance":"Conenct GPT"},{"utterance":"Connect GPT"},{"utterance":"Need Help"},{"utterance":"Please Help"},{"utterance":"Question"},{"utterance":"troubleshoot"}],"testSamples":[],"entities":[]}],"vocabulary":[],"lookupSources":[],"properties":[{"name":"neuralModelPunctuationCleaning","value":"true"}]}},"solutions":{},"datasets":{}}},"workflowAsyncCapability":false,"workflowConfiguration":{"trainingFrequency":"run_once"},"g_bn":"Utah","g_jv":"23.7a.0.1","g_bt":"glide-utah-12-21-2022__patch7a-09-28-2023"}</solution_properties><stopwords>a6282a25533333008c5bddeeff7b12c3</stopwords><sys_class_name>ml_capability_definition_base</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:40:35</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>5627786e47f00610c2e1a3e7826d433a</sys_id><sys_mod_count>6</sys_mod_count><sys_name>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>ml_capability_definition_base_5627786e47f00610c2e1a3e7826d433a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:42:55</sys_updated_on><table/><training_frequency>run_once</training_frequency><triggered_source>API</triggered_source><word_vector_corpus/></ml_capability_definition_base></record_update>]]></payload>
<payload_hash>453222806</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>287c75a247380610c2e1a3e7826d4362</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27be70820000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</target_name>
<type>Solution Definition</type>
<update_domain>global</update_domain>
<update_guid>64b778aeeff006104727ae0970654a25</update_guid>
<update_guid_history>64b778aeeff006104727ae0970654a25:453222806,20b778ae99f0061050093892fd5c9723:2010383280,a8b778aedef0061041a2f82e10b5c720:-1108331402,4357b0ae51f006103239fa95702c301a:681154267,0f57b0aee4f0061094fd898e1d0c8017:-209439371,0757b0aeacf0061091540a106a6f9b15:47744239,da27786e4bf006107dc568f3b3cf5a3c:204440097</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_6c767cae47b00610c2e1a3e7826d43da</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__2c767caefeb006101c005d56a28c26d6">ec767cae47b00610c2e1a3e7826d43d7</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"3e5c59ed5eaf43218ab875451ba8723b","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"3e5c59ed5eaf43218ab875451ba8723b"}],"goals":[{"name":"primary","trigger_id":"3e5c59ed5eaf43218ab875451ba8723b","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"8d44c5172aa1458385bbea56a721b369","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"8f377c2557434dc4a1fbf7a08d4e6137","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    if (orignal_obj.length &gt; 0) {\n        message.push(orignal_obj);   // push initial or old data if exists\n    }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    if (gpt_response.length &gt; 0) {\n        var new_assistant_obj = {\n            \"role\": \"assistant\",\n            \"content\": gpt_response\n        };\n        message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    }\n\n    vaVars.Request = message.toString();\n\n})()\n","id":"778b69bb03ad4167a9a7a1246ade5a8d","name":"Parse Data Into 1 JSON","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"8d44c5172aa1458385bbea56a721b369","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"8d44c5172aa1458385bbea56a721b369"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"8f377c2557434dc4a1fbf7a08d4e6137","id":"7e27041fde704dafa3c57c0df71d7044","name":"8f377c2557434dc4a1fbf7a08d4e6137"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"778b69bb03ad4167a9a7a1246ade5a8d","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"778b69bb03ad4167a9a7a1246ade5a8d","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"6d31c36a4f734fe4a0789b67028e593a"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation_JSON","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__2c767caefeb006101c005d56a28c26d6","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "778b69bb03ad4167a9a7a1246ade5a8d": {
          "id": "778b69bb03ad4167a9a7a1246ade5a8d",
          "name": "Parse Data Into 1 JSON",
          "script": "(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    if (orignal_obj.length &gt; 0) {\n        message.push(orignal_obj);   // push initial or old data if exists\n    }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    if (gpt_response.length &gt; 0) {\n        var new_assistant_obj = {\n            \"role\": \"assistant\",\n            \"content\": gpt_response\n        };\n        message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    }\n\n    vaVars.Request = message.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": false
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "778b69bb03ad4167a9a7a1246ade5a8d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "6d31c36a4f734fe4a0789b67028e593a",
          "edgeType": "Edge",
          "source": "778b69bb03ad4167a9a7a1246ade5a8d",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation_JSON",
      "label": "Continue_Conversation_JSON",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": false,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__2c767caefeb006101c005d56a28c26d6</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:37:27</sys_created_on><sys_domain>global</sys_domain><sys_id>6c767cae47b00610c2e1a3e7826d43da</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_6c767cae47b00610c2e1a3e7826d43da</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:37:27</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-1270589191</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>2c7c712647380610c2e1a3e7826d4325</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27b96ee20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>ac767cae60b00610ff70106a1e20acdb</update_guid>
<update_guid_history>ac767cae60b00610ff70106a1e20acdb:-1270589191</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>m2m_sys_nlu_model_sys_entity_d227f86e47f00610c2e1a3e7826d4365</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sys_nlu_model_sys_entity"><m2m_sys_nlu_model_sys_entity action="INSERT_OR_UPDATE"><active>true</active><entity>NUMBER</entity><model display_value="VA GPT">da27786e47f00610c2e1a3e7826d4339</model><sys_class_name>m2m_sys_nlu_model_sys_entity</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:40:35</sys_created_on><sys_entity/><sys_id>d227f86e47f00610c2e1a3e7826d4365</sys_id><sys_mod_count>0</sys_mod_count><sys_name>VA GPT.</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>m2m_sys_nlu_model_sys_entity_d227f86e47f00610c2e1a3e7826d4365</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:40:35</sys_updated_on></m2m_sys_nlu_model_sys_entity></record_update>]]></payload>
<payload_hash>-849466995</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>2c7c75a247380610c2e1a3e7826d4361</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bc4cae0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>VA GPT.</target_name>
<type>NLU Model System Entity</type>
<update_domain>global</update_domain>
<update_guid>9a27f86e97f0061012467f8f03f53372</update_guid>
<update_guid_history>9a27f86e97f0061012467f8f03f53372:-849466995</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_2e75992e47740610c2e1a3e7826d43db</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__5e75516ac1740610c6194ccf23b6f138">1275516a47740610c2e1a3e7826d433a</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"cafc911aed484c6db741eba4c2692209","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"cafc911aed484c6db741eba4c2692209"}],"goals":[{"name":"primary","trigger_id":"cafc911aed484c6db741eba4c2692209","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"a1f501f41a974866b3bda69f922f4680","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"5115d1d54b7a4c0c8e2f5717958b3157","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\nvar request = vaInputs.request;\nvar array = request.split(',');\nvar payload = [];\n\nfor (var i = 0; i &lt; array.length; i++) {\n    payload.push(JSON.parse(array[i]));\n}\n\n//  try { \n//  var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n//  r.setStringParameterNoEscape('payload', payload);\n\n//  var response = r.execute();\n//  var responseBody = response.getBody();\n//  var httpStatus = response.getStatusCode();\n// vaVars.Output = responseBody.toString();\n\n// }\n// catch(ex) {\n//  var message = ex.message;\n// }\n\n\n})()\n","id":"27d00bf90d7249c9abffba1e26630355","name":"Continue Conversation","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"27d00bf90d7249c9abffba1e26630355","target_node_id":"5115d1d54b7a4c0c8e2f5717958b3157","id":"49019a82541540bc840400911ef7a030"},{"type":"Edge","source_node_id":"a1f501f41a974866b3bda69f922f4680","target_node_id":"27d00bf90d7249c9abffba1e26630355","id":"7478d668356e446ab58435013b64513e"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Output","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"07ca374af3e94217bfa05558977275c1","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"request","list":false,"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","library-usage":{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Output}}"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__5e75516ac1740610c6194ccf23b6f138","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"csTopicId":"eae0a4a647b00610c2e1a3e7826d43af","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>d6bfd8e247b00610c2e1a3e7826d4367</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "a1f501f41a974866b3bda69f922f4680": {
          "id": "a1f501f41a974866b3bda69f922f4680",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "type": "String",
              "value": "",
              "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
              "name": "Request",
              "required": true,
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "1dc4bbfc8f5d4a2fbb244a5e87254429"
          ]
        },
        "5115d1d54b7a4c0c8e2f5717958b3157": {
          "id": "5115d1d54b7a4c0c8e2f5717958b3157",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "Output",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Output}}",
                        "displayValue": "Script Variables➛Output"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": false
            }
          ]
        },
        "27d00bf90d7249c9abffba1e26630355": {
          "id": "27d00bf90d7249c9abffba1e26630355",
          "name": "Continue Conversation",
          "script": "(function execute() {\n\nvar request = vaInputs.request;\nvar array = request.split(',');\nvar payload = [];\n\nfor (var i = 0; i &lt; array.length; i++) {\n    payload.push(JSON.parse(array[i]));\n}\n\n//  try { \n//  var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n//  r.setStringParameterNoEscape('payload', payload);\n\n//  var response = r.execute();\n//  var responseBody = response.getBody();\n//  var httpStatus = response.getStatusCode();\n// vaVars.Output = responseBody.toString();\n\n// }\n// catch(ex) {\n//  var message = ex.message;\n// }\n\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "49019a82541540bc840400911ef7a030",
          "edgeType": "Edge",
          "source": "27d00bf90d7249c9abffba1e26630355",
          "target": "5115d1d54b7a4c0c8e2f5717958b3157",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7478d668356e446ab58435013b64513e",
          "edgeType": "Edge",
          "source": "a1f501f41a974866b3bda69f922f4680",
          "target": "27d00bf90d7249c9abffba1e26630355",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "07ca374af3e94217bfa05558977275c1": {
      "id": "07ca374af3e94217bfa05558977275c1",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Output",
      "label": "Output",
      "varType": "script",
      "category": "vaVars"
    },
    "1dc4bbfc8f5d4a2fbb244a5e87254429": {
      "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
      "name": "request",
      "label": "Request",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "a1f501f41a974866b3bda69f922f4680",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__5e75516ac1740610c6194ccf23b6f138</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:53:02</sys_created_on><sys_domain>global</sys_domain><sys_id>2e75992e47740610c2e1a3e7826d43db</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_2e75992e47740610c2e1a3e7826d43db</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:53:02</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-1293560496</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>2c7c75a247380610c2e1a3e7826d4364</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28358dcd0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>6e75992eed740610e84ccb440d2f8edc</update_guid>
<update_guid_history>6e75992eed740610e84ccb440d2f8edc:-1293560496</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_9a180dae47340610c2e1a3e7826d430a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__5a180daeac3406101c1a698553d41406">1e180dae47340610c2e1a3e7826d4307</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"3db29dbafa3149408f7708274e63e2c8","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"3db29dbafa3149408f7708274e63e2c8"}],"goals":[{"name":"primary","trigger_id":"3db29dbafa3149408f7708274e63e2c8","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"6fd36347983e40d09aa9a280880b2da3","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"ab77f0178e3643ed992b11d77addfcd8","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    vaVars.Request  = JSON.stringify(user_output);\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n\n\n    var response = vaVars.Continue_Conversation + JSON.stringify(bot_output);\n    var array = response.toString();\n\n    vaVars.Continue_Conversation = array;\n    vaVars.Request = array;\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"6fd36347983e40d09aa9a280880b2da3","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"6fd36347983e40d09aa9a280880b2da3"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"ab77f0178e3643ed992b11d77addfcd8","id":"7e27041fde704dafa3c57c0df71d7044","name":"ab77f0178e3643ed992b11d77addfcd8"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__5a180daeac3406101c1a698553d41406","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    vaVars.Request  = JSON.stringify(user_output);\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n\n\n    var response = vaVars.Continue_Conversation + JSON.stringify(bot_output);\n    var array = response.toString();\n\n    vaVars.Continue_Conversation = array;\n    vaVars.Request = array;\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__5a180daeac3406101c1a698553d41406</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:54:35</sys_created_on><sys_domain>global</sys_domain><sys_id>9a180dae47340610c2e1a3e7826d430a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_9a180dae47340610c2e1a3e7826d430a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:54:35</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1413125396</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>307c712647380610c2e1a3e7826d4328</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28000b8e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>da180dae22340610aebcebc7c0c3720b</update_guid>
<update_guid_history>da180dae22340610aebcebc7c0c3720b:1413125396</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_d94ee92647f40610c2e1a3e7826d4361</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__894ee92675f40610dc75cd49533c6f5d">4d4ee92647f40610c2e1a3e7826d435e</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"6ca2b49c8ec24996986812667d49f506","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"6ca2b49c8ec24996986812667d49f506"}],"goals":[{"name":"primary","trigger_id":"6ca2b49c8ec24996986812667d49f506","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"90ea335265084598bd1804e4b9375224","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"a7dc613fc7b842e9b05bbdf6db470a41","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"90ea335265084598bd1804e4b9375224","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"90ea335265084598bd1804e4b9375224"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"a7dc613fc7b842e9b05bbdf6db470a41","id":"7e27041fde704dafa3c57c0df71d7044","name":"a7dc613fc7b842e9b05bbdf6db470a41"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__894ee92675f40610dc75cd49533c6f5d","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__894ee92675f40610dc75cd49533c6f5d</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:41:21</sys_created_on><sys_domain>global</sys_domain><sys_id>d94ee92647f40610c2e1a3e7826d4361</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_d94ee92647f40610c2e1a3e7826d4361</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:41:21</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>2112425250</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>307c712647380610c2e1a3e7826d432b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2898b9270000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>1d4ee9263bf406105f47598c573a1162</update_guid>
<update_guid_history>1d4ee9263bf406105f47598c573a1162:2112425250</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_1275516a47740610c2e1a3e7826d433a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT - Topic Block">d6bfd8e247b00610c2e1a3e7826d4367</cb_topic_id><channels/><definition>{"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__5e75516ac1740610c6194ccf23b6f138","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__5e75516ac1740610c6194ccf23b6f138","applicability":"true","categories":[],"key_phrases":[],"variables":[{"name":"Output","type":"java.lang.Object"},{"name":"_reusable_topic_outputs_var","type":"java.lang.Object","init_value":"(function execute() {return JSON.stringify({\"populated\":false,\"values\":{\"output\":\"\"}})})()"},{"name":"__segment_trigger_cafc911aed484c6db741eba4c2692209_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"request","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_1e75516afd74061096b9eb1c728d9b39","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_9a75516a037406109c5326a34f5e0a39","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_da75516a1d74061082ae62c7315da339","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_cafc911aed484c6db741eba4c2692209_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_1e75516afd74061096b9eb1c728d9b39\");vaInputs.initialize(\"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355\");vaInputs.initialize(\"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_da75516a1d74061082ae62c7315da339\");vaInputs.initialize(\"__silent_Decision_RootDecision_9a75516a037406109c5326a34f5e0a39\");vaInputs.initialize(\"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157\");vaInputs.initialize(\"request\");vaInputs.request=JSON.parse('\"\"');null;","fields":[{"name":"__silent_Decision_RootDecision_9a75516a037406109c5326a34f5e0a39","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_9a75516a037406109c5326a34f5e0a39\";vaInputs.__silent_Decision_RootDecision_9a75516a037406109c5326a34f5e0a39=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_9a75516a037406109c5326a34f5e0a39\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_1e75516afd74061096b9eb1c728d9b39=true;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_9a75516a037406109c5326a34f5e0a39","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_da75516a1d74061082ae62c7315da339","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_da75516a1d74061082ae62c7315da339","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_9a75516a037406109c5326a34f5e0a39\" &amp;&amp; ((vaInputs.RootDecisionBranch_1e75516afd74061096b9eb1c728d9b39.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_da75516a1d74061082ae62c7315da339___RootDecisionBranch_da75516a1d74061082ae62c7315da339\";vaInputs.__silent_Branch_RootDecisionBranch_da75516a1d74061082ae62c7315da339=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_da75516a1d74061082ae62c7315da339___RootDecisionBranch_da75516a1d74061082ae62c7315da339\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_da75516a1d74061082ae62c7315da339","node_name":"RootDecisionBranch_da75516a1d74061082ae62c7315da339","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_da75516a1d74061082ae62c7315da339___RootDecisionBranch_da75516a1d74061082ae62c7315da339\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";vaInputs.__silent_StartGoal_a1f501f41a974866b3bda69f922f4680=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"a1f501f41a974866b3bda69f922f4680","node_name":"Start","predecessor_nodes":["RootDecisionBranch_da75516a1d74061082ae62c7315da339"],"next_node":"Continue Conversation","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","applicable":"vaVars.previous_graph_node==\"Start___a1f501f41a974866b3bda69f922f4680\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";(function execute() {(function execute() {\n\nvar request = vaInputs.request;\nvar array = request.split(',');\nvar payload = [];\n\nfor (var i = 0; i &lt; array.length; i++) {\n    payload.push(JSON.parse(array[i]));\n}\n\n//  try { \n//  var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n//  r.setStringParameterNoEscape('payload', payload);\n\n//  var response = r.execute();\n//  var responseBody = response.getBody();\n//  var httpStatus = response.getStatusCode();\n// vaVars.Output = responseBody.toString();\n\n// }\n// catch(ex) {\n//  var message = ex.message;\n// }\n\n\n})()\n;})();vaInputs.__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"27d00bf90d7249c9abffba1e26630355","node_name":"Continue Conversation","predecessor_nodes":["Start"],"next_node":"End","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","applicable":"vaVars.previous_graph_node==\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";vaInputs.__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";var ackMsg=null;ackMsg=null;(function execute() {var tmp={values:{}};tmp.values.output=vaVars.Output;tmp.populated=true;vaVars._reusable_topic_outputs_var=JSON.stringify(tmp);})();vaVars.__segment_trigger_cafc911aed484c6db741eba4c2692209_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"5115d1d54b7a4c0c8e2f5717958b3157","node_name":"End","predecessor_nodes":["Continue Conversation"],"node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[],"confirmation_msg":"gs.getMessageLang('[PREVIEW ONLY] The topic return values are: {0}', vaContext.getRequesterLang(), JSON.stringify(JSON.parse(vaVars._reusable_topic_outputs_var).values));"}],"roles":[],"active":true,"published":false,"library":true,"expose_on_palette":false,"palette_label":"ChatGPT - Topic Block","flexible_conversation_switching":true,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"TOPIC_BLOCK","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT - Topic Block","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases/><last_published_on>2024-03-10 11:53:01</last_published_on><library>true</library><library_usage>{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","mode":"string","value":"{{vaVars.Output}}"}}]}</library_usage><metaphone/><name>_PRVW__5e75516ac1740610c6194ccf23b6f138</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label>ChatGPT - Topic Block</palette_label><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:53:01</sys_created_on><sys_domain>global</sys_domain><sys_id>1275516a47740610c2e1a3e7826d433a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__5e75516ac1740610c6194ccf23b6f138</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_1275516a47740610c2e1a3e7826d433a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:53:01</sys_updated_on><title>ChatGPT - Topic Block</title><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=1275516a47740610c2e1a3e7826d433a"/></record_update>]]></payload>
<payload_hash>-1273496649</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>307c712647380610c2e1a3e7826d432e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28358da70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__5e75516ac1740610c6194ccf23b6f138</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>e675516aee740610ddaa9b94627bcb3b</update_guid>
<update_guid_history>e675516aee740610ddaa9b94627bcb3b:-1273496649</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_4d4ee92647f40610c2e1a3e7826d435e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__894ee92675f40610dc75cd49533c6f5d","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__894ee92675f40610dc75cd49533c6f5d","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_6ca2b49c8ec24996986812667d49f506_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_894ee92662f40610ac976b95dc974e5e","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_494ee92630f4061077a5fce90943535e","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_094ee9264df40610fc3cced7599e635e","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_90ea335265084598bd1804e4b9375224","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_a7dc613fc7b842e9b05bbdf6db470a41","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_6ca2b49c8ec24996986812667d49f506_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_894ee92662f40610ac976b95dc974e5e\");vaInputs.initialize(\"__silent_Branch_90ea335265084598bd1804e4b9375224\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_494ee92630f4061077a5fce90943535e\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_RootDecision_094ee9264df40610fc3cced7599e635e\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Branch_a7dc613fc7b842e9b05bbdf6db470a41\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_094ee9264df40610fc3cced7599e635e","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_094ee9264df40610fc3cced7599e635e\";vaInputs.__silent_Decision_RootDecision_094ee9264df40610fc3cced7599e635e=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_094ee9264df40610fc3cced7599e635e\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_894ee92662f40610ac976b95dc974e5e=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_494ee92630f4061077a5fce90943535e.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_094ee9264df40610fc3cced7599e635e","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_494ee92630f4061077a5fce90943535e","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_494ee92630f4061077a5fce90943535e","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_094ee9264df40610fc3cced7599e635e\" &amp;&amp; ((vaInputs.RootDecisionBranch_894ee92662f40610ac976b95dc974e5e.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_494ee92630f4061077a5fce90943535e___RootDecisionBranch_494ee92630f4061077a5fce90943535e\";vaInputs.__silent_Branch_RootDecisionBranch_494ee92630f4061077a5fce90943535e=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_494ee92630f4061077a5fce90943535e___RootDecisionBranch_494ee92630f4061077a5fce90943535e\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_494ee92630f4061077a5fce90943535e","node_name":"RootDecisionBranch_494ee92630f4061077a5fce90943535e","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_494ee92630f4061077a5fce90943535e___RootDecisionBranch_494ee92630f4061077a5fce90943535e\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_494ee92630f4061077a5fce90943535e"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_90ea335265084598bd1804e4b9375224.reset();})();(function() {vaInputs.__silent_Branch_a7dc613fc7b842e9b05bbdf6db470a41.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_90ea335265084598bd1804e4b9375224.reset();})();(function() {vaInputs.__silent_Branch_a7dc613fc7b842e9b05bbdf6db470a41.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_90ea335265084598bd1804e4b9375224","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___90ea335265084598bd1804e4b9375224\";vaInputs.__silent_Branch_90ea335265084598bd1804e4b9375224=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___90ea335265084598bd1804e4b9375224\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"90ea335265084598bd1804e4b9375224","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_a7dc613fc7b842e9b05bbdf6db470a41","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___a7dc613fc7b842e9b05bbdf6db470a41\";vaInputs.__silent_Branch_a7dc613fc7b842e9b05bbdf6db470a41=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___a7dc613fc7b842e9b05bbdf6db470a41\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"a7dc613fc7b842e9b05bbdf6db470a41","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___a7dc613fc7b842e9b05bbdf6db470a41\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___90ea335265084598bd1804e4b9375224\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_6ca2b49c8ec24996986812667d49f506_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 13:41:20</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__894ee92675f40610dc75cd49533c6f5d</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:41:20</sys_created_on><sys_domain>global</sys_domain><sys_id>4d4ee92647f40610c2e1a3e7826d435e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__894ee92675f40610dc75cd49533c6f5d</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_4d4ee92647f40610c2e1a3e7826d435e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:41:20</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=4d4ee92647f40610c2e1a3e7826d435e"/></record_update>]]></payload>
<payload_hash>-591814854</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>307c712647380610c2e1a3e7826d4331</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2898b8ec0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__894ee92675f40610dc75cd49533c6f5d</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>054ee92657f40610f4500c6336bbaa60</update_guid>
<update_guid_history>054ee92657f40610f4500c6336bbaa60:-591814854</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_80c60d2a47340610c2e1a3e7826d43b5</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__4cc60d2a2e34061094747c541184acb3","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__4cc60d2a2e34061094747c541184acb3","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_51686e6f1e2044c7a46ba9eb28a6d5ec_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_ccc60d2a8e340610fdf1dd26c03b83b4","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_8cc60d2af2340610b6880de2711400b4","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_35f71430d8144b26a51b368ffd1f4ce9","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_4cc60d2a8b34061033ef32de08e263b4","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_c60cc709ae5b427e95e90e827777f1d6","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_ab5efabfa8d64cb9b37e9e9dced4081e","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_51686e6f1e2044c7a46ba9eb28a6d5ec_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_ccc60d2a8e340610fdf1dd26c03b83b4\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Decision_RootDecision_4cc60d2a8b34061033ef32de08e263b4\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Branch_ab5efabfa8d64cb9b37e9e9dced4081e\");vaInputs.initialize(\"__silent_Branch_c60cc709ae5b427e95e90e827777f1d6\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_8cc60d2af2340610b6880de2711400b4\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"__silent_ScriptedAction_35f71430d8144b26a51b368ffd1f4ce9\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_4cc60d2a8b34061033ef32de08e263b4","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_4cc60d2a8b34061033ef32de08e263b4\";vaInputs.__silent_Decision_RootDecision_4cc60d2a8b34061033ef32de08e263b4=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_4cc60d2a8b34061033ef32de08e263b4\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_ccc60d2a8e340610fdf1dd26c03b83b4=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_8cc60d2af2340610b6880de2711400b4.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_4cc60d2a8b34061033ef32de08e263b4","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_8cc60d2af2340610b6880de2711400b4","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_8cc60d2af2340610b6880de2711400b4","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_4cc60d2a8b34061033ef32de08e263b4\" &amp;&amp; ((vaInputs.RootDecisionBranch_ccc60d2a8e340610fdf1dd26c03b83b4.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_8cc60d2af2340610b6880de2711400b4___RootDecisionBranch_8cc60d2af2340610b6880de2711400b4\";vaInputs.__silent_Branch_RootDecisionBranch_8cc60d2af2340610b6880de2711400b4=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_8cc60d2af2340610b6880de2711400b4___RootDecisionBranch_8cc60d2af2340610b6880de2711400b4\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_8cc60d2af2340610b6880de2711400b4","node_name":"RootDecisionBranch_8cc60d2af2340610b6880de2711400b4","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_8cc60d2af2340610b6880de2711400b4___RootDecisionBranch_8cc60d2af2340610b6880de2711400b4\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_8cc60d2af2340610b6880de2711400b4"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    vaVars.Request  = JSON.stringify(user_output);\n    vaVars.Continue_Conversation  = JSON.stringify(user_output);\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_35f71430d8144b26a51b368ffd1f4ce9.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data and Set String","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_35f71430d8144b26a51b368ffd1f4ce9","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data and Set String___35f71430d8144b26a51b368ffd1f4ce9\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n\n\n    var response = vaVars.Continue_Conversation + JSON.stringify(bot_output);\n    var array = response.toString();\n\n    vaVars.Continue_Conversation = array;\n    vaVars.Request = array;\n\n\n})()\n;})();vaInputs.__silent_ScriptedAction_35f71430d8144b26a51b368ffd1f4ce9=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data and Set String___35f71430d8144b26a51b368ffd1f4ce9\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"35f71430d8144b26a51b368ffd1f4ce9","node_name":"Parse Data and Set String","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data and Set String___35f71430d8144b26a51b368ffd1f4ce9\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_c60cc709ae5b427e95e90e827777f1d6.reset();})();(function() {vaInputs.__silent_Branch_ab5efabfa8d64cb9b37e9e9dced4081e.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data and Set String"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_c60cc709ae5b427e95e90e827777f1d6.reset();})();(function() {vaInputs.__silent_Branch_ab5efabfa8d64cb9b37e9e9dced4081e.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_c60cc709ae5b427e95e90e827777f1d6","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___c60cc709ae5b427e95e90e827777f1d6\";vaInputs.__silent_Branch_c60cc709ae5b427e95e90e827777f1d6=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___c60cc709ae5b427e95e90e827777f1d6\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c60cc709ae5b427e95e90e827777f1d6","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_ab5efabfa8d64cb9b37e9e9dced4081e","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___ab5efabfa8d64cb9b37e9e9dced4081e\";vaInputs.__silent_Branch_ab5efabfa8d64cb9b37e9e9dced4081e=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___ab5efabfa8d64cb9b37e9e9dced4081e\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"ab5efabfa8d64cb9b37e9e9dced4081e","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___ab5efabfa8d64cb9b37e9e9dced4081e\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___c60cc709ae5b427e95e90e827777f1d6\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_51686e6f1e2044c7a46ba9eb28a6d5ec_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 10:48:41</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__4cc60d2a2e34061094747c541184acb3</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:48:41</sys_created_on><sys_domain>global</sys_domain><sys_id>80c60d2a47340610c2e1a3e7826d43b5</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__4cc60d2a2e34061094747c541184acb3</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_80c60d2a47340610c2e1a3e7826d43b5</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:48:41</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=80c60d2a47340610c2e1a3e7826d43b5"/></record_update>]]></payload>
<payload_hash>487670978</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>307c712647380610c2e1a3e7826d4334</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27faa6e40000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__4cc60d2a2e34061094747c541184acb3</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>4cc60d2a603406105dbd7d96472619b6</update_guid>
<update_guid_history>4cc60d2a603406105dbd7d96472619b6:487670978</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_cccb786247340610c2e1a3e7826d43cd</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__0ccb7862bb340610d5389abdd962e6cc","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__0ccb7862bb340610d5389abdd962e6cc","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation_JSON","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_bdca122092d04b9bb585c05b24f293fe_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_0ccb78624e3406102be8797fd06849cd","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_88cb78625e3406107895bd9707d27bcd","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_b56ab143f78d4b6fbbe0f1da41a0e4af","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_c8cb7862f6340610349c6c1f255e12cd","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_928345857eca4555af54496e68223ba4","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_bdca122092d04b9bb585c05b24f293fe_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_0ccb78624e3406102be8797fd06849cd\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_928345857eca4555af54496e68223ba4\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_c8cb7862f6340610349c6c1f255e12cd\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_RootDecision_88cb78625e3406107895bd9707d27bcd\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Branch_b56ab143f78d4b6fbbe0f1da41a0e4af\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");null;","fields":[{"name":"__silent_Decision_RootDecision_88cb78625e3406107895bd9707d27bcd","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_88cb78625e3406107895bd9707d27bcd\";vaInputs.__silent_Decision_RootDecision_88cb78625e3406107895bd9707d27bcd=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_88cb78625e3406107895bd9707d27bcd\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_0ccb78624e3406102be8797fd06849cd=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_c8cb7862f6340610349c6c1f255e12cd.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_88cb78625e3406107895bd9707d27bcd","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_c8cb7862f6340610349c6c1f255e12cd","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_c8cb7862f6340610349c6c1f255e12cd","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_88cb78625e3406107895bd9707d27bcd\" &amp;&amp; ((vaInputs.RootDecisionBranch_0ccb78624e3406102be8797fd06849cd.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_c8cb7862f6340610349c6c1f255e12cd___RootDecisionBranch_c8cb7862f6340610349c6c1f255e12cd\";vaInputs.__silent_Branch_RootDecisionBranch_c8cb7862f6340610349c6c1f255e12cd=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_c8cb7862f6340610349c6c1f255e12cd___RootDecisionBranch_c8cb7862f6340610349c6c1f255e12cd\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_c8cb7862f6340610349c6c1f255e12cd","node_name":"RootDecisionBranch_c8cb7862f6340610349c6c1f255e12cd","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_c8cb7862f6340610349c6c1f255e12cd___RootDecisionBranch_c8cb7862f6340610349c6c1f255e12cd\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_c8cb7862f6340610349c6c1f255e12cd"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\nvar input = vaInputs.enter_your_query.toString();\n\nvar output = {\n    \"role\" :\"user\",\n    \"content\":input\n};\n\nvaVars.Request  = JSON.stringify(output);\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.choice.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Choice","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_928345857eca4555af54496e68223ba4.reset();})();(function() {vaInputs.__silent_Branch_b56ab143f78d4b6fbbe0f1da41a0e4af.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Print Response"],"next_node":"Decision","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_928345857eca4555af54496e68223ba4.reset();})();(function() {vaInputs.__silent_Branch_b56ab143f78d4b6fbbe0f1da41a0e4af.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_b56ab143f78d4b6fbbe0f1da41a0e4af","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___b56ab143f78d4b6fbbe0f1da41a0e4af\";vaInputs.__silent_Branch_b56ab143f78d4b6fbbe0f1da41a0e4af=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___b56ab143f78d4b6fbbe0f1da41a0e4af\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"b56ab143f78d4b6fbbe0f1da41a0e4af","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_928345857eca4555af54496e68223ba4","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___928345857eca4555af54496e68223ba4\";vaInputs.__silent_Branch_928345857eca4555af54496e68223ba4=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___928345857eca4555af54496e68223ba4\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"928345857eca4555af54496e68223ba4","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___928345857eca4555af54496e68223ba4\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___b56ab143f78d4b6fbbe0f1da41a0e4af\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_bdca122092d04b9bb585c05b24f293fe_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 10:00:38</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__0ccb7862bb340610d5389abdd962e6cc</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:00:38</sys_created_on><sys_domain>global</sys_domain><sys_id>cccb786247340610c2e1a3e7826d43cd</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__0ccb7862bb340610d5389abdd962e6cc</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_cccb786247340610c2e1a3e7826d43cd</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:00:38</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=cccb786247340610c2e1a3e7826d43cd"/></record_update>]]></payload>
<payload_hash>618834939</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>307c712647380610c2e1a3e7826d4337</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27cea7e90000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__0ccb7862bb340610d5389abdd962e6cc</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>84cb7862af340610aa75fed14a9410cf</update_guid>
<update_guid_history>84cb7862af340610aa75fed14a9410cf:618834939</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_0ac7f8ae47f00610c2e1a3e7826d4334</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__86c7f0aebef006107a0d6199d32ae329">4ac7f0ae47f00610c2e1a3e7826d432a</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:43:17</sys_created_on><sys_domain>global</sys_domain><sys_id>0ac7f8ae47f00610c2e1a3e7826d4334</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_0ac7f8ae47f00610c2e1a3e7826d4334</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:43:17</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>323876378</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>307c712647380610c2e1a3e7826d433a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bec6270000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>4ac7f8aee4f006103dd5e91e7b91c735</update_guid>
<update_guid_history>4ac7f8aee4f006103dd5e91e7b91c735:323876378</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_5900dda647740610c2e1a3e7826d4367</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__9100dda63874061078c139a66dbab061">5500dda647740610c2e1a3e7826d4362</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:29:12</sys_created_on><sys_domain>global</sys_domain><sys_id>5900dda647740610c2e1a3e7826d4367</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_5900dda647740610c2e1a3e7826d4367</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:29:12</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-173688194</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>307c712647380610c2e1a3e7826d433d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e281fbb7c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>9900dda69c740610f3530b13a3ab3768</update_guid>
<update_guid_history>9900dda69c740610f3530b13a3ab3768:-173688194</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_b0a6bd6e47f40610c2e1a3e7826d43e9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__2ca67daa2ef406100f4bc086f8cfe3d0">20a67daa47f40610c2e1a3e7826d43d2</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:17:54</sys_created_on><sys_domain>global</sys_domain><sys_id>b0a6bd6e47f40610c2e1a3e7826d43e9</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_b0a6bd6e47f40610c2e1a3e7826d43e9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:17:54</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-683549139</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>307c712647380610c2e1a3e7826d4340</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28ba31380000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>38a6bd6e76f40610d3940424e112c7ea</update_guid>
<update_guid_history>38a6bd6e76f40610d3940424e112c7ea:-683549139</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_nlu_intent_3f37fc6e47f00610c2e1a3e7826d43f7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_nlu_intent"><sys_nlu_intent action="INSERT_OR_UPDATE"><confidence_threshold>0.6</confidence_threshold><description/><enable>true</enable><model display_value="VA GPT">da27786e47f00610c2e1a3e7826d4339</model><name>Connect GPT</name><origin/><override_confidence_threshold>false</override_confidence_threshold><primary_intent/><status>draft</status><sys_class_name>sys_nlu_intent</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:40:57</sys_created_on><sys_id>3f37fc6e47f00610c2e1a3e7826d43f7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Connect GPT</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_nlu_intent_3f37fc6e47f00610c2e1a3e7826d43f7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:40:57</sys_updated_on></sys_nlu_intent></record_update>]]></payload>
<payload_hash>-741755685</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>307c712647380610c2e1a3e7826d4343</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bca2660000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>Connect GPT</target_name>
<type>NLU Intent</type>
<update_domain>global</update_domain>
<update_guid>b337fc6e60f00610c597ff2681c14afb</update_guid>
<update_guid_history>b337fc6e60f00610c597ff2681c14afb:-741755685</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_ui_message_6936702e47f00610c2e1a3e7826d4346</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_message"><sys_ui_message action="INSERT_OR_UPDATE"><application>Virtual Agent</application><code/><commented_message/><key>enter your query</key><language>en</language><message>Enter Your Query</message><sys_class_name>sys_ui_message</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:36:26</sys_created_on><sys_id>6936702e47f00610c2e1a3e7826d4346</sys_id><sys_mod_count>0</sys_mod_count><sys_name>enter your query</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_ui_message_6936702e47f00610c2e1a3e7826d4346</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:36:26</sys_updated_on></sys_ui_message></record_update>]]></payload>
<payload_hash>-1716810867</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>307c712647380610c2e1a3e7826d4346</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27b87e350000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>enter your query</target_name>
<type>Message</type>
<update_domain>global</update_domain>
<update_guid>ed36702e8af00610bafb718759e58647</update_guid>
<update_guid_history>ed36702e8af00610bafb718759e58647:-1716810867</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_8f1b75a247380610c2e1a3e7826d434e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__3e1b31a264380610d8f8701a7c64a749">fe1b31a247380610c2e1a3e7826d434a</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"62218b7529cd4abb974157765b9fe64c","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"62218b7529cd4abb974157765b9fe64c"}],"goals":[{"name":"primary","trigger_id":"62218b7529cd4abb974157765b9fe64c","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"b2935d79c82c47ed98cbdbbaaa9403db","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"719c30db210b4abfa41630ebbd4562e7","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"b2935d79c82c47ed98cbdbbaaa9403db","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"b2935d79c82c47ed98cbdbbaaa9403db"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"719c30db210b4abfa41630ebbd4562e7","id":"7e27041fde704dafa3c57c0df71d7044","name":"719c30db210b4abfa41630ebbd4562e7"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__3e1b31a264380610d8f8701a7c64a749","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__3e1b31a264380610d8f8701a7c64a749</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:37:27</sys_created_on><sys_domain>global</sys_domain><sys_id>8f1b75a247380610c2e1a3e7826d434e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_8f1b75a247380610c2e1a3e7826d434e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:37:27</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-1524483424</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>347c712647380610c2e1a3e7826d4327</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28cc16450000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>cf1b75a226380610cfe7416c0913ce4f</update_guid>
<update_guid_history>cf1b75a226380610cfe7416c0913ce4f:-1524483424</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_c610fd6647f40610c2e1a3e7826d43bf</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__b510fd66bcf406105adb4828d4e4e4bb">7910fd6647f40610c2e1a3e7826d43bc</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"775e6ebbc0f349979cd7b30c16bdfed8","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"775e6ebbc0f349979cd7b30c16bdfed8"}],"goals":[{"name":"primary","trigger_id":"775e6ebbc0f349979cd7b30c16bdfed8","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"071111fa697c43cabb242df6bc43c610","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"11a117cda78c47abb77d3c707465453b","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"071111fa697c43cabb242df6bc43c610","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"071111fa697c43cabb242df6bc43c610"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"11a117cda78c47abb77d3c707465453b","id":"7e27041fde704dafa3c57c0df71d7044","name":"11a117cda78c47abb77d3c707465453b"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__b510fd66bcf406105adb4828d4e4e4bb","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__b510fd66bcf406105adb4828d4e4e4bb</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:49:19</sys_created_on><sys_domain>global</sys_domain><sys_id>c610fd6647f40610c2e1a3e7826d43bf</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_c610fd6647f40610c2e1a3e7826d43bf</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:49:19</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-211210097</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>347c712647380610c2e1a3e7826d432a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28a0056b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>0a10fd66c2f40610795ff8c71cdb4cc0</update_guid>
<update_guid_history>0a10fd66c2f40610795ff8c71cdb4cc0:-211210097</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_topic_d6bfd8e247b00610c2e1a3e7826d4367</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_topic"><sys_cb_topic action="INSERT_OR_UPDATE"><applicability/><applicability_mode>query</applicability_mode><autopilot_topic>false</autopilot_topic><category/><channels/><connect_queue/><description/><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "a1f501f41a974866b3bda69f922f4680": {
          "id": "a1f501f41a974866b3bda69f922f4680",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "type": "String",
              "value": "",
              "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
              "name": "Request",
              "required": true,
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "1dc4bbfc8f5d4a2fbb244a5e87254429"
          ]
        },
        "5115d1d54b7a4c0c8e2f5717958b3157": {
          "id": "5115d1d54b7a4c0c8e2f5717958b3157",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "Output",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Output}}",
                        "displayValue": "Script Variables➛Output"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": false
            }
          ]
        },
        "27d00bf90d7249c9abffba1e26630355": {
          "id": "27d00bf90d7249c9abffba1e26630355",
          "name": "Continue Conversation",
          "script": "(function execute() {\n\n    var request = vaInputs.request.toString();\n    var payload = '[' + request + ']'\n\n\n    try {\n        var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n        r.setStringParameterNoEscape('payload', payload);\n\n        var response = r.execute();\n        var responseBody = response.getBody();\n        var httpStatus = response.getStatusCode();\n        var parsedBody = JSON.parse(responseBody);\n        var output = parsedBody.choices[0].message.content;\n        vaVars.Output = output.trim();\n        // vaVars.Output = httpStatus.toString();\n\n\n    }\n    catch (ex) {\n        var message = ex.message;\n        vaVars.Output = 'failure: ' + JSON.stringify(ex);\n    }\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "49019a82541540bc840400911ef7a030",
          "edgeType": "Edge",
          "source": "27d00bf90d7249c9abffba1e26630355",
          "target": "5115d1d54b7a4c0c8e2f5717958b3157",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7478d668356e446ab58435013b64513e",
          "edgeType": "Edge",
          "source": "a1f501f41a974866b3bda69f922f4680",
          "target": "27d00bf90d7249c9abffba1e26630355",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "07ca374af3e94217bfa05558977275c1": {
      "id": "07ca374af3e94217bfa05558977275c1",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Output",
      "label": "Output",
      "varType": "script",
      "category": "vaVars"
    },
    "1dc4bbfc8f5d4a2fbb244a5e87254429": {
      "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
      "name": "request",
      "label": "Request",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "a1f501f41a974866b3bda69f922f4680",
      "isHidden": false
    }
  }
}</graph><key_phrases/><library>true</library><live_agent>false</live_agent><name>ChatGPT - Topic Block</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><roles/><root_topic_id/><secure_custom_input_control>false</secure_custom_input_control><source_topic_id/><sys_class_name>sys_cb_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 07:58:10</sys_created_on><sys_domain>global</sys_domain><sys_id>d6bfd8e247b00610c2e1a3e7826d4367</sys_id><sys_mod_count>45</sys_mod_count><sys_name>ChatGPT - Topic Block</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_topic_d6bfd8e247b00610c2e1a3e7826d4367</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:36:19</sys_updated_on><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type></sys_cb_topic></record_update>]]></payload>
<payload_hash>-148230508</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>347c712647380610c2e1a3e7826d432d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28cb0bd90000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>ChatGPT - Topic Block</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>96da31a2363806109ea930245780e4a3</update_guid>
<update_guid_history>96da31a2363806109ea930245780e4a3:-148230508,114af1ae90f40610e810e7afb958324e:-45768694,1f07fd6efbf40610a78d6e1fb8e41b5d:-2046044033,7976f56eabf4061022521e974cd58224:1605547621,0a16392e7df406101b3c5477f1a517f0:-314822629,0ae5352e49f40610ca66219b1d9ee535:-1326637482,dd85792eebf40610c7e69eea6d473114:-602991355,c355752ec4f40610224c0cbdcafd28df:-1141936008,6035752e58f4061051257424917a1a8b:-691622717,7b23756a69f406104de3aa16849302f0:-1092382436,e760fd66c1f40610511dd51776f28d9a:1756009023,cb5fa5a62ef406100d933cde800c775d:-1703743455,58fea1668ff406101bb7db063dc71744:-971454405,32de696684f4061065bb35a3cab4269b:-1469194993,e5ae6966def40610aba3a0c60b10d297:-2031634993,0e7ea5664ff4061010f5328d090ef487:-971454405,633e652603f406108559b167ebcf4ba1:1732744013,680ee1266af40610745c6068175d768b:-1415306838,8c9deda23ef40610e776a97a30261849:-718158615,cc5d6de2cff406107cf5ff615adec645:-1755805210,2979552235b40610e4b4643881de2a01:-950285377,b8195dee5f740610199acc6c80de8ca5:-1213657349,87d815ee5874061030dc108b28cbe754:-39474241,a978d9aedb740610d2b4d1a91d50db59:116364557,3f58d9aea974061028f7029e9995982d:-226613624,09d7992ecc74061073f9dab58e1c57b4:-947535766,ce67992eab7406103ae215a4ed8f95b0:1316956219,2e36992e9774061018b66fd54cb257e0:1298352636,67f5956ab47406104a53164c8931f2dd:-1613567471,f575992ee47406104c5edf4a5bf095aa:-1145313877,c6a499eaa574061075e04108d97ee9dc:-1724730197,af0e8d26d5740610fae85923c7d0cdd8:1390590034,1fa570aec7b006105bec4d8bc593199b:-1442263677,8295bcae5ab00610a56683f3f33260d7:989456810,a194fc6ad7f0061013242373e4801834:240080766,e419a4aed1b0061075ab275f6f81a066:-1420742500,82c864ae89b00610dff85d4aeb92455f:-473203439,d9c8ec6edab00610fca531e06ef929d9:-725373556,1068ac6e62b00610439eb5be49cd47e9:177935263,7ae7602abab00610b6c9aaa84b422e15:1975843906,feb5e82a37b00610de9c9083d3072c3b:-522809843,801520a626b00610b57b6af3c65981b9:-858263589,d6e4e82a6bb006106e0c1304d7456338:788910447,e9e06466e8b00610c41c8b4148305ee0:-1942588135,74ff5426eab00610e24a1cbce0a903b3:-522809843,1abfd8e24eb006105cdba06e5e941869:-763312790</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_3fe738ae47f00610c2e1a3e7826d431f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__6be738aed2f006101da25884a1ff4c1e","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__6be738aed2f006101da25884a1ff4c1e","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation_JSON","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_2a10237ef8554955a6fe02141f4dd9b9_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_7be738ae2ff00610cffb52ca047c891f","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_8f909020898641e188453e1fb831756f","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_cf190ff193e34072ac929aba09a996c9","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_3be738ae82f0061079eb39c5aca5781f","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_f7e738ae60f00610fc1a9a3df50cdc1f","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_2a10237ef8554955a6fe02141f4dd9b9_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_7be738ae2ff00610cffb52ca047c891f\");vaInputs.initialize(\"__silent_Branch_8f909020898641e188453e1fb831756f\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_3be738ae82f0061079eb39c5aca5781f\");vaInputs.initialize(\"__silent_Decision_RootDecision_f7e738ae60f00610fc1a9a3df50cdc1f\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d\");vaInputs.initialize(\"__silent_Branch_cf190ff193e34072ac929aba09a996c9\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");null;","fields":[{"name":"__silent_Decision_RootDecision_f7e738ae60f00610fc1a9a3df50cdc1f","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_f7e738ae60f00610fc1a9a3df50cdc1f\";vaInputs.__silent_Decision_RootDecision_f7e738ae60f00610fc1a9a3df50cdc1f=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_f7e738ae60f00610fc1a9a3df50cdc1f\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_7be738ae2ff00610cffb52ca047c891f=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_3be738ae82f0061079eb39c5aca5781f.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_f7e738ae60f00610fc1a9a3df50cdc1f","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_3be738ae82f0061079eb39c5aca5781f","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_3be738ae82f0061079eb39c5aca5781f","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_f7e738ae60f00610fc1a9a3df50cdc1f\" &amp;&amp; ((vaInputs.RootDecisionBranch_7be738ae2ff00610cffb52ca047c891f.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_3be738ae82f0061079eb39c5aca5781f___RootDecisionBranch_3be738ae82f0061079eb39c5aca5781f\";vaInputs.__silent_Branch_RootDecisionBranch_3be738ae82f0061079eb39c5aca5781f=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_3be738ae82f0061079eb39c5aca5781f___RootDecisionBranch_3be738ae82f0061079eb39c5aca5781f\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_3be738ae82f0061079eb39c5aca5781f","node_name":"RootDecisionBranch_3be738ae82f0061079eb39c5aca5781f","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_3be738ae82f0061079eb39c5aca5781f___RootDecisionBranch_3be738ae82f0061079eb39c5aca5781f\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_3be738ae82f0061079eb39c5aca5781f"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\";(function execute() {(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    if (orignal_obj.length &gt; 0) {\n        message.push(orignal_obj);   // push initial or old data if exists\n    }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    if (gpt_response.length &gt; 0) {\n        var new_assistant_obj = {\n            \"role\": \"assistant\",\n            \"content\": gpt_response\n        };\n        message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    }\n\n    vaVars.Request = message.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"778b69bb03ad4167a9a7a1246ade5a8d","node_name":"Parse Data Into 1 JSON","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data Into 1 JSON"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.choice.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Choice","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_8f909020898641e188453e1fb831756f.reset();})();(function() {vaInputs.__silent_Branch_cf190ff193e34072ac929aba09a996c9.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Print Response"],"next_node":"Decision","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_8f909020898641e188453e1fb831756f.reset();})();(function() {vaInputs.__silent_Branch_cf190ff193e34072ac929aba09a996c9.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_8f909020898641e188453e1fb831756f","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___8f909020898641e188453e1fb831756f\";vaInputs.__silent_Branch_8f909020898641e188453e1fb831756f=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___8f909020898641e188453e1fb831756f\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"8f909020898641e188453e1fb831756f","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_cf190ff193e34072ac929aba09a996c9","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___cf190ff193e34072ac929aba09a996c9\";vaInputs.__silent_Branch_cf190ff193e34072ac929aba09a996c9=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___cf190ff193e34072ac929aba09a996c9\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"cf190ff193e34072ac929aba09a996c9","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___cf190ff193e34072ac929aba09a996c9\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data Into 1 JSON","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___8f909020898641e188453e1fb831756f\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_2a10237ef8554955a6fe02141f4dd9b9_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 09:43:57</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__6be738aed2f006101da25884a1ff4c1e</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:43:57</sys_created_on><sys_domain>global</sys_domain><sys_id>3fe738ae47f00610c2e1a3e7826d431f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__6be738aed2f006101da25884a1ff4c1e</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_3fe738ae47f00610c2e1a3e7826d431f</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:43:57</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=3fe738ae47f00610c2e1a3e7826d431f"/></record_update>]]></payload>
<payload_hash>-1177514021</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>347c712647380610c2e1a3e7826d4330</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bf62560000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__6be738aed2f006101da25884a1ff4c1e</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>bfe7bcaee5f00610c147bdb2bf8a7533</update_guid>
<update_guid_history>bfe7bcaee5f00610c147bdb2bf8a7533:-1177514021</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_7866d16e47740610c2e1a3e7826d43d2</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__7466d16e267406102015a420aa2a16d1","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__7466d16e267406102015a420aa2a16d1","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_0e4a5fd5b7d34a86be25ce6c90020b08_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_b466d16ef07406101986da5bd9517ad2","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_7466d16ef5740610b73f77364bdf7ad2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_3466d16e9c740610e75b4afc246600d2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_af4c3db849364c80b812f954114db236","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_1ff8607803f84188945657bb85b3312f","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_0e4a5fd5b7d34a86be25ce6c90020b08_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_b466d16ef07406101986da5bd9517ad2\");vaInputs.initialize(\"__silent_Branch_af4c3db849364c80b812f954114db236\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_7466d16ef5740610b73f77364bdf7ad2\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Branch_1ff8607803f84188945657bb85b3312f\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Decision_RootDecision_3466d16e9c740610e75b4afc246600d2\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_3466d16e9c740610e75b4afc246600d2","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_3466d16e9c740610e75b4afc246600d2\";vaInputs.__silent_Decision_RootDecision_3466d16e9c740610e75b4afc246600d2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_3466d16e9c740610e75b4afc246600d2\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_b466d16ef07406101986da5bd9517ad2=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_7466d16ef5740610b73f77364bdf7ad2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_3466d16e9c740610e75b4afc246600d2","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_7466d16ef5740610b73f77364bdf7ad2","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_7466d16ef5740610b73f77364bdf7ad2","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_3466d16e9c740610e75b4afc246600d2\" &amp;&amp; ((vaInputs.RootDecisionBranch_b466d16ef07406101986da5bd9517ad2.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_7466d16ef5740610b73f77364bdf7ad2___RootDecisionBranch_7466d16ef5740610b73f77364bdf7ad2\";vaInputs.__silent_Branch_RootDecisionBranch_7466d16ef5740610b73f77364bdf7ad2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_7466d16ef5740610b73f77364bdf7ad2___RootDecisionBranch_7466d16ef5740610b73f77364bdf7ad2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_7466d16ef5740610b73f77364bdf7ad2","node_name":"RootDecisionBranch_7466d16ef5740610b73f77364bdf7ad2","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_7466d16ef5740610b73f77364bdf7ad2___RootDecisionBranch_7466d16ef5740610b73f77364bdf7ad2\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_7466d16ef5740610b73f77364bdf7ad2"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_1ff8607803f84188945657bb85b3312f.reset();})();(function() {vaInputs.__silent_Branch_af4c3db849364c80b812f954114db236.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_1ff8607803f84188945657bb85b3312f.reset();})();(function() {vaInputs.__silent_Branch_af4c3db849364c80b812f954114db236.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_1ff8607803f84188945657bb85b3312f","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___1ff8607803f84188945657bb85b3312f\";vaInputs.__silent_Branch_1ff8607803f84188945657bb85b3312f=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___1ff8607803f84188945657bb85b3312f\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"1ff8607803f84188945657bb85b3312f","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_af4c3db849364c80b812f954114db236","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___af4c3db849364c80b812f954114db236\";vaInputs.__silent_Branch_af4c3db849364c80b812f954114db236=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___af4c3db849364c80b812f954114db236\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"af4c3db849364c80b812f954114db236","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___af4c3db849364c80b812f954114db236\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___1ff8607803f84188945657bb85b3312f\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_0e4a5fd5b7d34a86be25ce6c90020b08_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 11:57:01</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__7466d16e267406102015a420aa2a16d1</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:57:01</sys_created_on><sys_domain>global</sys_domain><sys_id>7866d16e47740610c2e1a3e7826d43d2</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__7466d16e267406102015a420aa2a16d1</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_7866d16e47740610c2e1a3e7826d43d2</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:57:01</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=7866d16e47740610c2e1a3e7826d43d2"/></record_update>]]></payload>
<payload_hash>-967360154</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>347c712647380610c2e1a3e7826d4333</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e283934610000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__7466d16e267406102015a420aa2a16d1</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>3066d16ec874061026beba60235c59d4</update_guid>
<update_guid_history>3066d16ec874061026beba60235c59d4:-967360154</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_b2db89ee47340610c2e1a3e7826d43b1</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__eedb89eec434061083aa90ac33d18faf","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__eedb89eec434061083aa90ac33d18faf","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_d51ce951626444e09f21794d44d6c390_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_fedb89eeb3340610e80f90de24a58bb0","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_8feca22aef014f02a1f3b2f2ac61bde3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_bedb89eec53406107db183c08cb005b0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_32465665ba4e4f4d87881592d702b0db","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_7edb89eed53406104ac1e741ef0e63b0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_d51ce951626444e09f21794d44d6c390_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_fedb89eeb3340610e80f90de24a58bb0\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_bedb89eec53406107db183c08cb005b0\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Decision_RootDecision_7edb89eed53406104ac1e741ef0e63b0\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Branch_32465665ba4e4f4d87881592d702b0db\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Branch_8feca22aef014f02a1f3b2f2ac61bde3\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");null;","fields":[{"name":"__silent_Decision_RootDecision_7edb89eed53406104ac1e741ef0e63b0","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_7edb89eed53406104ac1e741ef0e63b0\";vaInputs.__silent_Decision_RootDecision_7edb89eed53406104ac1e741ef0e63b0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_7edb89eed53406104ac1e741ef0e63b0\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_fedb89eeb3340610e80f90de24a58bb0=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_bedb89eec53406107db183c08cb005b0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_7edb89eed53406104ac1e741ef0e63b0","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_bedb89eec53406107db183c08cb005b0","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_bedb89eec53406107db183c08cb005b0","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_7edb89eed53406104ac1e741ef0e63b0\" &amp;&amp; ((vaInputs.RootDecisionBranch_fedb89eeb3340610e80f90de24a58bb0.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_bedb89eec53406107db183c08cb005b0___RootDecisionBranch_bedb89eec53406107db183c08cb005b0\";vaInputs.__silent_Branch_RootDecisionBranch_bedb89eec53406107db183c08cb005b0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_bedb89eec53406107db183c08cb005b0___RootDecisionBranch_bedb89eec53406107db183c08cb005b0\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_bedb89eec53406107db183c08cb005b0","node_name":"RootDecisionBranch_bedb89eec53406107db183c08cb005b0","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_bedb89eec53406107db183c08cb005b0___RootDecisionBranch_bedb89eec53406107db183c08cb005b0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_bedb89eec53406107db183c08cb005b0"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_8feca22aef014f02a1f3b2f2ac61bde3.reset();})();(function() {vaInputs.__silent_Branch_32465665ba4e4f4d87881592d702b0db.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_8feca22aef014f02a1f3b2f2ac61bde3.reset();})();(function() {vaInputs.__silent_Branch_32465665ba4e4f4d87881592d702b0db.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_8feca22aef014f02a1f3b2f2ac61bde3","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___8feca22aef014f02a1f3b2f2ac61bde3\";vaInputs.__silent_Branch_8feca22aef014f02a1f3b2f2ac61bde3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___8feca22aef014f02a1f3b2f2ac61bde3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"8feca22aef014f02a1f3b2f2ac61bde3","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_32465665ba4e4f4d87881592d702b0db","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___32465665ba4e4f4d87881592d702b0db\";vaInputs.__silent_Branch_32465665ba4e4f4d87881592d702b0db=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___32465665ba4e4f4d87881592d702b0db\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"32465665ba4e4f4d87881592d702b0db","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___32465665ba4e4f4d87881592d702b0db\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___8feca22aef014f02a1f3b2f2ac61bde3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_d51ce951626444e09f21794d44d6c390_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 11:10:59</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__eedb89eec434061083aa90ac33d18faf</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:10:59</sys_created_on><sys_domain>global</sys_domain><sys_id>b2db89ee47340610c2e1a3e7826d43b1</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__eedb89eec434061083aa90ac33d18faf</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_b2db89ee47340610c2e1a3e7826d43b1</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:10:59</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=b2db89ee47340610c2e1a3e7826d43b1"/></record_update>]]></payload>
<payload_hash>-1011307624</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>347c712647380610c2e1a3e7826d4336</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e280f12810000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__eedb89eec434061083aa90ac33d18faf</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>7adb89ee6d340610d8e169d83199edb2</update_guid>
<update_guid_history>7adb89ee6d340610d8e169d83199edb2:-1011307624</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_f616bdea47f40610c2e1a3e7826d43c7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT - Topic Block">d6bfd8e247b00610c2e1a3e7826d4367</cb_topic_id><channels/><definition>{"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__3616bdea01f40610a8c0d22482620ac6","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__3616bdea01f40610a8c0d22482620ac6","applicability":"true","categories":[],"key_phrases":[],"variables":[{"name":"Output","type":"java.lang.Object"},{"name":"_reusable_topic_outputs_var","type":"java.lang.Object","init_value":"(function execute() {return JSON.stringify({\"populated\":false,\"values\":{\"output\":\"\"}})})()"},{"name":"__segment_trigger_0ffbf013bb684abd999a5911f3d89f81_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"request","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_f216bdea02f40610237cb1038f9107c7","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Decision_RootDecision_7216bdeafff406109b92eab36e9d2bc7","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_b216bdea0cf406101a20b3a62d7c13c7","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_0ffbf013bb684abd999a5911f3d89f81_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_f216bdea02f40610237cb1038f9107c7\");vaInputs.initialize(\"__silent_Decision_RootDecision_7216bdeafff406109b92eab36e9d2bc7\");vaInputs.initialize(\"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_b216bdea0cf406101a20b3a62d7c13c7\");vaInputs.initialize(\"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157\");vaInputs.initialize(\"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355\");vaInputs.initialize(\"request\");vaInputs.request=JSON.parse('\"\"');null;","fields":[{"name":"__silent_Decision_RootDecision_7216bdeafff406109b92eab36e9d2bc7","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_7216bdeafff406109b92eab36e9d2bc7\";vaInputs.__silent_Decision_RootDecision_7216bdeafff406109b92eab36e9d2bc7=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_7216bdeafff406109b92eab36e9d2bc7\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_f216bdea02f40610237cb1038f9107c7=true;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_7216bdeafff406109b92eab36e9d2bc7","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_b216bdea0cf406101a20b3a62d7c13c7","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_b216bdea0cf406101a20b3a62d7c13c7","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_7216bdeafff406109b92eab36e9d2bc7\" &amp;&amp; ((vaInputs.RootDecisionBranch_f216bdea02f40610237cb1038f9107c7.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_b216bdea0cf406101a20b3a62d7c13c7___RootDecisionBranch_b216bdea0cf406101a20b3a62d7c13c7\";vaInputs.__silent_Branch_RootDecisionBranch_b216bdea0cf406101a20b3a62d7c13c7=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_b216bdea0cf406101a20b3a62d7c13c7___RootDecisionBranch_b216bdea0cf406101a20b3a62d7c13c7\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_b216bdea0cf406101a20b3a62d7c13c7","node_name":"RootDecisionBranch_b216bdea0cf406101a20b3a62d7c13c7","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_b216bdea0cf406101a20b3a62d7c13c7___RootDecisionBranch_b216bdea0cf406101a20b3a62d7c13c7\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";vaInputs.__silent_StartGoal_a1f501f41a974866b3bda69f922f4680=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"a1f501f41a974866b3bda69f922f4680","node_name":"Start","predecessor_nodes":["RootDecisionBranch_b216bdea0cf406101a20b3a62d7c13c7"],"next_node":"Continue Conversation","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","applicable":"vaVars.previous_graph_node==\"Start___a1f501f41a974866b3bda69f922f4680\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";(function execute() {(function execute() {\n\n// var request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', '[{ \"role\": \"user\", \"content\": \"Tell me about React JS\" }]');\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n vaVars.Output = httpStatus.toString();\n gs.info('36358 - '+JSON.stringify(responseBody));\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = 'failure: '+ JSON.stringify(ex);\n}\n\n})()\n;})();vaInputs.__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"27d00bf90d7249c9abffba1e26630355","node_name":"Continue Conversation","predecessor_nodes":["Start"],"next_node":"End","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","applicable":"vaVars.previous_graph_node==\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";vaInputs.__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";var ackMsg=null;ackMsg=null;(function execute() {var tmp={values:{}};tmp.values.output=vaVars.Output;tmp.populated=true;vaVars._reusable_topic_outputs_var=JSON.stringify(tmp);})();vaVars.__segment_trigger_0ffbf013bb684abd999a5911f3d89f81_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"5115d1d54b7a4c0c8e2f5717958b3157","node_name":"End","predecessor_nodes":["Continue Conversation"],"node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[],"confirmation_msg":"gs.getMessageLang('[PREVIEW ONLY] The topic return values are: {0}', vaContext.getRequesterLang(), JSON.stringify(JSON.parse(vaVars._reusable_topic_outputs_var).values));"}],"roles":[],"active":true,"published":false,"library":true,"expose_on_palette":false,"palette_label":"ChatGPT - Topic Block","flexible_conversation_switching":true,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"TOPIC_BLOCK","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT - Topic Block","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases/><last_published_on>2024-03-10 14:15:35</last_published_on><library>true</library><library_usage>{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","mode":"string","value":"{{vaVars.Output}}"}}]}</library_usage><metaphone/><name>_PRVW__3616bdea01f40610a8c0d22482620ac6</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label>ChatGPT - Topic Block</palette_label><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:15:35</sys_created_on><sys_domain>global</sys_domain><sys_id>f616bdea47f40610c2e1a3e7826d43c7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__3616bdea01f40610a8c0d22482620ac6</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_f616bdea47f40610c2e1a3e7826d43c7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:15:35</sys_updated_on><title>ChatGPT - Topic Block</title><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=f616bdea47f40610c2e1a3e7826d43c7"/></record_update>]]></payload>
<payload_hash>680895639</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>347c712647380610c2e1a3e7826d4339</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28b813380000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__3616bdea01f40610a8c0d22482620ac6</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>be16bdea9ff4061072f4b0d36e7fd4c8</update_guid>
<update_guid_history>be16bdea9ff4061072f4b0d36e7fd4c8:680895639</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_466745ae47340610c2e1a3e7826d431b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__ce67cd6e0134061052c41bc2287519fa">8267cd6e47340610c2e1a3e7826d43fc</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:51:34</sys_created_on><sys_domain>global</sys_domain><sys_id>466745ae47340610c2e1a3e7826d431b</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_466745ae47340610c2e1a3e7826d431b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:51:34</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>1038941640</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>347c712647380610c2e1a3e7826d433c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27fd49010000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>866745ae483406104c8193111623371c</update_guid>
<update_guid_history>866745ae483406104c8193111623371c:1038941640</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_9217cd6e47340610c2e1a3e7826d43b6</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__8a178d6a5f34061092b4453cad651a0c">5e178d6a47340610c2e1a3e7826d430d</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:50:13</sys_created_on><sys_domain>global</sys_domain><sys_id>9217cd6e47340610c2e1a3e7826d43b6</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_9217cd6e47340610c2e1a3e7826d43b6</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:50:13</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-1848739840</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>347c712647380610c2e1a3e7826d433f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27fc0ab10000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>d217cd6e443406108155ffca6a86dcb7</update_guid>
<update_guid_history>d217cd6e443406108155ffca6a86dcb7:-1848739840</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_ef9a742247340610c2e1a3e7826d4329</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__1b9a7422e7340610703cfe58e5910223">db9a742247340610c2e1a3e7826d4324</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:55:40</sys_created_on><sys_domain>global</sys_domain><sys_id>ef9a742247340610c2e1a3e7826d4329</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_ef9a742247340610c2e1a3e7826d4329</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:55:40</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>357073014</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>347c712647380610c2e1a3e7826d4342</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27ca1d2f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>239a7422af340610806e1a5937be422b</update_guid>
<update_guid_history>239a7422af340610806e1a5937be422b:357073014</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_parameters_f65781d793ff3110ebfe3f018bba1026</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn_parameters"><sys_rest_message_fn_parameters action="INSERT_OR_UPDATE"><name>payload</name><rest_message_function display_value="ChatGPT- Get Answers">db26c51b93ff3110ebfe3f018bba104e</rest_message_function><sys_class_name>sys_rest_message_fn_parameters</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-01-23 01:44:00</sys_created_on><sys_id>f65781d793ff3110ebfe3f018bba1026</sys_id><sys_mod_count>4</sys_mod_count><sys_name>payload</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_rest_message_fn_parameters_f65781d793ff3110ebfe3f018bba1026</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:38:06</sys_updated_on><type>string</type><value>[{"role": "user", "content": "Tell me about React JS"}]</value></sys_rest_message_fn_parameters></record_update>]]></payload>
<payload_hash>-1440532472</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>347c712647380610c2e1a3e7826d4345</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2827e33c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>payload</target_name>
<type>Variable Substitutions</type>
<update_domain>global</update_domain>
<update_guid>7302516ad37406100c0d6d87d5693957</update_guid>
<update_guid_history>7302516ad37406100c0d6d87d5693957:-1440532472,465155a613740610f3cc85ec6e5114d5:-798759980,378059e6d87406109524b59580bd45df:-1560549933,ef67c11be6ff31105d4309a1f94d7746:963434219,7a57895b32ff3110cd17d873fab4f5f7:-1420545435</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_868b78a247340610c2e1a3e7826d4357</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__0e8b78ee89f006105e0314f557b1ccf4">0a8b78a247340610c2e1a3e7826d4354</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"04099fd67283471697de2386e07613d7","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"04099fd67283471697de2386e07613d7"}],"goals":[{"name":"primary","trigger_id":"04099fd67283471697de2386e07613d7","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"d8d3a6e08953440c8fc331233ac51fca","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"1022e7cdbdc9410f8577b590717a7de0","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\nvar input = vaInputs.enter_your_query;\n\nvar output = {\n    \"role\" :\"user\",\n    \"content\":input\n};\n\nvaVars.Request  = JSON.stringify(output);\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"d8d3a6e08953440c8fc331233ac51fca","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"d8d3a6e08953440c8fc331233ac51fca"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"1022e7cdbdc9410f8577b590717a7de0","id":"7e27041fde704dafa3c57c0df71d7044","name":"1022e7cdbdc9410f8577b590717a7de0"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation_JSON","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__0e8b78ee89f006105e0314f557b1ccf4","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\nvar input = vaInputs.enter_your_query;\n\nvar output = {\n    \"role\" :\"user\",\n    \"content\":input\n};\n\nvaVars.Request  = JSON.stringify(output);\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation_JSON",
      "label": "Continue_Conversation_JSON",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__0e8b78ee89f006105e0314f557b1ccf4</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:59:41</sys_created_on><sys_domain>global</sys_domain><sys_id>868b78a247340610c2e1a3e7826d4357</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_868b78a247340610c2e1a3e7826d4357</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:59:41</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>497811322</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>387c712647380610c2e1a3e7826d4326</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27cdc7d20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>c68b78a2b3340610b2e3673464f02158</update_guid>
<update_guid_history>c68b78a2b3340610b2e3673464f02158:497811322</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_bbfa500e47f08210c2e1a3e7826d4311</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="Connect GPT New">2bfa500e47f08210c2e1a3e7826d430b</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"929f076abdfd4fae96ef11ced795c47f","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"929f076abdfd4fae96ef11ced795c47f"}],"goals":[{"name":"primary","trigger_id":"929f076abdfd4fae96ef11ced795c47f","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"56fbdbc6138a4ed19980c4a249197957","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"b3b1961786b94490bafb78d2e645c29d","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGTP- Get Answers');\n r.setStringParameterNoEscape('question', 'Tell me about ServiceNow');\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n var parsedBody = JSON.parse(responseBody);\n var output = parsedBody.choices[0].message.content;\n vaVars.output = output;\n}\ncatch(ex) {\n var message = ex.message;\n}\n})()\n","id":"62e3b8c1757949b9a0d654c13e9f51f1","name":"Get Info From ChatGPT","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"New Conversation","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"is_this_a_new_conversation=true"},"id":"5a6a53be8c604d7abd95a8004ece618d","name":"New Conversation"},{"type":"Branch","type":"Branch","label":"Continue Conversation","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"is_this_a_new_conversation=^original_responseISNOTEMPTY"},"id":"855029c37fe1401382b5e180da4b8bb1","name":"Continue Conversation"}],"id":"e735aa7dbd9542d5b977e4d6129db441","goal_id":"primary"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","id":"5105914442fd4ff3ba62e74649985218","name":"ImplicitEnd__3436fc4fb8b74fe7aa7b7e721ac5bb9e"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"a2fb9bfebe3c4184bf4be9cac6358a7e","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Set by NLU\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"9492190747014af2b21435f6f14c7e51","name":"Is this a new conversation","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function() { return false; })()"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"var og_question = vaInputs.original_question;  // original question\nvar og_response = vaInputs.original_response;  // original response\nvar new_question = vaInputs.new_question;      // new question\n\ntry {\n    var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT : Continue Conversation');\n    r.setStringParameterNoEscape('Original Question', og_question);\n    r.setStringParameterNoEscape('Response_Received', og_response);\n    r.setStringParameterNoEscape('New Question', new_question);\n\n    var response = r.execute();\n    var responseBody = response.getBody();\n    var httpStatus = response.getStatusCode();\n    var parsedBody = JSON.parse(responseBody);\n    var output = parsedBody.choices[0].message.content;\n    vaVars.output = output;\n\n}\ncatch (ex) {\n    var message = ex.message;\n}","id":"9b40f7ce94044584ad925e1b47290b79","name":"Continue Conversation","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"7a9f6fb369eb4e4b88e521b80c8f9dfa","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Set by NLU\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"7e0ed375a799435aa52082e3c240b5d4","name":"Original Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function() { return false; })()"},"formatType":"Text","validationScript":""},{"type":"InputPrompt","type":"InputPrompt","variable_id":"331e465894be4961b669fddae07029e7","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Set by NLU\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"8132283ca016498182395d1600f33749","name":"New Question","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function() { return false; })()"},"formatType":"Text","validationScript":""},{"type":"InputPrompt","type":"InputPrompt","variable_id":"095980a35c5549ebb9dea422317f6e5e","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Set by NLU\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"5cffbd091d7f47568b64133d04b2bda5","name":"Original Question","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function() { return false; })()"},"formatType":"Text","validationScript":""},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\nvar data = vaInputs.is_this_a_new_conversation.toString();\n\n})()\n","id":"734f53e75917431eb7a83b27bb878f00","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"62e3b8c1757949b9a0d654c13e9f51f1","target_node_id":"b3b1961786b94490bafb78d2e645c29d","id":"a6d1521a3d2549ddb4f255b047efa528"},{"type":"Edge","source_node_id":"e735aa7dbd9542d5b977e4d6129db441","target_node_id":"62e3b8c1757949b9a0d654c13e9f51f1","branch_id":"5a6a53be8c604d7abd95a8004ece618d","id":"03a5ee50b8d44c91bdf4fa5eb2515b7b","name":"5a6a53be8c604d7abd95a8004ece618d"},{"type":"Edge","source_node_id":"e735aa7dbd9542d5b977e4d6129db441","target_node_id":"9b40f7ce94044584ad925e1b47290b79","branch_id":"855029c37fe1401382b5e180da4b8bb1","id":"b636a38c8058458983b8202131387749","name":"855029c37fe1401382b5e180da4b8bb1"},{"type":"Edge","source_node_id":"9b40f7ce94044584ad925e1b47290b79","target_node_id":"5105914442fd4ff3ba62e74649985218","id":"c0a55b2082e945da91b80e6858d3003c"},{"type":"Edge","source_node_id":"7e0ed375a799435aa52082e3c240b5d4","target_node_id":"9492190747014af2b21435f6f14c7e51","id":"e9240f976ab7413aa6feb7ab7a3817b0"},{"type":"Edge","source_node_id":"8132283ca016498182395d1600f33749","target_node_id":"7e0ed375a799435aa52082e3c240b5d4","id":"8467daa79fe14688bfec7bb4e5238581"},{"type":"Edge","source_node_id":"56fbdbc6138a4ed19980c4a249197957","target_node_id":"5cffbd091d7f47568b64133d04b2bda5","id":"3af83b0502e947918e3ace8933e35247"},{"type":"Edge","source_node_id":"5cffbd091d7f47568b64133d04b2bda5","target_node_id":"8132283ca016498182395d1600f33749","id":"d13f2f22e25446b58775ceb94334043d"},{"type":"Edge","source_node_id":"9492190747014af2b21435f6f14c7e51","target_node_id":"734f53e75917431eb7a83b27bb878f00","id":"59cb464bab1f48678de0be5bf0e348b9"},{"type":"Edge","source_node_id":"734f53e75917431eb7a83b27bb878f00","target_node_id":"e735aa7dbd9542d5b977e4d6129db441","id":"f5462f007c8a41eaba3d1e8f2b9dd72c"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"output","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"84c7baba11f545fdad1e096d4d2186ef","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"True/False","type":"True/False","id":"a2fb9bfebe3c4184bf4be9cac6358a7e","name":"is_this_a_new_conversation","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"original_response","list":false,"id":"7a9f6fb369eb4e4b88e521b80c8f9dfa","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"new_question","list":false,"id":"331e465894be4961b669fddae07029e7","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"original_question","list":false,"id":"095980a35c5549ebb9dea422317f6e5e","formatType":"text","secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","library-usage":{"type":"Library","input-parameters":[],"return-values-mapping":[]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"ac31d8ca47bc4210c2e1a3e7826d43fa","name":"Connect GPT New","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"csTopicId":"2bfa500e47f08210c2e1a3e7826d430b","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>ac31d8ca47bc4210c2e1a3e7826d43fa</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "56fbdbc6138a4ed19980c4a249197957": {
          "id": "56fbdbc6138a4ed19980c4a249197957",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "b3b1961786b94490bafb78d2e645c29d": {
          "id": "b3b1961786b94490bafb78d2e645c29d",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "62e3b8c1757949b9a0d654c13e9f51f1": {
          "id": "62e3b8c1757949b9a0d654c13e9f51f1",
          "name": "Get Info From ChatGPT",
          "script": "(function execute() {\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGTP- Get Answers');\n r.setStringParameterNoEscape('question', 'Tell me about ServiceNow');\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n var parsedBody = JSON.parse(responseBody);\n var output = parsedBody.choices[0].message.content;\n vaVars.output = output;\n}\ncatch(ex) {\n var message = ex.message;\n}\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "e735aa7dbd9542d5b977e4d6129db441": {
          "id": "e735aa7dbd9542d5b977e4d6129db441",
          "stepType": "Decision",
          "name": "Decision"
        },
        "5105914442fd4ff3ba62e74649985218": {
          "id": "5105914442fd4ff3ba62e74649985218",
          "stepType": "ImplicitEnd"
        },
        "9492190747014af2b21435f6f14c7e51": {
          "id": "9492190747014af2b21435f6f14c7e51",
          "stepType": "SlotFillPrompt",
          "name": "Is this a new conversation",
          "type": "boolean",
          "withNluUserInput": false,
          "skipIfFulfilled": true,
          "variableId": "a2fb9bfebe3c4184bf4be9cac6358a7e",
          "values": {
            "supportedControlNote": "",
            "name": "",
            "variableName": "",
            "label": "Text 49",
            "prompt": {
              "mode": "simple",
              "value": "Set by NLU"
            },
            "skipIfFulfilled": false,
            "node_id": "",
            "variable_name": "",
            "defaultValueNote": "Define a value for the user response to the prompt. For example, if we already know the user name, the default value might be (Script Variables &gt; Last username).",
            "defaultValue": {
              "value": "",
              "mode": "simple"
            },
            "acknowledgeMsg": {
              "value": "",
              "mode": "simple"
            },
            "confirmMessage": {
              "value": "",
              "mode": "simple"
            },
            "withNluUserInput": false,
            "applicabilityNote": "By default, this node will be shown in the conversation and input from the user will be required.",
            "applicability": {
              "mode": "script",
              "value": "(function() { return false; })()"
            },
            "skippable": {
              "value": "",
              "mode": "query"
            }
          },
          "hidden": true
        },
        "9b40f7ce94044584ad925e1b47290b79": {
          "id": "9b40f7ce94044584ad925e1b47290b79",
          "name": "Continue Conversation",
          "script": "var og_question = vaInputs.original_question;  // original question\nvar og_response = vaInputs.original_response;  // original response\nvar new_question = vaInputs.new_question;      // new question\n\ntry {\n    var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT : Continue Conversation');\n    r.setStringParameterNoEscape('Original Question', og_question);\n    r.setStringParameterNoEscape('Response_Received', og_response);\n    r.setStringParameterNoEscape('New Question', new_question);\n\n    var response = r.execute();\n    var responseBody = response.getBody();\n    var httpStatus = response.getStatusCode();\n    var parsedBody = JSON.parse(responseBody);\n    var output = parsedBody.choices[0].message.content;\n    vaVars.output = output;\n\n}\ncatch (ex) {\n    var message = ex.message;\n}",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "7e0ed375a799435aa52082e3c240b5d4": {
          "id": "7e0ed375a799435aa52082e3c240b5d4",
          "stepType": "SlotFillPrompt",
          "name": "Original Response",
          "type": "string",
          "withNluUserInput": false,
          "skipIfFulfilled": true,
          "variableId": "7a9f6fb369eb4e4b88e521b80c8f9dfa",
          "values": {
            "supportedControlNote": "",
            "name": "",
            "variableName": "",
            "label": "Text 94",
            "prompt": {
              "mode": "simple",
              "value": "Set by NLU"
            },
            "inputType": {
              "format": "Text",
              "script": ""
            },
            "skipIfFulfilled": false,
            "node_id": "",
            "variable_name": "",
            "secureNote": "User input will be securely masked. For passwords, please use Action inputs instead.",
            "secure": false,
            "encryptionHashFunction": "SHA-256",
            "encryptionSalt": {
              "value": "MTcwOTkyMDU1NzA1NiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
              "mode": "simple"
            },
            "defaultValueNote": "Define a value for the user response to the prompt. For example, if we already know the user name, the default value might be (Script Variables &gt; Last username).",
            "defaultValue": {
              "value": "",
              "mode": "simple"
            },
            "acknowledgeMsg": {
              "value": "",
              "mode": "simple"
            },
            "confirmMessage": {
              "value": "",
              "mode": "simple"
            },
            "withNluUserInput": false,
            "applicabilityNote": "By default, this node will be shown in the conversation and input from the user will be required.",
            "applicability": {
              "mode": "script",
              "value": "(function() { return false; })()"
            },
            "skippable": {
              "value": "",
              "mode": "query"
            }
          },
          "hidden": true
        },
        "8132283ca016498182395d1600f33749": {
          "id": "8132283ca016498182395d1600f33749",
          "stepType": "SlotFillPrompt",
          "name": "New Question",
          "type": "string",
          "withNluUserInput": false,
          "skipIfFulfilled": true,
          "variableId": "331e465894be4961b669fddae07029e7",
          "values": {
            "supportedControlNote": "",
            "name": "",
            "variableName": "",
            "label": "Text 98",
            "prompt": {
              "mode": "simple",
              "value": "Set by NLU"
            },
            "inputType": {
              "format": "Text",
              "script": ""
            },
            "skipIfFulfilled": false,
            "node_id": "",
            "variable_name": "",
            "secureNote": "User input will be securely masked. For passwords, please use Action inputs instead.",
            "secure": false,
            "encryptionHashFunction": "SHA-256",
            "encryptionSalt": {
              "value": "MTcwOTkyMDk4MDg0NiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
              "mode": "simple"
            },
            "defaultValueNote": "Define a value for the user response to the prompt. For example, if we already know the user name, the default value might be (Script Variables &gt; Last username).",
            "defaultValue": {
              "value": "",
              "mode": "simple"
            },
            "acknowledgeMsg": {
              "value": "",
              "mode": "simple"
            },
            "confirmMessage": {
              "value": "",
              "mode": "simple"
            },
            "withNluUserInput": false,
            "applicabilityNote": "By default, this node will be shown in the conversation and input from the user will be required.",
            "applicability": {
              "mode": "script",
              "value": "(function() { return false; })()"
            },
            "skippable": {
              "value": "",
              "mode": "query"
            }
          },
          "hidden": true
        },
        "5cffbd091d7f47568b64133d04b2bda5": {
          "id": "5cffbd091d7f47568b64133d04b2bda5",
          "stepType": "SlotFillPrompt",
          "name": "Original Question",
          "type": "string",
          "withNluUserInput": false,
          "skipIfFulfilled": true,
          "variableId": "095980a35c5549ebb9dea422317f6e5e",
          "values": {
            "supportedControlNote": "",
            "name": "",
            "variableName": "",
            "label": "Text 17",
            "prompt": {
              "mode": "simple",
              "value": "Set by NLU"
            },
            "inputType": {
              "format": "Text",
              "script": ""
            },
            "skipIfFulfilled": false,
            "node_id": "",
            "variable_name": "",
            "secureNote": "User input will be securely masked. For passwords, please use Action inputs instead.",
            "secure": false,
            "encryptionHashFunction": "SHA-256",
            "encryptionSalt": {
              "value": "MTcwOTkyMTY0MzgxNyBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
              "mode": "simple"
            },
            "defaultValueNote": "Define a value for the user response to the prompt. For example, if we already know the user name, the default value might be (Script Variables &gt; Last username).",
            "defaultValue": {
              "value": "",
              "mode": "simple"
            },
            "acknowledgeMsg": {
              "value": "",
              "mode": "simple"
            },
            "confirmMessage": {
              "value": "",
              "mode": "simple"
            },
            "withNluUserInput": false,
            "applicabilityNote": "By default, this node will be shown in the conversation and input from the user will be required.",
            "applicability": {
              "mode": "script",
              "value": "(function() { return false; })()"
            },
            "skippable": {
              "value": "",
              "mode": "query"
            }
          },
          "hidden": true
        },
        "734f53e75917431eb7a83b27bb878f00": {
          "id": "734f53e75917431eb7a83b27bb878f00",
          "name": "Parse Data",
          "script": "(function execute() {\n\nvar data = vaInputs.is_this_a_new_conversation.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "a6d1521a3d2549ddb4f255b047efa528",
          "edgeType": "Edge",
          "source": "62e3b8c1757949b9a0d654c13e9f51f1",
          "target": "b3b1961786b94490bafb78d2e645c29d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "03a5ee50b8d44c91bdf4fa5eb2515b7b",
          "edgeType": "Branch",
          "source": "e735aa7dbd9542d5b977e4d6129db441",
          "target": "62e3b8c1757949b9a0d654c13e9f51f1",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.is_this_a_new_conversation=true",
            "mode": "query"
          },
          "label": "New Conversation"
        },
        {
          "id": "b636a38c8058458983b8202131387749",
          "edgeType": "Branch",
          "source": "e735aa7dbd9542d5b977e4d6129db441",
          "target": "9b40f7ce94044584ad925e1b47290b79",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.is_this_a_new_conversation=^vaInputs.original_responseISNOTEMPTY",
            "mode": "query"
          },
          "label": "Continue Conversation"
        },
        {
          "id": "c0a55b2082e945da91b80e6858d3003c",
          "edgeType": "Edge",
          "source": "9b40f7ce94044584ad925e1b47290b79",
          "target": "5105914442fd4ff3ba62e74649985218",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "e9240f976ab7413aa6feb7ab7a3817b0",
          "edgeType": "Edge",
          "source": "7e0ed375a799435aa52082e3c240b5d4",
          "target": "9492190747014af2b21435f6f14c7e51",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8467daa79fe14688bfec7bb4e5238581",
          "edgeType": "Edge",
          "source": "8132283ca016498182395d1600f33749",
          "target": "7e0ed375a799435aa52082e3c240b5d4",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "3af83b0502e947918e3ace8933e35247",
          "edgeType": "Edge",
          "source": "56fbdbc6138a4ed19980c4a249197957",
          "target": "5cffbd091d7f47568b64133d04b2bda5",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d13f2f22e25446b58775ceb94334043d",
          "edgeType": "Edge",
          "source": "5cffbd091d7f47568b64133d04b2bda5",
          "target": "8132283ca016498182395d1600f33749",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "59cb464bab1f48678de0be5bf0e348b9",
          "edgeType": "Edge",
          "source": "9492190747014af2b21435f6f14c7e51",
          "target": "734f53e75917431eb7a83b27bb878f00",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "f5462f007c8a41eaba3d1e8f2b9dd72c",
          "edgeType": "Edge",
          "source": "734f53e75917431eb7a83b27bb878f00",
          "target": "e735aa7dbd9542d5b977e4d6129db441",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "a2fb9bfebe3c4184bf4be9cac6358a7e": {
      "id": "a2fb9bfebe3c4184bf4be9cac6358a7e",
      "name": "is_this_a_new_conversation",
      "label": "Is This A New Conversation",
      "varType": "boolean",
      "category": "vaInputs",
      "nodeId": "9492190747014af2b21435f6f14c7e51",
      "isHidden": true,
      "choices": [
        {
          "label": "",
          "value": ""
        },
        {
          "label": "",
          "value": ""
        }
      ]
    },
    "84c7baba11f545fdad1e096d4d2186ef": {
      "id": "84c7baba11f545fdad1e096d4d2186ef",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "output",
      "label": "output",
      "varType": "script",
      "category": "vaVars"
    },
    "7a9f6fb369eb4e4b88e521b80c8f9dfa": {
      "id": "7a9f6fb369eb4e4b88e521b80c8f9dfa",
      "name": "original_response",
      "label": "Original Response",
      "varType": "string",
      "category": "vaInputs",
      "nodeId": "7e0ed375a799435aa52082e3c240b5d4",
      "isHidden": true
    },
    "331e465894be4961b669fddae07029e7": {
      "id": "331e465894be4961b669fddae07029e7",
      "name": "new_question",
      "label": "New Question",
      "varType": "string",
      "category": "vaInputs",
      "nodeId": "8132283ca016498182395d1600f33749",
      "isHidden": true
    },
    "095980a35c5549ebb9dea422317f6e5e": {
      "id": "095980a35c5549ebb9dea422317f6e5e",
      "name": "original_question",
      "label": "Original Question",
      "varType": "string",
      "category": "vaInputs",
      "nodeId": "5cffbd091d7f47568b64133d04b2bda5",
      "isHidden": true
    }
  }
}</graph><name>Connect GPT New</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-08 18:20:34</sys_created_on><sys_domain>global</sys_domain><sys_id>bbfa500e47f08210c2e1a3e7826d4311</sys_id><sys_mod_count>5</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_bbfa500e47f08210c2e1a3e7826d4311</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 08:09:45</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-2021997270</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>387c712647380610c2e1a3e7826d4329</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e276923250000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>b352202a94b00610fef9616b6a6c11e8</update_guid>
<update_guid_history>b352202a94b00610fef9616b6a6c11e8:-2021997270,eb9064a61bb006105bcaa1419ee914fe:-348316523,115c580e17f08210a95677b8a8dbeb51:2095404982,7b4c180e3bf082109628929a71d9f3e5:-293421054,a06b180e28f08210369f70afac59a24b:-567879198,77fa500e17f08210454382203aa23413:-145306561</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_f616b56e47f40610c2e1a3e7826d4303</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__3616bdea01f40610a8c0d22482620ac6">f616bdea47f40610c2e1a3e7826d43c7</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"0ffbf013bb684abd999a5911f3d89f81","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"0ffbf013bb684abd999a5911f3d89f81"}],"goals":[{"name":"primary","trigger_id":"0ffbf013bb684abd999a5911f3d89f81","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"a1f501f41a974866b3bda69f922f4680","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"5115d1d54b7a4c0c8e2f5717958b3157","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n// var request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', '[{ \"role\": \"user\", \"content\": \"Tell me about React JS\" }]');\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n vaVars.Output = httpStatus.toString();\n gs.info('36358 - '+JSON.stringify(responseBody));\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = 'failure: '+ JSON.stringify(ex);\n}\n\n})()\n","id":"27d00bf90d7249c9abffba1e26630355","name":"Continue Conversation","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"27d00bf90d7249c9abffba1e26630355","target_node_id":"5115d1d54b7a4c0c8e2f5717958b3157","id":"49019a82541540bc840400911ef7a030"},{"type":"Edge","source_node_id":"a1f501f41a974866b3bda69f922f4680","target_node_id":"27d00bf90d7249c9abffba1e26630355","id":"7478d668356e446ab58435013b64513e"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Output","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"07ca374af3e94217bfa05558977275c1","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"request","list":false,"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","library-usage":{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Output}}"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__3616bdea01f40610a8c0d22482620ac6","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"csTopicId":"eae0a4a647b00610c2e1a3e7826d43af","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>d6bfd8e247b00610c2e1a3e7826d4367</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "a1f501f41a974866b3bda69f922f4680": {
          "id": "a1f501f41a974866b3bda69f922f4680",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "type": "String",
              "value": "",
              "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
              "name": "Request",
              "required": true,
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "1dc4bbfc8f5d4a2fbb244a5e87254429"
          ]
        },
        "5115d1d54b7a4c0c8e2f5717958b3157": {
          "id": "5115d1d54b7a4c0c8e2f5717958b3157",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "Output",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Output}}",
                        "displayValue": "Script Variables➛Output"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": false
            }
          ]
        },
        "27d00bf90d7249c9abffba1e26630355": {
          "id": "27d00bf90d7249c9abffba1e26630355",
          "name": "Continue Conversation",
          "script": "(function execute() {\n\n// var request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', '[{ \"role\": \"user\", \"content\": \"Tell me about React JS\" }]');\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n vaVars.Output = httpStatus.toString();\n gs.info('36358 - '+JSON.stringify(responseBody));\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = 'failure: '+ JSON.stringify(ex);\n}\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "49019a82541540bc840400911ef7a030",
          "edgeType": "Edge",
          "source": "27d00bf90d7249c9abffba1e26630355",
          "target": "5115d1d54b7a4c0c8e2f5717958b3157",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7478d668356e446ab58435013b64513e",
          "edgeType": "Edge",
          "source": "a1f501f41a974866b3bda69f922f4680",
          "target": "27d00bf90d7249c9abffba1e26630355",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "07ca374af3e94217bfa05558977275c1": {
      "id": "07ca374af3e94217bfa05558977275c1",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Output",
      "label": "Output",
      "varType": "script",
      "category": "vaVars"
    },
    "1dc4bbfc8f5d4a2fbb244a5e87254429": {
      "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
      "name": "request",
      "label": "Request",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "a1f501f41a974866b3bda69f922f4680",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__3616bdea01f40610a8c0d22482620ac6</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:15:36</sys_created_on><sys_domain>global</sys_domain><sys_id>f616b56e47f40610c2e1a3e7826d4303</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_f616b56e47f40610c2e1a3e7826d4303</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:15:36</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-1286550949</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>387c712647380610c2e1a3e7826d432c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28b813740000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>3a16b56e76f40610dad795d3c39a8e04</update_guid>
<update_guid_history>3a16b56e76f40610dad795d3c39a8e04:-1286550949</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_2f97bdae47f40610c2e1a3e7826d438b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__e797fd6e8ef406103a984bf4f19188de","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__e797fd6e8ef406103a984bf4f19188de","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_6a09be4a8f394b25b8ef90762e352074_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_6b97bdae8bf406100bae3df16a22b38b","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_2b97bdaed9f40610d2fca031e2578f8b","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_1158a5bb5a464f82af6a4c427df3db59","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_e797bdae6bf40610e08c7d75de00008b","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_f8522de443b94c31ac5acc15ff928c46","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_6a09be4a8f394b25b8ef90762e352074_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_6b97bdae8bf406100bae3df16a22b38b\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_1158a5bb5a464f82af6a4c427df3db59\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_2b97bdaed9f40610d2fca031e2578f8b\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Decision_RootDecision_e797bdae6bf40610e08c7d75de00008b\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_Branch_f8522de443b94c31ac5acc15ff928c46\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_e797bdae6bf40610e08c7d75de00008b","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_e797bdae6bf40610e08c7d75de00008b\";vaInputs.__silent_Decision_RootDecision_e797bdae6bf40610e08c7d75de00008b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_e797bdae6bf40610e08c7d75de00008b\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_6b97bdae8bf406100bae3df16a22b38b=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_2b97bdaed9f40610d2fca031e2578f8b.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_e797bdae6bf40610e08c7d75de00008b","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_2b97bdaed9f40610d2fca031e2578f8b","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_2b97bdaed9f40610d2fca031e2578f8b","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_e797bdae6bf40610e08c7d75de00008b\" &amp;&amp; ((vaInputs.RootDecisionBranch_6b97bdae8bf406100bae3df16a22b38b.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_2b97bdaed9f40610d2fca031e2578f8b___RootDecisionBranch_2b97bdaed9f40610d2fca031e2578f8b\";vaInputs.__silent_Branch_RootDecisionBranch_2b97bdaed9f40610d2fca031e2578f8b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_2b97bdaed9f40610d2fca031e2578f8b___RootDecisionBranch_2b97bdaed9f40610d2fca031e2578f8b\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_2b97bdaed9f40610d2fca031e2578f8b","node_name":"RootDecisionBranch_2b97bdaed9f40610d2fca031e2578f8b","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_2b97bdaed9f40610d2fca031e2578f8b___RootDecisionBranch_2b97bdaed9f40610d2fca031e2578f8b\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_2b97bdaed9f40610d2fca031e2578f8b"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_1158a5bb5a464f82af6a4c427df3db59.reset();})();(function() {vaInputs.__silent_Branch_f8522de443b94c31ac5acc15ff928c46.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_1158a5bb5a464f82af6a4c427df3db59.reset();})();(function() {vaInputs.__silent_Branch_f8522de443b94c31ac5acc15ff928c46.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_f8522de443b94c31ac5acc15ff928c46","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___f8522de443b94c31ac5acc15ff928c46\";vaInputs.__silent_Branch_f8522de443b94c31ac5acc15ff928c46=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___f8522de443b94c31ac5acc15ff928c46\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"f8522de443b94c31ac5acc15ff928c46","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_1158a5bb5a464f82af6a4c427df3db59","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___1158a5bb5a464f82af6a4c427df3db59\";vaInputs.__silent_Branch_1158a5bb5a464f82af6a4c427df3db59=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___1158a5bb5a464f82af6a4c427df3db59\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"1158a5bb5a464f82af6a4c427df3db59","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___1158a5bb5a464f82af6a4c427df3db59\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___f8522de443b94c31ac5acc15ff928c46\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_6a09be4a8f394b25b8ef90762e352074_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 14:22:12</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__e797fd6e8ef406103a984bf4f19188de</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:22:12</sys_created_on><sys_domain>global</sys_domain><sys_id>2f97bdae47f40610c2e1a3e7826d438b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__e797fd6e8ef406103a984bf4f19188de</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_2f97bdae47f40610c2e1a3e7826d438b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:22:12</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=2f97bdae47f40610c2e1a3e7826d438b"/></record_update>]]></payload>
<payload_hash>-2020388296</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>387c712647380610c2e1a3e7826d432f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28be1fbe0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__e797fd6e8ef406103a984bf4f19188de</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>e397bdae38f40610de19e1ccd0f00a8d</update_guid>
<update_guid_history>e397bdae38f40610de19e1ccd0f00a8d:-2020388296</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_6936382e47f00610c2e1a3e7826d4342</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__2136702e1ef006105e2efb4970b46146","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__2136702e1ef006105e2efb4970b46146","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation_JSON","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_adeb3027434845779e333c9a0790d598_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_a536382e96f0061089708b14be6a8a42","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_812630ce47af437c8a87d05d5cd23737","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_6536382ed0f0061065d25dbaa5639642","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_a57428db0b2240609bf5ea56dc84bd8d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_2536382eabf006100d45bc228c3f8342","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_adeb3027434845779e333c9a0790d598_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_a536382e96f0061089708b14be6a8a42\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_a57428db0b2240609bf5ea56dc84bd8d\");vaInputs.initialize(\"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d\");vaInputs.initialize(\"__silent_Decision_RootDecision_2536382eabf006100d45bc228c3f8342\");vaInputs.initialize(\"__silent_Branch_812630ce47af437c8a87d05d5cd23737\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_6536382ed0f0061065d25dbaa5639642\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");null;","fields":[{"name":"__silent_Decision_RootDecision_2536382eabf006100d45bc228c3f8342","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_2536382eabf006100d45bc228c3f8342\";vaInputs.__silent_Decision_RootDecision_2536382eabf006100d45bc228c3f8342=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_2536382eabf006100d45bc228c3f8342\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_a536382e96f0061089708b14be6a8a42=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_6536382ed0f0061065d25dbaa5639642.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_2536382eabf006100d45bc228c3f8342","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_6536382ed0f0061065d25dbaa5639642","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_6536382ed0f0061065d25dbaa5639642","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_2536382eabf006100d45bc228c3f8342\" &amp;&amp; ((vaInputs.RootDecisionBranch_a536382e96f0061089708b14be6a8a42.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_6536382ed0f0061065d25dbaa5639642___RootDecisionBranch_6536382ed0f0061065d25dbaa5639642\";vaInputs.__silent_Branch_RootDecisionBranch_6536382ed0f0061065d25dbaa5639642=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_6536382ed0f0061065d25dbaa5639642___RootDecisionBranch_6536382ed0f0061065d25dbaa5639642\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_6536382ed0f0061065d25dbaa5639642","node_name":"RootDecisionBranch_6536382ed0f0061065d25dbaa5639642","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_6536382ed0f0061065d25dbaa5639642___RootDecisionBranch_6536382ed0f0061065d25dbaa5639642\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_6536382ed0f0061065d25dbaa5639642"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\";(function execute() {(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    if (orignal_obj.length &gt; 0) {\n        message.push(orignal_obj);   // push initial or old data if exists\n    }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    if (gpt_response.length &gt; 0) {\n        var new_assistant_obj = {\n            \"role\": \"assistant\",\n            \"content\": gpt_response\n        };\n        message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    }\n\n    vaVars.Request = message.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"778b69bb03ad4167a9a7a1246ade5a8d","node_name":"Parse Data Into 1 JSON","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data Into 1 JSON"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.choice.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Choice","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_a57428db0b2240609bf5ea56dc84bd8d.reset();})();(function() {vaInputs.__silent_Branch_812630ce47af437c8a87d05d5cd23737.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Print Response"],"next_node":"Decision","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_a57428db0b2240609bf5ea56dc84bd8d.reset();})();(function() {vaInputs.__silent_Branch_812630ce47af437c8a87d05d5cd23737.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_a57428db0b2240609bf5ea56dc84bd8d","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___a57428db0b2240609bf5ea56dc84bd8d\";vaInputs.__silent_Branch_a57428db0b2240609bf5ea56dc84bd8d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___a57428db0b2240609bf5ea56dc84bd8d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"a57428db0b2240609bf5ea56dc84bd8d","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_812630ce47af437c8a87d05d5cd23737","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___812630ce47af437c8a87d05d5cd23737\";vaInputs.__silent_Branch_812630ce47af437c8a87d05d5cd23737=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___812630ce47af437c8a87d05d5cd23737\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"812630ce47af437c8a87d05d5cd23737","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___812630ce47af437c8a87d05d5cd23737\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data Into 1 JSON","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___a57428db0b2240609bf5ea56dc84bd8d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_adeb3027434845779e333c9a0790d598_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 09:36:26</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__2136702e1ef006105e2efb4970b46146</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:36:26</sys_created_on><sys_domain>global</sys_domain><sys_id>6936382e47f00610c2e1a3e7826d4342</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__2136702e1ef006105e2efb4970b46146</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_6936382e47f00610c2e1a3e7826d4342</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:36:26</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=6936382e47f00610c2e1a3e7826d4342"/></record_update>]]></payload>
<payload_hash>-1822498437</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>387c712647380610c2e1a3e7826d4332</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27b87f890000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__2136702e1ef006105e2efb4970b46146</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>6136382e99f006105e8cf8be56d2a144</update_guid>
<update_guid_history>6136382e99f006105e8cf8be56d2a144:-1822498437</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_a6a67d6e47f40610c2e1a3e7826d4392</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__e2a67d6e84f40610d22c2171b8e3ac91","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__e2a67d6e84f40610d22c2171b8e3ac91","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_dc7e06214fe442b69add3a94795e3a52_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_e2a67d6ecbf4061055efca1570f22b92","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_db50312a536d4053ab2b80de6d6e558e","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_f4f9d406793b43ef9006406b9e434003","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_62a67d6ef9f406109c15950fbb9d9892","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_a2a67d6e96f406100454c11fa777ad92","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_dc7e06214fe442b69add3a94795e3a52_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_e2a67d6ecbf4061055efca1570f22b92\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Branch_db50312a536d4053ab2b80de6d6e558e\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"__silent_Branch_f4f9d406793b43ef9006406b9e434003\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_a2a67d6e96f406100454c11fa777ad92\");vaInputs.initialize(\"__silent_Decision_RootDecision_62a67d6ef9f406109c15950fbb9d9892\");null;","fields":[{"name":"__silent_Decision_RootDecision_62a67d6ef9f406109c15950fbb9d9892","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_62a67d6ef9f406109c15950fbb9d9892\";vaInputs.__silent_Decision_RootDecision_62a67d6ef9f406109c15950fbb9d9892=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_62a67d6ef9f406109c15950fbb9d9892\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_e2a67d6ecbf4061055efca1570f22b92=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_a2a67d6e96f406100454c11fa777ad92.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_62a67d6ef9f406109c15950fbb9d9892","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_a2a67d6e96f406100454c11fa777ad92","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_a2a67d6e96f406100454c11fa777ad92","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_62a67d6ef9f406109c15950fbb9d9892\" &amp;&amp; ((vaInputs.RootDecisionBranch_e2a67d6ecbf4061055efca1570f22b92.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_a2a67d6e96f406100454c11fa777ad92___RootDecisionBranch_a2a67d6e96f406100454c11fa777ad92\";vaInputs.__silent_Branch_RootDecisionBranch_a2a67d6e96f406100454c11fa777ad92=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_a2a67d6e96f406100454c11fa777ad92___RootDecisionBranch_a2a67d6e96f406100454c11fa777ad92\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_a2a67d6e96f406100454c11fa777ad92","node_name":"RootDecisionBranch_a2a67d6e96f406100454c11fa777ad92","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_a2a67d6e96f406100454c11fa777ad92___RootDecisionBranch_a2a67d6e96f406100454c11fa777ad92\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_a2a67d6e96f406100454c11fa777ad92"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_f4f9d406793b43ef9006406b9e434003.reset();})();(function() {vaInputs.__silent_Branch_db50312a536d4053ab2b80de6d6e558e.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_f4f9d406793b43ef9006406b9e434003.reset();})();(function() {vaInputs.__silent_Branch_db50312a536d4053ab2b80de6d6e558e.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_f4f9d406793b43ef9006406b9e434003","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___f4f9d406793b43ef9006406b9e434003\";vaInputs.__silent_Branch_f4f9d406793b43ef9006406b9e434003=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___f4f9d406793b43ef9006406b9e434003\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"f4f9d406793b43ef9006406b9e434003","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_db50312a536d4053ab2b80de6d6e558e","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___db50312a536d4053ab2b80de6d6e558e\";vaInputs.__silent_Branch_db50312a536d4053ab2b80de6d6e558e=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___db50312a536d4053ab2b80de6d6e558e\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"db50312a536d4053ab2b80de6d6e558e","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___db50312a536d4053ab2b80de6d6e558e\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___f4f9d406793b43ef9006406b9e434003\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_dc7e06214fe442b69add3a94795e3a52_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 14:18:02</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__e2a67d6e84f40610d22c2171b8e3ac91</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:18:02</sys_created_on><sys_domain>global</sys_domain><sys_id>a6a67d6e47f40610c2e1a3e7826d4392</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__e2a67d6e84f40610d22c2171b8e3ac91</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_a6a67d6e47f40610c2e1a3e7826d4392</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:18:02</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=a6a67d6e47f40610c2e1a3e7826d4392"/></record_update>]]></payload>
<payload_hash>1578888146</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>387c712647380610c2e1a3e7826d4335</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28ba4f390000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__e2a67d6e84f40610d22c2171b8e3ac91</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>6ea67d6e6af4061039d727519bcd3c93</update_guid>
<update_guid_history>6ea67d6e6af4061039d727519bcd3c93:1578888146</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_eafeed2647f40610c2e1a3e7826d43aa</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__2afeed2680f40610fc6802983d93b1a9","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__2afeed2680f40610fc6802983d93b1a9","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_d1924097cfc14fadb157d21f87e78990_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_2afeed26dcf40610d3fa6971e8d0efaa","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_a6feed2698f40610e5b4ee6f65000caa","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_e6feed2630f4061061757ae12d6fe7aa","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_32644f3061da4a1baa1fa5652f013077","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_845fb86ee96a4e1a86ce610b32691999","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_d1924097cfc14fadb157d21f87e78990_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_2afeed26dcf40610d3fa6971e8d0efaa\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Decision_RootDecision_a6feed2698f40610e5b4ee6f65000caa\");vaInputs.initialize(\"__silent_Branch_845fb86ee96a4e1a86ce610b32691999\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_e6feed2630f4061061757ae12d6fe7aa\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Branch_32644f3061da4a1baa1fa5652f013077\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_a6feed2698f40610e5b4ee6f65000caa","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_a6feed2698f40610e5b4ee6f65000caa\";vaInputs.__silent_Decision_RootDecision_a6feed2698f40610e5b4ee6f65000caa=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_a6feed2698f40610e5b4ee6f65000caa\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_2afeed26dcf40610d3fa6971e8d0efaa=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_e6feed2630f4061061757ae12d6fe7aa.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_a6feed2698f40610e5b4ee6f65000caa","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_e6feed2630f4061061757ae12d6fe7aa","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_e6feed2630f4061061757ae12d6fe7aa","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_a6feed2698f40610e5b4ee6f65000caa\" &amp;&amp; ((vaInputs.RootDecisionBranch_2afeed26dcf40610d3fa6971e8d0efaa.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_e6feed2630f4061061757ae12d6fe7aa___RootDecisionBranch_e6feed2630f4061061757ae12d6fe7aa\";vaInputs.__silent_Branch_RootDecisionBranch_e6feed2630f4061061757ae12d6fe7aa=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_e6feed2630f4061061757ae12d6fe7aa___RootDecisionBranch_e6feed2630f4061061757ae12d6fe7aa\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_e6feed2630f4061061757ae12d6fe7aa","node_name":"RootDecisionBranch_e6feed2630f4061061757ae12d6fe7aa","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_e6feed2630f4061061757ae12d6fe7aa___RootDecisionBranch_e6feed2630f4061061757ae12d6fe7aa\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_e6feed2630f4061061757ae12d6fe7aa"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_32644f3061da4a1baa1fa5652f013077.reset();})();(function() {vaInputs.__silent_Branch_845fb86ee96a4e1a86ce610b32691999.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_32644f3061da4a1baa1fa5652f013077.reset();})();(function() {vaInputs.__silent_Branch_845fb86ee96a4e1a86ce610b32691999.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_845fb86ee96a4e1a86ce610b32691999","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___845fb86ee96a4e1a86ce610b32691999\";vaInputs.__silent_Branch_845fb86ee96a4e1a86ce610b32691999=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___845fb86ee96a4e1a86ce610b32691999\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"845fb86ee96a4e1a86ce610b32691999","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_32644f3061da4a1baa1fa5652f013077","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___32644f3061da4a1baa1fa5652f013077\";vaInputs.__silent_Branch_32644f3061da4a1baa1fa5652f013077=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___32644f3061da4a1baa1fa5652f013077\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"32644f3061da4a1baa1fa5652f013077","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___32644f3061da4a1baa1fa5652f013077\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___845fb86ee96a4e1a86ce610b32691999\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_d1924097cfc14fadb157d21f87e78990_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 13:44:26</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__2afeed2680f40610fc6802983d93b1a9</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:44:26</sys_created_on><sys_domain>global</sys_domain><sys_id>eafeed2647f40610c2e1a3e7826d43aa</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__2afeed2680f40610fc6802983d93b1a9</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_eafeed2647f40610c2e1a3e7826d43aa</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:44:26</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=eafeed2647f40610c2e1a3e7826d43aa"/></record_update>]]></payload>
<payload_hash>1583517140</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>387c712647380610c2e1a3e7826d4338</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e289b8fb30000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__2afeed2680f40610fc6802983d93b1a9</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>a2feed2656f406100d696c443595ffac</update_guid>
<update_guid_history>a2feed2656f406100d696c443595ffac:1583517140</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_2397bdae47f40610c2e1a3e7826d4391</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__e797fd6e8ef406103a984bf4f19188de">2f97bdae47f40610c2e1a3e7826d438b</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:22:12</sys_created_on><sys_domain>global</sys_domain><sys_id>2397bdae47f40610c2e1a3e7826d4391</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_2397bdae47f40610c2e1a3e7826d4391</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:22:12</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>1868967846</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>387c712647380610c2e1a3e7826d433b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28be201e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>6397bdaed5f40610823ed46a7ce24292</update_guid>
<update_guid_history>6397bdaed5f40610823ed46a7ce24292:1868967846</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_861071e647f40610c2e1a3e7826d4396</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__b510fd66bcf406105adb4828d4e4e4bb">7910fd6647f40610c2e1a3e7826d43bc</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:49:19</sys_created_on><sys_domain>global</sys_domain><sys_id>861071e647f40610c2e1a3e7826d4396</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_861071e647f40610c2e1a3e7826d4396</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:49:19</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>1823547532</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>387c712647380610c2e1a3e7826d433e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28a005950000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>c61071e680f40610acb52a59f04ce097</update_guid>
<update_guid_history>c61071e680f40610acb52a59f04ce097:1823547532</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_ce9de12647f40610c2e1a3e7826d43bb</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__319d252280b4061030f19cdfc9cdde9c">f19d252247b40610c2e1a3e7826d439d</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:38:24</sys_created_on><sys_domain>global</sys_domain><sys_id>ce9de12647f40610c2e1a3e7826d43bb</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_ce9de12647f40610c2e1a3e7826d43bb</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:38:24</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>1192568249</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>387c712647380610c2e1a3e7826d4341</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e289605e40000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>029de12673f40610637dfc660b892fbd</update_guid>
<update_guid_history>029de12673f40610637dfc660b892fbd:1192568249</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_nlu_utterance_b34730ae47f00610c2e1a3e7826d4328</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_nlu_utterance"><sys_nlu_utterance action="INSERT_OR_UPDATE"><intent display_value="Connect GPT">3f37fc6e47f00610c2e1a3e7826d43f7</intent><original_utterance/><primary_utterance/><source>manual</source><sys_class_name>sys_nlu_utterance</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:41:14</sys_created_on><sys_id>b34730ae47f00610c2e1a3e7826d4328</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Need Help</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_nlu_utterance_b34730ae47f00610c2e1a3e7826d4328</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:41:14</sys_updated_on><utterance>Need Help</utterance></sys_nlu_utterance></record_update>]]></payload>
<payload_hash>-1496912946</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>387c712647380610c2e1a3e7826d4344</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bce3650000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>Need Help</target_name>
<type>NLU Utterance</type>
<update_domain>global</update_domain>
<update_guid>b74770ae54f00610b1eb32e89f642354</update_guid>
<update_guid_history>b74770ae54f00610b1eb32e89f642354:-1496912946</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_aafeed6647f40610c2e1a3e7826d4390</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__2afeed2680f40610fc6802983d93b1a9">eafeed2647f40610c2e1a3e7826d43aa</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"d1924097cfc14fadb157d21f87e78990","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"d1924097cfc14fadb157d21f87e78990"}],"goals":[{"name":"primary","trigger_id":"d1924097cfc14fadb157d21f87e78990","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"845fb86ee96a4e1a86ce610b32691999","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"32644f3061da4a1baa1fa5652f013077","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"845fb86ee96a4e1a86ce610b32691999","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"845fb86ee96a4e1a86ce610b32691999"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"32644f3061da4a1baa1fa5652f013077","id":"7e27041fde704dafa3c57c0df71d7044","name":"32644f3061da4a1baa1fa5652f013077"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__2afeed2680f40610fc6802983d93b1a9","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__2afeed2680f40610fc6802983d93b1a9</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:44:27</sys_created_on><sys_domain>global</sys_domain><sys_id>aafeed6647f40610c2e1a3e7826d4390</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_aafeed6647f40610c2e1a3e7826d4390</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:44:27</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-1744400961</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>3c7c712647380610c2e1a3e7826d4328</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e289b8fe90000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>eafeed6630f406100dc03e5535181f91</update_guid>
<update_guid_history>eafeed6630f406100dc03e5535181f91:-1744400961</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_e46fc96647740610c2e1a3e7826d43c5</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__a46fc966d374061039ee988b6c9abdc1">686fc96647740610c2e1a3e7826d43c2</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"a7effe94363f4046bc95f5fe14522fd3","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"a7effe94363f4046bc95f5fe14522fd3"}],"goals":[{"name":"primary","trigger_id":"a7effe94363f4046bc95f5fe14522fd3","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"c2d2b25774bb40b7be2f3c04bb06640f","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"5fa212d7bcd840fe9464ec99d33bac09","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [];\n\n    if(vaVars.Request.trim().length&gt;0){\n        arr.push(vaVars.Request); \n    }\n    arr.push(output);\n\n\n    vaVars.Request  = arr.toString();\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"c2d2b25774bb40b7be2f3c04bb06640f","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"c2d2b25774bb40b7be2f3c04bb06640f"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"5fa212d7bcd840fe9464ec99d33bac09","id":"7e27041fde704dafa3c57c0df71d7044","name":"5fa212d7bcd840fe9464ec99d33bac09"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__a46fc966d374061039ee988b6c9abdc1","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [];\n\n    if(vaVars.Request.trim().length&gt;0){\n        arr.push(vaVars.Request); \n    }\n    arr.push(output);\n\n\n    vaVars.Request  = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__a46fc966d374061039ee988b6c9abdc1</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:26:25</sys_created_on><sys_domain>global</sys_domain><sys_id>e46fc96647740610c2e1a3e7826d43c5</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_e46fc96647740610c2e1a3e7826d43c5</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:26:25</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>18251890</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>3c7c712647380610c2e1a3e7826d432b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e281d30cb0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>286fc966c8740610fe83ca5720c23bc6</update_guid>
<update_guid_history>286fc966c8740610fe83ca5720c23bc6:18251890</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_20a67daa47f40610c2e1a3e7826d43d2</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__2ca67daa2ef406100f4bc086f8cfe3d0","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__2ca67daa2ef406100f4bc086f8cfe3d0","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_544be296e7454ddf996fef10bda6a027_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_6ca67daa48f40610fe1f6de3d25348d1","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Branch_6adba659dd304330a6867576c0bc08d5","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_e8a67daac8f40610f3cb8c2f56255cd1","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_2ca67daa45f4061034c1776c6f3ff7d1","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_4a8d7bae876e4cf9a4901fecfcd61d57","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_544be296e7454ddf996fef10bda6a027_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_6ca67daa48f40610fe1f6de3d25348d1\");vaInputs.initialize(\"__silent_Branch_4a8d7bae876e4cf9a4901fecfcd61d57\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_2ca67daa45f4061034c1776c6f3ff7d1\");vaInputs.initialize(\"__silent_Branch_6adba659dd304330a6867576c0bc08d5\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Decision_RootDecision_e8a67daac8f40610f3cb8c2f56255cd1\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_e8a67daac8f40610f3cb8c2f56255cd1","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_e8a67daac8f40610f3cb8c2f56255cd1\";vaInputs.__silent_Decision_RootDecision_e8a67daac8f40610f3cb8c2f56255cd1=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_e8a67daac8f40610f3cb8c2f56255cd1\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_6ca67daa48f40610fe1f6de3d25348d1=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_2ca67daa45f4061034c1776c6f3ff7d1.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_e8a67daac8f40610f3cb8c2f56255cd1","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_2ca67daa45f4061034c1776c6f3ff7d1","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_2ca67daa45f4061034c1776c6f3ff7d1","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_e8a67daac8f40610f3cb8c2f56255cd1\" &amp;&amp; ((vaInputs.RootDecisionBranch_6ca67daa48f40610fe1f6de3d25348d1.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_2ca67daa45f4061034c1776c6f3ff7d1___RootDecisionBranch_2ca67daa45f4061034c1776c6f3ff7d1\";vaInputs.__silent_Branch_RootDecisionBranch_2ca67daa45f4061034c1776c6f3ff7d1=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_2ca67daa45f4061034c1776c6f3ff7d1___RootDecisionBranch_2ca67daa45f4061034c1776c6f3ff7d1\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_2ca67daa45f4061034c1776c6f3ff7d1","node_name":"RootDecisionBranch_2ca67daa45f4061034c1776c6f3ff7d1","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_2ca67daa45f4061034c1776c6f3ff7d1___RootDecisionBranch_2ca67daa45f4061034c1776c6f3ff7d1\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_2ca67daa45f4061034c1776c6f3ff7d1"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_6adba659dd304330a6867576c0bc08d5.reset();})();(function() {vaInputs.__silent_Branch_4a8d7bae876e4cf9a4901fecfcd61d57.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_6adba659dd304330a6867576c0bc08d5.reset();})();(function() {vaInputs.__silent_Branch_4a8d7bae876e4cf9a4901fecfcd61d57.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_6adba659dd304330a6867576c0bc08d5","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___6adba659dd304330a6867576c0bc08d5\";vaInputs.__silent_Branch_6adba659dd304330a6867576c0bc08d5=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___6adba659dd304330a6867576c0bc08d5\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6adba659dd304330a6867576c0bc08d5","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_4a8d7bae876e4cf9a4901fecfcd61d57","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___4a8d7bae876e4cf9a4901fecfcd61d57\";vaInputs.__silent_Branch_4a8d7bae876e4cf9a4901fecfcd61d57=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___4a8d7bae876e4cf9a4901fecfcd61d57\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"4a8d7bae876e4cf9a4901fecfcd61d57","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___4a8d7bae876e4cf9a4901fecfcd61d57\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___6adba659dd304330a6867576c0bc08d5\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_544be296e7454ddf996fef10bda6a027_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 14:17:54</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__2ca67daa2ef406100f4bc086f8cfe3d0</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:17:54</sys_created_on><sys_domain>global</sys_domain><sys_id>20a67daa47f40610c2e1a3e7826d43d2</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__2ca67daa2ef406100f4bc086f8cfe3d0</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_20a67daa47f40610c2e1a3e7826d43d2</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:17:54</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=20a67daa47f40610c2e1a3e7826d43d2"/></record_update>]]></payload>
<payload_hash>-697691702</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>3c7c712647380610c2e1a3e7826d432e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28ba30cd0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__2ca67daa2ef406100f4bc086f8cfe3d0</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>e4a67daae4f40610a85ef9a64bb0c3d3</update_guid>
<update_guid_history>e4a67daae4f40610a85ef9a64bb0c3d3:-697691702</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_5c89d12247b40610c2e1a3e7826d43ea</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__9889d122acb4061016cc56d33d4df0e9","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__9889d122acb4061016cc56d33d4df0e9","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_52929a4c4e554d27aea4c10d1d45d60e_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_9889d122ddb4061055507d4049bc24ea","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Branch_82086fdee68f43ed9ba95551ad990773","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_6a8d72a43c4f4dfbb6920103f940e970","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_5889d12252b40610c2844068488f26ea","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_1889d12240b40610871a4e46ab0a49ea","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_52929a4c4e554d27aea4c10d1d45d60e_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_9889d122ddb4061055507d4049bc24ea\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_82086fdee68f43ed9ba95551ad990773\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Branch_6a8d72a43c4f4dfbb6920103f940e970\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_5889d12252b40610c2844068488f26ea\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_Decision_RootDecision_1889d12240b40610871a4e46ab0a49ea\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");null;","fields":[{"name":"__silent_Decision_RootDecision_1889d12240b40610871a4e46ab0a49ea","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_1889d12240b40610871a4e46ab0a49ea\";vaInputs.__silent_Decision_RootDecision_1889d12240b40610871a4e46ab0a49ea=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_1889d12240b40610871a4e46ab0a49ea\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_9889d122ddb4061055507d4049bc24ea=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_5889d12252b40610c2844068488f26ea.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_1889d12240b40610871a4e46ab0a49ea","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_5889d12252b40610c2844068488f26ea","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_5889d12252b40610c2844068488f26ea","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_1889d12240b40610871a4e46ab0a49ea\" &amp;&amp; ((vaInputs.RootDecisionBranch_9889d122ddb4061055507d4049bc24ea.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_5889d12252b40610c2844068488f26ea___RootDecisionBranch_5889d12252b40610c2844068488f26ea\";vaInputs.__silent_Branch_RootDecisionBranch_5889d12252b40610c2844068488f26ea=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_5889d12252b40610c2844068488f26ea___RootDecisionBranch_5889d12252b40610c2844068488f26ea\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_5889d12252b40610c2844068488f26ea","node_name":"RootDecisionBranch_5889d12252b40610c2844068488f26ea","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_5889d12252b40610c2844068488f26ea___RootDecisionBranch_5889d12252b40610c2844068488f26ea\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_5889d12252b40610c2844068488f26ea"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_82086fdee68f43ed9ba95551ad990773.reset();})();(function() {vaInputs.__silent_Branch_6a8d72a43c4f4dfbb6920103f940e970.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_82086fdee68f43ed9ba95551ad990773.reset();})();(function() {vaInputs.__silent_Branch_6a8d72a43c4f4dfbb6920103f940e970.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_82086fdee68f43ed9ba95551ad990773","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___82086fdee68f43ed9ba95551ad990773\";vaInputs.__silent_Branch_82086fdee68f43ed9ba95551ad990773=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___82086fdee68f43ed9ba95551ad990773\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"82086fdee68f43ed9ba95551ad990773","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_6a8d72a43c4f4dfbb6920103f940e970","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___6a8d72a43c4f4dfbb6920103f940e970\";vaInputs.__silent_Branch_6a8d72a43c4f4dfbb6920103f940e970=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___6a8d72a43c4f4dfbb6920103f940e970\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6a8d72a43c4f4dfbb6920103f940e970","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___6a8d72a43c4f4dfbb6920103f940e970\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___82086fdee68f43ed9ba95551ad990773\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_52929a4c4e554d27aea4c10d1d45d60e_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 12:10:38</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__9889d122acb4061016cc56d33d4df0e9</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:10:38</sys_created_on><sys_domain>global</sys_domain><sys_id>5c89d12247b40610c2e1a3e7826d43ea</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__9889d122acb4061016cc56d33d4df0e9</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_5c89d12247b40610c2e1a3e7826d43ea</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:10:38</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=5c89d12247b40610c2e1a3e7826d43ea"/></record_update>]]></payload>
<payload_hash>387598203</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>3c7c712647380610c2e1a3e7826d4331</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2845abf20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__9889d122acb4061016cc56d33d4df0e9</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>1489d1225db406106b994822015432ec</update_guid>
<update_guid_history>1489d1225db406106b994822015432ec:387598203</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_8cbd452647740610c2e1a3e7826d438d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__c8bd4526c47406100e8818dca607b38c","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__c8bd4526c47406100e8818dca607b38c","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_10e484c77c0c43ed9c07f1e3e43cc1ef_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_c8bd4526347406102dea5eca598ee58d","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_88bd45267c74061087cbbdd068e4298d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_ad14856aa0134104ababa24bab869808","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_48bd4526a6740610aaab6c8ab735528d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_be18d0fa4e574f2e9ecaa17b9438716c","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_10e484c77c0c43ed9c07f1e3e43cc1ef_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_c8bd4526347406102dea5eca598ee58d\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_be18d0fa4e574f2e9ecaa17b9438716c\");vaInputs.initialize(\"__silent_Decision_RootDecision_48bd4526a6740610aaab6c8ab735528d\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Branch_ad14856aa0134104ababa24bab869808\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_88bd45267c74061087cbbdd068e4298d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");null;","fields":[{"name":"__silent_Decision_RootDecision_48bd4526a6740610aaab6c8ab735528d","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_48bd4526a6740610aaab6c8ab735528d\";vaInputs.__silent_Decision_RootDecision_48bd4526a6740610aaab6c8ab735528d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_48bd4526a6740610aaab6c8ab735528d\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_c8bd4526347406102dea5eca598ee58d=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_88bd45267c74061087cbbdd068e4298d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_48bd4526a6740610aaab6c8ab735528d","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_88bd45267c74061087cbbdd068e4298d","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_88bd45267c74061087cbbdd068e4298d","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_48bd4526a6740610aaab6c8ab735528d\" &amp;&amp; ((vaInputs.RootDecisionBranch_c8bd4526347406102dea5eca598ee58d.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_88bd45267c74061087cbbdd068e4298d___RootDecisionBranch_88bd45267c74061087cbbdd068e4298d\";vaInputs.__silent_Branch_RootDecisionBranch_88bd45267c74061087cbbdd068e4298d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_88bd45267c74061087cbbdd068e4298d___RootDecisionBranch_88bd45267c74061087cbbdd068e4298d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_88bd45267c74061087cbbdd068e4298d","node_name":"RootDecisionBranch_88bd45267c74061087cbbdd068e4298d","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_88bd45267c74061087cbbdd068e4298d___RootDecisionBranch_88bd45267c74061087cbbdd068e4298d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_88bd45267c74061087cbbdd068e4298d"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_ad14856aa0134104ababa24bab869808.reset();})();(function() {vaInputs.__silent_Branch_be18d0fa4e574f2e9ecaa17b9438716c.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_ad14856aa0134104ababa24bab869808.reset();})();(function() {vaInputs.__silent_Branch_be18d0fa4e574f2e9ecaa17b9438716c.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_ad14856aa0134104ababa24bab869808","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___ad14856aa0134104ababa24bab869808\";vaInputs.__silent_Branch_ad14856aa0134104ababa24bab869808=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___ad14856aa0134104ababa24bab869808\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"ad14856aa0134104ababa24bab869808","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_be18d0fa4e574f2e9ecaa17b9438716c","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___be18d0fa4e574f2e9ecaa17b9438716c\";vaInputs.__silent_Branch_be18d0fa4e574f2e9ecaa17b9438716c=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___be18d0fa4e574f2e9ecaa17b9438716c\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"be18d0fa4e574f2e9ecaa17b9438716c","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___be18d0fa4e574f2e9ecaa17b9438716c\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___ad14856aa0134104ababa24bab869808\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_10e484c77c0c43ed9c07f1e3e43cc1ef_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 11:19:00</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__c8bd4526c47406100e8818dca607b38c</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:19:00</sys_created_on><sys_domain>global</sys_domain><sys_id>8cbd452647740610c2e1a3e7826d438d</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__c8bd4526c47406100e8818dca607b38c</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_8cbd452647740610c2e1a3e7826d438d</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:19:00</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=8cbd452647740610c2e1a3e7826d438d"/></record_update>]]></payload>
<payload_hash>-1355359122</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>3c7c712647380610c2e1a3e7826d4334</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e281669650000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__c8bd4526c47406100e8818dca607b38c</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>54bd4526df740610ccfb7605e9f59d8f</update_guid>
<update_guid_history>54bd4526df740610ccfb7605e9f59d8f:-1355359122</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_e0ea71a247380610c2e1a3e7826d4314</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__20ea71a22138061071bec3f61c18fc13","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__20ea71a22138061071bec3f61c18fc13","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_650424fda02a45b9b0ac0a36860c2940_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_20ea71a2dd38061022e16af732ad6f14","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_ecea71a21a380610dfdce741a9036813","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_05bbdb06694949c6aced5966f71afcf9","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_35ef306285d548bd92ff332bca40db74","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_acea71a21538061034a30669ff501713","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_650424fda02a45b9b0ac0a36860c2940_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_20ea71a2dd38061022e16af732ad6f14\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Branch_35ef306285d548bd92ff332bca40db74\");vaInputs.initialize(\"__silent_Branch_05bbdb06694949c6aced5966f71afcf9\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Decision_RootDecision_acea71a21538061034a30669ff501713\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_ecea71a21a380610dfdce741a9036813\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_acea71a21538061034a30669ff501713","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_acea71a21538061034a30669ff501713\";vaInputs.__silent_Decision_RootDecision_acea71a21538061034a30669ff501713=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_acea71a21538061034a30669ff501713\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_20ea71a2dd38061022e16af732ad6f14=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_ecea71a21a380610dfdce741a9036813.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_acea71a21538061034a30669ff501713","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_ecea71a21a380610dfdce741a9036813","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_ecea71a21a380610dfdce741a9036813","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_acea71a21538061034a30669ff501713\" &amp;&amp; ((vaInputs.RootDecisionBranch_20ea71a2dd38061022e16af732ad6f14.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_ecea71a21a380610dfdce741a9036813___RootDecisionBranch_ecea71a21a380610dfdce741a9036813\";vaInputs.__silent_Branch_RootDecisionBranch_ecea71a21a380610dfdce741a9036813=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_ecea71a21a380610dfdce741a9036813___RootDecisionBranch_ecea71a21a380610dfdce741a9036813\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_ecea71a21a380610dfdce741a9036813","node_name":"RootDecisionBranch_ecea71a21a380610dfdce741a9036813","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_ecea71a21a380610dfdce741a9036813___RootDecisionBranch_ecea71a21a380610dfdce741a9036813\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_ecea71a21a380610dfdce741a9036813"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_05bbdb06694949c6aced5966f71afcf9.reset();})();(function() {vaInputs.__silent_Branch_35ef306285d548bd92ff332bca40db74.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_05bbdb06694949c6aced5966f71afcf9.reset();})();(function() {vaInputs.__silent_Branch_35ef306285d548bd92ff332bca40db74.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_35ef306285d548bd92ff332bca40db74","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___35ef306285d548bd92ff332bca40db74\";vaInputs.__silent_Branch_35ef306285d548bd92ff332bca40db74=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___35ef306285d548bd92ff332bca40db74\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"35ef306285d548bd92ff332bca40db74","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_05bbdb06694949c6aced5966f71afcf9","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___05bbdb06694949c6aced5966f71afcf9\";vaInputs.__silent_Branch_05bbdb06694949c6aced5966f71afcf9=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___05bbdb06694949c6aced5966f71afcf9\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"05bbdb06694949c6aced5966f71afcf9","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___05bbdb06694949c6aced5966f71afcf9\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___35ef306285d548bd92ff332bca40db74\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_650424fda02a45b9b0ac0a36860c2940_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 14:36:28</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__20ea71a22138061071bec3f61c18fc13</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:36:28</sys_created_on><sys_domain>global</sys_domain><sys_id>e0ea71a247380610c2e1a3e7826d4314</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__20ea71a22138061071bec3f61c18fc13</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_e0ea71a247380610c2e1a3e7826d4314</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:36:28</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=e0ea71a247380610c2e1a3e7826d4314"/></record_update>]]></payload>
<payload_hash>-269034096</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>3c7c712647380610c2e1a3e7826d4337</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28cb2f560000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__20ea71a22138061071bec3f61c18fc13</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>a8ea71a205380610df04ac4f10d8c815</update_guid>
<update_guid_history>a8ea71a205380610df04ac4f10d8c815:-269034096</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_12180dae47340610c2e1a3e7826d430d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__5a180daeac3406101c1a698553d41406">1e180dae47340610c2e1a3e7826d4307</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:54:35</sys_created_on><sys_domain>global</sys_domain><sys_id>12180dae47340610c2e1a3e7826d430d</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_12180dae47340610c2e1a3e7826d430d</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:54:35</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>967504313</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>3c7c712647380610c2e1a3e7826d433a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28000bb80000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>121841ee5f340610dd4c37a7ace06328</update_guid>
<update_guid_history>121841ee5f340610dd4c37a7ace06328:967504313</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_7c66d16e47740610c2e1a3e7826d43d7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__7466d16e267406102015a420aa2a16d1">7866d16e47740610c2e1a3e7826d43d2</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:57:01</sys_created_on><sys_domain>global</sys_domain><sys_id>7c66d16e47740610c2e1a3e7826d43d7</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_7c66d16e47740610c2e1a3e7826d43d7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:57:01</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>2014853349</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>3c7c712647380610c2e1a3e7826d433d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e283934cf0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>b866996edc7406105c4ae4722e01081d</update_guid>
<update_guid_history>b866996edc7406105c4ae4722e01081d:2014853349</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_c02d81e247740610c2e1a3e7826d43eb</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__0c2d81e25c740610df946f983461f9e4">cc2d81e247740610c2e1a3e7826d43e5</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:16:33</sys_created_on><sys_domain>global</sys_domain><sys_id>c02d81e247740610c2e1a3e7826d43eb</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_c02d81e247740610c2e1a3e7826d43eb</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:16:33</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>1859325782</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>3c7c712647380610c2e1a3e7826d4340</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e281428bd0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>042d81e28d7406106d74df342a547fec</update_guid>
<update_guid_history>042d81e28d7406106d74df342a547fec:1859325782</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_nlu_utterance_14b738ae47f00610c2e1a3e7826d4316</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_nlu_utterance"><sys_nlu_utterance action="INSERT_OR_UPDATE"><intent display_value="Connect GPT">3f37fc6e47f00610c2e1a3e7826d43f7</intent><original_utterance/><primary_utterance/><source>manual</source><sys_class_name>sys_nlu_utterance</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:42:54</sys_created_on><sys_id>14b738ae47f00610c2e1a3e7826d4316</sys_id><sys_mod_count>0</sys_mod_count><sys_name>troubleshoot</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_nlu_utterance_14b738ae47f00610c2e1a3e7826d4316</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:42:54</sys_updated_on><utterance>troubleshoot</utterance></sys_nlu_utterance></record_update>]]></payload>
<payload_hash>1967047928</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>3c7c712647380610c2e1a3e7826d4343</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27be6a3d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>troubleshoot</target_name>
<type>NLU Utterance</type>
<update_domain>global</update_domain>
<update_guid>10b738aed3f00610937633d876104a18</update_guid>
<update_guid_history>10b738aed3f00610937633d876104a18:1967047928</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_59f7dd6e47740610c2e1a3e7826d43bd</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__19f7dd6e71740610c38b21f1c9e0d2b9">d9f7dd6e47740610c2e1a3e7826d43ba</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"15b871c575044788a0463b3284c307f5","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"15b871c575044788a0463b3284c307f5"}],"goals":[{"name":"primary","trigger_id":"15b871c575044788a0463b3284c307f5","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"ab19acc2b8924345a2d2bf3656a57ff2","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"67729c3cdd1141f1bff9512bdc1400c8","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"ab19acc2b8924345a2d2bf3656a57ff2","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"ab19acc2b8924345a2d2bf3656a57ff2"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"67729c3cdd1141f1bff9512bdc1400c8","id":"7e27041fde704dafa3c57c0df71d7044","name":"67729c3cdd1141f1bff9512bdc1400c8"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__19f7dd6e71740610c38b21f1c9e0d2b9","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__19f7dd6e71740610c38b21f1c9e0d2b9</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:03:52</sys_created_on><sys_domain>global</sys_domain><sys_id>59f7dd6e47740610c2e1a3e7826d43bd</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_59f7dd6e47740610c2e1a3e7826d43bd</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:03:52</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1887077497</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>607c712647380610c2e1a3e7826d4324</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e283f7bb50000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>99f7dd6e6b74061052705c4842f1d6be</update_guid>
<update_guid_history>99f7dd6e6b74061052705c4842f1d6be:1887077497</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_1cbd452647740610c2e1a3e7826d4390</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__c8bd4526c47406100e8818dca607b38c">8cbd452647740610c2e1a3e7826d438d</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"10e484c77c0c43ed9c07f1e3e43cc1ef","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"10e484c77c0c43ed9c07f1e3e43cc1ef"}],"goals":[{"name":"primary","trigger_id":"10e484c77c0c43ed9c07f1e3e43cc1ef","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"ad14856aa0134104ababa24bab869808","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"be18d0fa4e574f2e9ecaa17b9438716c","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"ad14856aa0134104ababa24bab869808","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"ad14856aa0134104ababa24bab869808"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"be18d0fa4e574f2e9ecaa17b9438716c","id":"7e27041fde704dafa3c57c0df71d7044","name":"be18d0fa4e574f2e9ecaa17b9438716c"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__c8bd4526c47406100e8818dca607b38c","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__c8bd4526c47406100e8818dca607b38c</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:19:01</sys_created_on><sys_domain>global</sys_domain><sys_id>1cbd452647740610c2e1a3e7826d4390</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_1cbd452647740610c2e1a3e7826d4390</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:19:01</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-312915279</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>607c75a247380610c2e1a3e7826d4363</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2816699f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>5cbd452664740610097453458db37f91</update_guid>
<update_guid_history>5cbd452664740610097453458db37f91:-312915279</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_448ea16647f40610c2e1a3e7826d436b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__377ea1665cf40610c968de768bce4067">c48ea16647f40610c2e1a3e7826d4368</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"b682a848ddbe459eabb04e419dd24040","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"b682a848ddbe459eabb04e419dd24040"}],"goals":[{"name":"primary","trigger_id":"b682a848ddbe459eabb04e419dd24040","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"a1f501f41a974866b3bda69f922f4680","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"5115d1d54b7a4c0c8e2f5717958b3157","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\nvar request = vaInputs.request.toString();\nvar array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', array);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n var output = parsedBody.choices[0].message.content;\n vaVars.Output.u_your_answer = output.trim();\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = JSON.stringify(message);\n}\n\n})()\n","id":"27d00bf90d7249c9abffba1e26630355","name":"Continue Conversation","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"27d00bf90d7249c9abffba1e26630355","target_node_id":"5115d1d54b7a4c0c8e2f5717958b3157","id":"49019a82541540bc840400911ef7a030"},{"type":"Edge","source_node_id":"a1f501f41a974866b3bda69f922f4680","target_node_id":"27d00bf90d7249c9abffba1e26630355","id":"7478d668356e446ab58435013b64513e"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Output","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"07ca374af3e94217bfa05558977275c1","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"request","list":false,"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","library-usage":{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Output}}"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__377ea1665cf40610c968de768bce4067","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"csTopicId":"eae0a4a647b00610c2e1a3e7826d43af","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>d6bfd8e247b00610c2e1a3e7826d4367</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "a1f501f41a974866b3bda69f922f4680": {
          "id": "a1f501f41a974866b3bda69f922f4680",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "type": "String",
              "value": "",
              "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
              "name": "Request",
              "required": true,
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "1dc4bbfc8f5d4a2fbb244a5e87254429"
          ]
        },
        "5115d1d54b7a4c0c8e2f5717958b3157": {
          "id": "5115d1d54b7a4c0c8e2f5717958b3157",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "Output",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Output}}",
                        "displayValue": "Script Variables➛Output"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": false
            }
          ]
        },
        "27d00bf90d7249c9abffba1e26630355": {
          "id": "27d00bf90d7249c9abffba1e26630355",
          "name": "Continue Conversation",
          "script": "(function execute() {\n\nvar request = vaInputs.request.toString();\nvar array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', array);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n var output = parsedBody.choices[0].message.content;\n vaVars.Output.u_your_answer = output.trim();\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = JSON.stringify(message);\n}\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "49019a82541540bc840400911ef7a030",
          "edgeType": "Edge",
          "source": "27d00bf90d7249c9abffba1e26630355",
          "target": "5115d1d54b7a4c0c8e2f5717958b3157",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7478d668356e446ab58435013b64513e",
          "edgeType": "Edge",
          "source": "a1f501f41a974866b3bda69f922f4680",
          "target": "27d00bf90d7249c9abffba1e26630355",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "07ca374af3e94217bfa05558977275c1": {
      "id": "07ca374af3e94217bfa05558977275c1",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Output",
      "label": "Output",
      "varType": "script",
      "category": "vaVars"
    },
    "1dc4bbfc8f5d4a2fbb244a5e87254429": {
      "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
      "name": "request",
      "label": "Request",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "a1f501f41a974866b3bda69f922f4680",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__377ea1665cf40610c968de768bce4067</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:42:22</sys_created_on><sys_domain>global</sys_domain><sys_id>448ea16647f40610c2e1a3e7826d436b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_448ea16647f40610c2e1a3e7826d436b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:42:22</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-419485741</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>647c712647380610c2e1a3e7826d4323</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2899a67b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>848ea166cdf40610a98d92613947b26c</update_guid>
<update_guid_history>848ea166cdf40610a98d92613947b26c:-419485741</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>m2m_sys_nlu_model_sys_entity_de27f86e47f00610c2e1a3e7826d435c</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sys_nlu_model_sys_entity"><m2m_sys_nlu_model_sys_entity action="INSERT_OR_UPDATE"><active>true</active><entity>DURATION</entity><model display_value="VA GPT">da27786e47f00610c2e1a3e7826d4339</model><sys_class_name>m2m_sys_nlu_model_sys_entity</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:40:35</sys_created_on><sys_entity/><sys_id>de27f86e47f00610c2e1a3e7826d435c</sys_id><sys_mod_count>0</sys_mod_count><sys_name>VA GPT.</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>m2m_sys_nlu_model_sys_entity_de27f86e47f00610c2e1a3e7826d435c</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:40:35</sys_updated_on></m2m_sys_nlu_model_sys_entity></record_update>]]></payload>
<payload_hash>-87553832</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>647c75a247380610c2e1a3e7826d4362</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bc4c400000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>VA GPT.</target_name>
<type>NLU Model System Entity</type>
<update_domain>global</update_domain>
<update_guid>de27f86e0af0061039da62b9ebb6f25d</update_guid>
<update_guid_history>de27f86e0af0061039da62b9ebb6f25d:-87553832</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_4462d92a47740610c2e1a3e7826d43e4</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__7f52d92aa2740610589555e6dc1df0df">7352d92a47740610c2e1a3e7826d43e1</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"c2bceb4394274930aec5f6bc0333bd12","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"c2bceb4394274930aec5f6bc0333bd12"}],"goals":[{"name":"primary","trigger_id":"c2bceb4394274930aec5f6bc0333bd12","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"96617e51d6b940e5b8798d08200f23be","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"4346eb000ed3491abbf7f3ceb1ef3bdc","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"96617e51d6b940e5b8798d08200f23be","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"96617e51d6b940e5b8798d08200f23be"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"4346eb000ed3491abbf7f3ceb1ef3bdc","id":"7e27041fde704dafa3c57c0df71d7044","name":"4346eb000ed3491abbf7f3ceb1ef3bdc"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__7f52d92aa2740610589555e6dc1df0df","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__7f52d92aa2740610589555e6dc1df0df</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:39:29</sys_created_on><sys_domain>global</sys_domain><sys_id>4462d92a47740610c2e1a3e7826d43e4</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_4462d92a47740610c2e1a3e7826d43e4</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:39:29</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-443196771</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>647c75a247380610c2e1a3e7826d4365</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2829269b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>4062956a1b74061085a2bb12b73ad664</update_guid>
<update_guid_history>4062956a1b74061085a2bb12b73ad664:-443196771</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_6ae0a4a647b00610c2e1a3e7826d43b5</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="ChatGPT - Topic Block">eae0a4a647b00610c2e1a3e7826d43af</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"4b71207a51c044909f2773eb7793cd75","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"4b71207a51c044909f2773eb7793cd75"}],"goals":[{"name":"primary","trigger_id":"4b71207a51c044909f2773eb7793cd75","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"a1f501f41a974866b3bda69f922f4680","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"5115d1d54b7a4c0c8e2f5717958b3157","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var request = vaInputs.request.toString();\n    var payload = '[' + request + ']'\n\n\n    try {\n        var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n        r.setStringParameterNoEscape('payload', payload);\n\n        var response = r.execute();\n        var responseBody = response.getBody();\n        var httpStatus = response.getStatusCode();\n        var parsedBody = JSON.parse(responseBody);\n        var output = parsedBody.choices[0].message.content;\n        vaVars.Output = output.trim();\n        // vaVars.Output = httpStatus.toString();\n\n\n    }\n    catch (ex) {\n        var message = ex.message;\n        vaVars.Output = 'failure: ' + JSON.stringify(ex);\n    }\n\n})()\n","id":"27d00bf90d7249c9abffba1e26630355","name":"Continue Conversation","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"27d00bf90d7249c9abffba1e26630355","target_node_id":"5115d1d54b7a4c0c8e2f5717958b3157","id":"49019a82541540bc840400911ef7a030"},{"type":"Edge","source_node_id":"a1f501f41a974866b3bda69f922f4680","target_node_id":"27d00bf90d7249c9abffba1e26630355","id":"7478d668356e446ab58435013b64513e"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Output","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"07ca374af3e94217bfa05558977275c1","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"request","list":false,"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","library-usage":{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Output}}"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"ChatGPT - Topic Block","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"csTopicId":"eae0a4a647b00610c2e1a3e7826d43af","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>d6bfd8e247b00610c2e1a3e7826d4367</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "a1f501f41a974866b3bda69f922f4680": {
          "id": "a1f501f41a974866b3bda69f922f4680",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "type": "String",
              "value": "",
              "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
              "name": "Request",
              "required": true,
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "1dc4bbfc8f5d4a2fbb244a5e87254429"
          ]
        },
        "5115d1d54b7a4c0c8e2f5717958b3157": {
          "id": "5115d1d54b7a4c0c8e2f5717958b3157",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "Output",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Output}}",
                        "displayValue": "Script Variables➛Output"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": false
            }
          ]
        },
        "27d00bf90d7249c9abffba1e26630355": {
          "id": "27d00bf90d7249c9abffba1e26630355",
          "name": "Continue Conversation",
          "script": "(function execute() {\n\n    var request = vaInputs.request.toString();\n    var payload = '[' + request + ']'\n\n\n    try {\n        var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n        r.setStringParameterNoEscape('payload', payload);\n\n        var response = r.execute();\n        var responseBody = response.getBody();\n        var httpStatus = response.getStatusCode();\n        var parsedBody = JSON.parse(responseBody);\n        var output = parsedBody.choices[0].message.content;\n        vaVars.Output = output.trim();\n        // vaVars.Output = httpStatus.toString();\n\n\n    }\n    catch (ex) {\n        var message = ex.message;\n        vaVars.Output = 'failure: ' + JSON.stringify(ex);\n    }\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "49019a82541540bc840400911ef7a030",
          "edgeType": "Edge",
          "source": "27d00bf90d7249c9abffba1e26630355",
          "target": "5115d1d54b7a4c0c8e2f5717958b3157",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7478d668356e446ab58435013b64513e",
          "edgeType": "Edge",
          "source": "a1f501f41a974866b3bda69f922f4680",
          "target": "27d00bf90d7249c9abffba1e26630355",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "07ca374af3e94217bfa05558977275c1": {
      "id": "07ca374af3e94217bfa05558977275c1",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Output",
      "label": "Output",
      "varType": "script",
      "category": "vaVars"
    },
    "1dc4bbfc8f5d4a2fbb244a5e87254429": {
      "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
      "name": "request",
      "label": "Request",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "a1f501f41a974866b3bda69f922f4680",
      "isHidden": false
    }
  }
}</graph><name>ChatGPT - Topic Block</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 08:03:23</sys_created_on><sys_domain>global</sys_domain><sys_id>6ae0a4a647b00610c2e1a3e7826d43b5</sys_id><sys_mod_count>23</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_6ae0a4a647b00610c2e1a3e7826d43b5</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:37:07</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1765843632</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>687c712647380610c2e1a3e7826d4325</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28cbc7690000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>060b31a279380610e35f68048e33fa46</update_guid>
<update_guid_history>060b31a279380610e35f68048e33fa46:1765843632,ae4af5624c3806101d886906f569a83b:-516902240,3817b5ae8af40610739025bd26c7eb28:485357629,875375aafff406109ddbf22e70b18241:-1032217902,39707d66eff40610b9dc66e2b662b178:865413818,e070f5e6ddf406101f4da7b32a732452:1401524724,db00b5a68cf4061073c996a6d065bcb3:-424214367,546fa5a649f406108087c2db56263dab:-1470339703,015dede28ef40610c52baa0934e35508:-903033053,efa9d16277b406108d686659858d8d67:-557225019,1fd89122f1b40610f456780002e98c45:146141877,737815ee98740610284dbd68dbbbd5c8:1600557750,3a78d96ea77406104c3b626e66900490:-908948661,1cf7d9ae21740610fb8578b4089fc4ae:1360126407,7a36d16e627406107682fe302873cfee:-8358968,98be49660f74061099b55bce64d5a5ec:-735224048,0d1ec1264d740610819044d16f622ab0:240376620,f7a5b42664f006106b8fb54d4b81f0ea:-1600806899,9f95bcaee4b006108294322e92d5b326:44119082,511964aefab00610fea26ac403d12567:-1706346320,4d19a8ae38b0061065ad722ed6b1f121:1822420202,3c88686e53b00610bd7ddd60d70d9b4e:-1205760465,d4152c6a81b00610f00b65d20cfe75a1:1061205915,66e0a8a63eb006100978905b3ddb4074:-1644411729</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>m2m_sys_nlu_model_sys_entity_9e27f86e47f00610c2e1a3e7826d435a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sys_nlu_model_sys_entity"><m2m_sys_nlu_model_sys_entity action="INSERT_OR_UPDATE"><active>true</active><entity>TIME</entity><model display_value="VA GPT">da27786e47f00610c2e1a3e7826d4339</model><sys_class_name>m2m_sys_nlu_model_sys_entity</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:40:35</sys_created_on><sys_entity/><sys_id>9e27f86e47f00610c2e1a3e7826d435a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>VA GPT.</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>m2m_sys_nlu_model_sys_entity_9e27f86e47f00610c2e1a3e7826d435a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:40:35</sys_updated_on></m2m_sys_nlu_model_sys_entity></record_update>]]></payload>
<payload_hash>-332106287</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>687c75a247380610c2e1a3e7826d4361</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bc4c280000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>VA GPT.</target_name>
<type>NLU Model System Entity</type>
<update_domain>global</update_domain>
<update_guid>9e27f86e40f006106dedf0fd5453b45b</update_guid>
<update_guid_history>9e27f86e40f006106dedf0fd5453b45b:-332106287</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_2d35752e47f40610c2e1a3e7826d43d8</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__9135756a40f40610135286276784a4d4">5935752e47f40610c2e1a3e7826d43d5</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"632af70949424b44a52ba02065ad2ddb","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"632af70949424b44a52ba02065ad2ddb"}],"goals":[{"name":"primary","trigger_id":"632af70949424b44a52ba02065ad2ddb","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"a1f501f41a974866b3bda69f922f4680","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"5115d1d54b7a4c0c8e2f5717958b3157","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n// var request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', [{ \"role\": \"user\", \"content\": \"Tell me about React JS\" }]);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n vaVars.Output = httpStatus.toString();\n console.log(responseBody);\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = 'failure: '+ JSON.stringify(ex);\n}\n\n})()\n","id":"27d00bf90d7249c9abffba1e26630355","name":"Continue Conversation","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"27d00bf90d7249c9abffba1e26630355","target_node_id":"5115d1d54b7a4c0c8e2f5717958b3157","id":"49019a82541540bc840400911ef7a030"},{"type":"Edge","source_node_id":"a1f501f41a974866b3bda69f922f4680","target_node_id":"27d00bf90d7249c9abffba1e26630355","id":"7478d668356e446ab58435013b64513e"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Output","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"07ca374af3e94217bfa05558977275c1","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"request","list":false,"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","library-usage":{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Output}}"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__9135756a40f40610135286276784a4d4","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"csTopicId":"eae0a4a647b00610c2e1a3e7826d43af","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>d6bfd8e247b00610c2e1a3e7826d4367</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "a1f501f41a974866b3bda69f922f4680": {
          "id": "a1f501f41a974866b3bda69f922f4680",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "type": "String",
              "value": "",
              "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
              "name": "Request",
              "required": true,
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "1dc4bbfc8f5d4a2fbb244a5e87254429"
          ]
        },
        "5115d1d54b7a4c0c8e2f5717958b3157": {
          "id": "5115d1d54b7a4c0c8e2f5717958b3157",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "Output",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Output}}",
                        "displayValue": "Script Variables➛Output"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": false
            }
          ]
        },
        "27d00bf90d7249c9abffba1e26630355": {
          "id": "27d00bf90d7249c9abffba1e26630355",
          "name": "Continue Conversation",
          "script": "(function execute() {\n\n// var request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', [{ \"role\": \"user\", \"content\": \"Tell me about React JS\" }]);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n vaVars.Output = httpStatus.toString();\n console.log(responseBody);\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = 'failure: '+ JSON.stringify(ex);\n}\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "49019a82541540bc840400911ef7a030",
          "edgeType": "Edge",
          "source": "27d00bf90d7249c9abffba1e26630355",
          "target": "5115d1d54b7a4c0c8e2f5717958b3157",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7478d668356e446ab58435013b64513e",
          "edgeType": "Edge",
          "source": "a1f501f41a974866b3bda69f922f4680",
          "target": "27d00bf90d7249c9abffba1e26630355",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "07ca374af3e94217bfa05558977275c1": {
      "id": "07ca374af3e94217bfa05558977275c1",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Output",
      "label": "Output",
      "varType": "script",
      "category": "vaVars"
    },
    "1dc4bbfc8f5d4a2fbb244a5e87254429": {
      "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
      "name": "request",
      "label": "Request",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "a1f501f41a974866b3bda69f922f4680",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__9135756a40f40610135286276784a4d4</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:11:41</sys_created_on><sys_domain>global</sys_domain><sys_id>2d35752e47f40610c2e1a3e7826d43d8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_2d35752e47f40610c2e1a3e7826d43d8</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:11:41</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-160121976</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>687c75a247380610c2e1a3e7826d4364</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28b47d710000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>ad35752e28f406106f35d5e9d80516d9</update_guid>
<update_guid_history>ad35752e28f406106f35d5e9d80516d9:-160121976</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_620ee92647f40610c2e1a3e7826d4381</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__220eede2dbf406108f08200b0d66860d">e20eede247f40610c2e1a3e7826d430e</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"f896a54a0d4049699a59170081ca817c","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"f896a54a0d4049699a59170081ca817c"}],"goals":[{"name":"primary","trigger_id":"f896a54a0d4049699a59170081ca817c","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"5eee83b59abf4bdd94b77c4fcfc4efe8","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"8869c8b188944fccb73d204db64068fc","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"5eee83b59abf4bdd94b77c4fcfc4efe8","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"5eee83b59abf4bdd94b77c4fcfc4efe8"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"8869c8b188944fccb73d204db64068fc","id":"7e27041fde704dafa3c57c0df71d7044","name":"8869c8b188944fccb73d204db64068fc"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__220eede2dbf406108f08200b0d66860d","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__220eede2dbf406108f08200b0d66860d</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:40:21</sys_created_on><sys_domain>global</sys_domain><sys_id>620ee92647f40610c2e1a3e7826d4381</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_620ee92647f40610c2e1a3e7826d4381</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:40:21</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1512110573</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>6c7c712647380610c2e1a3e7826d4324</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2897d0b80000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>a20ee926fff4061079a36a4e171b3d82</update_guid>
<update_guid_history>a20ee926fff4061079a36a4e171b3d82:1512110573</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>m2m_sys_nlu_model_sys_entity_1e27f86e47f00610c2e1a3e7826d4375</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sys_nlu_model_sys_entity"><m2m_sys_nlu_model_sys_entity action="INSERT_OR_UPDATE"><active>true</active><entity>HARDWARE</entity><model display_value="VA GPT">da27786e47f00610c2e1a3e7826d4339</model><sys_class_name>m2m_sys_nlu_model_sys_entity</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:40:35</sys_created_on><sys_entity/><sys_id>1e27f86e47f00610c2e1a3e7826d4375</sys_id><sys_mod_count>0</sys_mod_count><sys_name>VA GPT.</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>m2m_sys_nlu_model_sys_entity_1e27f86e47f00610c2e1a3e7826d4375</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:40:35</sys_updated_on></m2m_sys_nlu_model_sys_entity></record_update>]]></payload>
<payload_hash>799628844</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>6c7c75a247380610c2e1a3e7826d4360</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bc4ce50000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>VA GPT.</target_name>
<type>NLU Model System Entity</type>
<update_domain>global</update_domain>
<update_guid>1e27f86ed5f00610e8e2dc679e2ea676</update_guid>
<update_guid_history>1e27f86ed5f00610e8e2dc679e2ea676:799628844</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_28bcada247f40610c2e1a3e7826d43e7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__d4bcada2f2f40610b4689e53fb0f6de3">98bcada247f40610c2e1a3e7826d43e4</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"4007dfc353684a93a73b93387b88c90d","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"4007dfc353684a93a73b93387b88c90d"}],"goals":[{"name":"primary","trigger_id":"4007dfc353684a93a73b93387b88c90d","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"006a57bee83d438f92c1030e3ef2e3c4","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"ded187c18f824382b3b188349bb958cc","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"006a57bee83d438f92c1030e3ef2e3c4","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"006a57bee83d438f92c1030e3ef2e3c4"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"ded187c18f824382b3b188349bb958cc","id":"7e27041fde704dafa3c57c0df71d7044","name":"ded187c18f824382b3b188349bb958cc"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__d4bcada2f2f40610b4689e53fb0f6de3","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__d4bcada2f2f40610b4689e53fb0f6de3</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:34:28</sys_created_on><sys_domain>global</sys_domain><sys_id>28bcada247f40610c2e1a3e7826d43e7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_28bcada247f40610c2e1a3e7826d43e7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:34:28</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1875018380</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>6c7c75a247380610c2e1a3e7826d4363</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28926dfa0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>68bcada272f406109a5ebd4b4e33cce8</update_guid>
<update_guid_history>68bcada272f406109a5ebd4b4e33cce8:1875018380</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_8ec7f8ae47f00610c2e1a3e7826d4331</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__86c7f0aebef006107a0d6199d32ae329">4ac7f0ae47f00610c2e1a3e7826d432a</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"e008a52433f74dd899911a172ce69584","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"e008a52433f74dd899911a172ce69584"}],"goals":[{"name":"primary","trigger_id":"e008a52433f74dd899911a172ce69584","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"03ea6fd3dc0245bd92442aad28ac03d8","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"66832489349249bcb09d42872a3dc778","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    if (orignal_obj.length &gt; 0) {\n        message.push(orignal_obj);   // push initial or old data if exists\n    }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    if (gpt_response.length &gt; 0) {\n        var new_assistant_obj = {\n            \"role\": \"assistant\",\n            \"content\": gpt_response\n        };\n        message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    }\n\n    vaVars.Request = message.toString();\n\n})()\n","id":"778b69bb03ad4167a9a7a1246ade5a8d","name":"Parse Data Into 1 JSON","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"03ea6fd3dc0245bd92442aad28ac03d8","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"03ea6fd3dc0245bd92442aad28ac03d8"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"66832489349249bcb09d42872a3dc778","id":"7e27041fde704dafa3c57c0df71d7044","name":"66832489349249bcb09d42872a3dc778"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"778b69bb03ad4167a9a7a1246ade5a8d","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"778b69bb03ad4167a9a7a1246ade5a8d","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"6d31c36a4f734fe4a0789b67028e593a"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation_JSON","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__86c7f0aebef006107a0d6199d32ae329","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "778b69bb03ad4167a9a7a1246ade5a8d": {
          "id": "778b69bb03ad4167a9a7a1246ade5a8d",
          "name": "Parse Data Into 1 JSON",
          "script": "(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    if (orignal_obj.length &gt; 0) {\n        message.push(orignal_obj);   // push initial or old data if exists\n    }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    if (gpt_response.length &gt; 0) {\n        var new_assistant_obj = {\n            \"role\": \"assistant\",\n            \"content\": gpt_response\n        };\n        message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    }\n\n    vaVars.Request = message.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": false
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "778b69bb03ad4167a9a7a1246ade5a8d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "6d31c36a4f734fe4a0789b67028e593a",
          "edgeType": "Edge",
          "source": "778b69bb03ad4167a9a7a1246ade5a8d",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation_JSON",
      "label": "Continue_Conversation_JSON",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": false,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__86c7f0aebef006107a0d6199d32ae329</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:43:17</sys_created_on><sys_domain>global</sys_domain><sys_id>8ec7f8ae47f00610c2e1a3e7826d4331</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_8ec7f8ae47f00610c2e1a3e7826d4331</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:43:17</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>608953463</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>707c712647380610c2e1a3e7826d4327</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bec5fc0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>82c7f8ae31f006101cd6f3050a150a33</update_guid>
<update_guid_history>82c7f8ae31f006101cd6f3050a150a33:608953463</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_c4c60d2a47340610c2e1a3e7826d43b8</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__4cc60d2a2e34061094747c541184acb3">80c60d2a47340610c2e1a3e7826d43b5</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"51686e6f1e2044c7a46ba9eb28a6d5ec","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"51686e6f1e2044c7a46ba9eb28a6d5ec"}],"goals":[{"name":"primary","trigger_id":"51686e6f1e2044c7a46ba9eb28a6d5ec","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"c60cc709ae5b427e95e90e827777f1d6","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"ab5efabfa8d64cb9b37e9e9dced4081e","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    vaVars.Request  = JSON.stringify(user_output);\n    vaVars.Continue_Conversation  = JSON.stringify(user_output);\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n\n\n    var response = vaVars.Continue_Conversation + JSON.stringify(bot_output);\n    var array = response.toString();\n\n    vaVars.Continue_Conversation = array;\n    vaVars.Request = array;\n\n\n})()\n","id":"35f71430d8144b26a51b368ffd1f4ce9","name":"Parse Data and Set String","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"c60cc709ae5b427e95e90e827777f1d6","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"c60cc709ae5b427e95e90e827777f1d6"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"ab5efabfa8d64cb9b37e9e9dced4081e","id":"7e27041fde704dafa3c57c0df71d7044","name":"ab5efabfa8d64cb9b37e9e9dced4081e"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"35f71430d8144b26a51b368ffd1f4ce9","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"35f71430d8144b26a51b368ffd1f4ce9","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"1c9d9bd857c04ef2939d06a6f3997837"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__4cc60d2a2e34061094747c541184acb3","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    vaVars.Request  = JSON.stringify(user_output);\n    vaVars.Continue_Conversation  = JSON.stringify(user_output);\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "35f71430d8144b26a51b368ffd1f4ce9": {
          "id": "35f71430d8144b26a51b368ffd1f4ce9",
          "name": "Parse Data and Set String",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n\n\n    var response = vaVars.Continue_Conversation + JSON.stringify(bot_output);\n    var array = response.toString();\n\n    vaVars.Continue_Conversation = array;\n    vaVars.Request = array;\n\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "35f71430d8144b26a51b368ffd1f4ce9",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "1c9d9bd857c04ef2939d06a6f3997837",
          "edgeType": "Edge",
          "source": "35f71430d8144b26a51b368ffd1f4ce9",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__4cc60d2a2e34061094747c541184acb3</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:48:41</sys_created_on><sys_domain>global</sys_domain><sys_id>c4c60d2a47340610c2e1a3e7826d43b8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_c4c60d2a47340610c2e1a3e7826d43b8</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:48:41</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>756757152</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>707c712647380610c2e1a3e7826d432a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27faa7370000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>c8c60d2a4034061019bb5ada95025eb9</update_guid>
<update_guid_history>c8c60d2a4034061019bb5ada95025eb9:756757152</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_topic_bb184bf947bc4210c2e1a3e7826d4371</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_topic"><sys_cb_topic action="INSERT_OR_UPDATE"><applicability/><applicability_mode>query</applicability_mode><autopilot_topic>false</autopilot_topic><category/><channels/><connect_queue/><description/><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><key_phrases>ChatGPT</key_phrases><library>false</library><live_agent>false</live_agent><name>ChatGPT</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><roles/><root_topic_id/><secure_custom_input_control>false</secure_custom_input_control><source_topic_id/><sys_class_name>sys_cb_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-08 12:18:28</sys_created_on><sys_domain>global</sys_domain><sys_id>bb184bf947bc4210c2e1a3e7826d4371</sys_id><sys_mod_count>31</sys_mod_count><sys_name>ChatGPT</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_topic_bb184bf947bc4210c2e1a3e7826d4371</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:29:04</sys_updated_on><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type></sys_cb_topic></record_update>]]></payload>
<payload_hash>-1081247461</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>707c712647380610c2e1a3e7826d432d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e281f9d850000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>ChatGPT</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>2bffcda642740610a056481a63cfd89e</update_guid>
<update_guid_history>2bffcda642740610a056481a63cfd89e:-1081247461,b9cf8da2c9740610dc4cc8e9cda416f0:-94694636,0f5f01e2437406102a923a4b74951255:-1219030975,15ea8da2f7340610eb36d15fe881c651:-1745595644,e00acd22e57406104ce21907419f8f5f:319312714,641801ee6e340610425ccb534a049293:575741707,46c705ae5b34061002d13cb33318dab0:-2011015711,1d6705aefb34061019533ee3c910faac:-2019973441,1607c1e241340610941652f010297e2b:-152612245,c2b689a694340610739865ff22c18ce6:584296851,d0e28d6a6e340610ff8a4529eef51409:410942416,83bc7ca2d134061089f2654572e5bb93:-115709438,a81cf0e21e3406104d79332807adf926:519986965,d3bbbc6277340610c7b4bcd61be41244:-1121429063,d98b78ee2ef006105066b494d5f3ee29:-1604567892,7cda78eeaff00610b7d29b493d0391f2:-1601060881,dd1978ae84f00610bc741e2f080e403d:-1500192548,428878ee96f006109aa71dfed491ad23:-272886822,d036f0aa7df00610d57563e528eed5d5:-372092170,f926fc6a62f0061005be215d4fc00837:1262953625,b7d4386e36b006102e2713f7f1ceece1:1766989399,49a4bcae6eb00610d6f4278fba6790d3:-250700731,3b44bc6e46b00610bcf13398b5014dee:-979991754,960fecae74b006104f1a4ecd16072051:378698100,58dea42656f00610813318b62cfe76e2:1943975050,1efdecae1cb006109eca627da42c054d:1387959092,26c8ec6eecb006100c9faa91627072dd:533282217,dc78ec6efcb00610780387675f339fd4:-2123466684,261e580ea4f08210d3c6a3b514c5812d:-676457324,e05c940ebef08210ec3e33d5547edda2:-1203770623,e38803bdf9bc4210e8004e71d4c2770a:140340636,7f184bf935bc4210a62d97d69d8d2e72:370875036</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_3e67996e47740610c2e1a3e7826d4324</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT - Topic Block">d6bfd8e247b00610c2e1a3e7826d4367</cb_topic_id><channels/><definition>{"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__7a67996ed9740610d53fc037325a5c23","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__7a67996ed9740610d53fc037325a5c23","applicability":"true","categories":[],"key_phrases":[],"variables":[{"name":"Output","type":"java.lang.Object"},{"name":"_reusable_topic_outputs_var","type":"java.lang.Object","init_value":"(function execute() {return JSON.stringify({\"populated\":false,\"values\":{\"output\":\"\"}})})()"},{"name":"__segment_trigger_a11364e770684be08d59932218116175_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"request","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_3a67996e8d7406107f19ac4c43215524","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_f667996ee77406106a1242ad039c7624","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_b667996eae7406108a3f387567060624","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_a11364e770684be08d59932218116175_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_3a67996e8d7406107f19ac4c43215524\");vaInputs.initialize(\"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157\");vaInputs.initialize(\"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680\");vaInputs.initialize(\"__silent_Decision_RootDecision_b667996eae7406108a3f387567060624\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_f667996ee77406106a1242ad039c7624\");vaInputs.initialize(\"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355\");vaInputs.initialize(\"request\");vaInputs.request=JSON.parse('\"\"');null;","fields":[{"name":"__silent_Decision_RootDecision_b667996eae7406108a3f387567060624","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_b667996eae7406108a3f387567060624\";vaInputs.__silent_Decision_RootDecision_b667996eae7406108a3f387567060624=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_b667996eae7406108a3f387567060624\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_3a67996e8d7406107f19ac4c43215524=true;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_b667996eae7406108a3f387567060624","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_f667996ee77406106a1242ad039c7624","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_f667996ee77406106a1242ad039c7624","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_b667996eae7406108a3f387567060624\" &amp;&amp; ((vaInputs.RootDecisionBranch_3a67996e8d7406107f19ac4c43215524.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_f667996ee77406106a1242ad039c7624___RootDecisionBranch_f667996ee77406106a1242ad039c7624\";vaInputs.__silent_Branch_RootDecisionBranch_f667996ee77406106a1242ad039c7624=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_f667996ee77406106a1242ad039c7624___RootDecisionBranch_f667996ee77406106a1242ad039c7624\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_f667996ee77406106a1242ad039c7624","node_name":"RootDecisionBranch_f667996ee77406106a1242ad039c7624","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_f667996ee77406106a1242ad039c7624___RootDecisionBranch_f667996ee77406106a1242ad039c7624\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";vaInputs.__silent_StartGoal_a1f501f41a974866b3bda69f922f4680=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"a1f501f41a974866b3bda69f922f4680","node_name":"Start","predecessor_nodes":["RootDecisionBranch_f667996ee77406106a1242ad039c7624"],"next_node":"Continue Conversation","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","applicable":"vaVars.previous_graph_node==\"Start___a1f501f41a974866b3bda69f922f4680\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";(function execute() {(function execute() {\n\nvar request = vaInputs.request.toString();\nvar array = request.split(',');\nvar payload = [];\n\nfor (var i = 0; i &lt; array.length; i++) {\n    payload.push(JSON.parse(array[i]));\n}\n\n//  try { \n//  var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n//  r.setStringParameterNoEscape('payload', payload);\n\n//  var response = r.execute();\n//  var responseBody = response.getBody();\n//  var httpStatus = response.getStatusCode();\n// vaVars.Output = responseBody.toString();\n\n// }\n// catch(ex) {\n//  var message = ex.message;\n// }\n\nvaVars.Output = payload.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"27d00bf90d7249c9abffba1e26630355","node_name":"Continue Conversation","predecessor_nodes":["Start"],"next_node":"End","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","applicable":"vaVars.previous_graph_node==\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";vaInputs.__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_a11364e770684be08d59932218116175_done=true;(function execute() {var tmp={values:{}};tmp.values.output=vaVars.Output;tmp.populated=true;vaVars._reusable_topic_outputs_var=JSON.stringify(tmp);})();ackMsg;","metadata":{"type":"graph_node","node_id":"5115d1d54b7a4c0c8e2f5717958b3157","node_name":"End","predecessor_nodes":["Continue Conversation"],"node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[],"confirmation_msg":"gs.getMessageLang('[PREVIEW ONLY] The topic return values are: {0}', vaContext.getRequesterLang(), JSON.stringify(JSON.parse(vaVars._reusable_topic_outputs_var).values));"}],"roles":[],"active":true,"published":false,"library":true,"expose_on_palette":false,"palette_label":"ChatGPT - Topic Block","flexible_conversation_switching":true,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"TOPIC_BLOCK","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT - Topic Block","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases/><last_published_on>2024-03-10 12:01:31</last_published_on><library>true</library><library_usage>{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","mode":"string","value":"{{vaVars.Output}}"}}]}</library_usage><metaphone/><name>_PRVW__7a67996ed9740610d53fc037325a5c23</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label>ChatGPT - Topic Block</palette_label><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:01:31</sys_created_on><sys_domain>global</sys_domain><sys_id>3e67996e47740610c2e1a3e7826d4324</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__7a67996ed9740610d53fc037325a5c23</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_3e67996e47740610c2e1a3e7826d4324</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:01:31</sys_updated_on><title>ChatGPT - Topic Block</title><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=3e67996e47740610c2e1a3e7826d4324"/></record_update>]]></payload>
<payload_hash>-2070554762</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>707c712647380610c2e1a3e7826d4330</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e283d541c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__7a67996ed9740610d53fc037325a5c23</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>f267996ee0740610813814e4c01e9426</update_guid>
<update_guid_history>f267996ee0740610813814e4c01e9426:-2070554762</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_7352d92a47740610c2e1a3e7826d43e1</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__7f52d92aa2740610589555e6dc1df0df","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__7f52d92aa2740610589555e6dc1df0df","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_c2bceb4394274930aec5f6bc0333bd12_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_bf52d92a297406108a444e4a626040e0","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_7f52d92a897406109f8ba9c4f008ace0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_4346eb000ed3491abbf7f3ceb1ef3bdc","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_96617e51d6b940e5b8798d08200f23be","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_3f52d92a3b74061084fa0244b703c9e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_c2bceb4394274930aec5f6bc0333bd12_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_bf52d92a297406108a444e4a626040e0\");vaInputs.initialize(\"__silent_Decision_RootDecision_3f52d92a3b74061084fa0244b703c9e0\");vaInputs.initialize(\"__silent_Branch_96617e51d6b940e5b8798d08200f23be\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_7f52d92a897406109f8ba9c4f008ace0\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Branch_4346eb000ed3491abbf7f3ceb1ef3bdc\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_3f52d92a3b74061084fa0244b703c9e0","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_3f52d92a3b74061084fa0244b703c9e0\";vaInputs.__silent_Decision_RootDecision_3f52d92a3b74061084fa0244b703c9e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_3f52d92a3b74061084fa0244b703c9e0\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_bf52d92a297406108a444e4a626040e0=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_7f52d92a897406109f8ba9c4f008ace0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_3f52d92a3b74061084fa0244b703c9e0","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_7f52d92a897406109f8ba9c4f008ace0","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_7f52d92a897406109f8ba9c4f008ace0","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_3f52d92a3b74061084fa0244b703c9e0\" &amp;&amp; ((vaInputs.RootDecisionBranch_bf52d92a297406108a444e4a626040e0.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_7f52d92a897406109f8ba9c4f008ace0___RootDecisionBranch_7f52d92a897406109f8ba9c4f008ace0\";vaInputs.__silent_Branch_RootDecisionBranch_7f52d92a897406109f8ba9c4f008ace0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_7f52d92a897406109f8ba9c4f008ace0___RootDecisionBranch_7f52d92a897406109f8ba9c4f008ace0\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_7f52d92a897406109f8ba9c4f008ace0","node_name":"RootDecisionBranch_7f52d92a897406109f8ba9c4f008ace0","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_7f52d92a897406109f8ba9c4f008ace0___RootDecisionBranch_7f52d92a897406109f8ba9c4f008ace0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_7f52d92a897406109f8ba9c4f008ace0"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_96617e51d6b940e5b8798d08200f23be.reset();})();(function() {vaInputs.__silent_Branch_4346eb000ed3491abbf7f3ceb1ef3bdc.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_96617e51d6b940e5b8798d08200f23be.reset();})();(function() {vaInputs.__silent_Branch_4346eb000ed3491abbf7f3ceb1ef3bdc.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_96617e51d6b940e5b8798d08200f23be","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___96617e51d6b940e5b8798d08200f23be\";vaInputs.__silent_Branch_96617e51d6b940e5b8798d08200f23be=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___96617e51d6b940e5b8798d08200f23be\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"96617e51d6b940e5b8798d08200f23be","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_4346eb000ed3491abbf7f3ceb1ef3bdc","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___4346eb000ed3491abbf7f3ceb1ef3bdc\";vaInputs.__silent_Branch_4346eb000ed3491abbf7f3ceb1ef3bdc=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___4346eb000ed3491abbf7f3ceb1ef3bdc\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"4346eb000ed3491abbf7f3ceb1ef3bdc","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___4346eb000ed3491abbf7f3ceb1ef3bdc\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___96617e51d6b940e5b8798d08200f23be\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_c2bceb4394274930aec5f6bc0333bd12_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 11:39:28</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__7f52d92aa2740610589555e6dc1df0df</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:39:28</sys_created_on><sys_domain>global</sys_domain><sys_id>7352d92a47740610c2e1a3e7826d43e1</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__7f52d92aa2740610589555e6dc1df0df</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_7352d92a47740610c2e1a3e7826d43e1</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:39:28</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=7352d92a47740610c2e1a3e7826d43e1"/></record_update>]]></payload>
<payload_hash>-1346940836</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>707c712647380610c2e1a3e7826d4333</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2829265c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__7f52d92aa2740610589555e6dc1df0df</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>0c62d92aea74061088a0109423104de2</update_guid>
<update_guid_history>0c62d92aea74061088a0109423104de2:-1346940836</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_b133b5a647f40610c2e1a3e7826d4368</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__fd33b5a691f406105046e2e837942266","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__fd33b5a691f406105046e2e837942266","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_36e199cdf1d94a9e8cd3b94d20021a8d_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_fd33b5a607f40610c5385c0a5283ba67","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_bd33b5a6bef406103cedd16269fce467","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_9d9051dad9344ad2aabd6a9984ef400a","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_7bc48a4b3ec34d8dae0140a720b6e171","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_7d33b5a65ef40610a95fcb28424e3567","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_36e199cdf1d94a9e8cd3b94d20021a8d_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_fd33b5a607f40610c5385c0a5283ba67\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Branch_9d9051dad9344ad2aabd6a9984ef400a\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Decision_RootDecision_7d33b5a65ef40610a95fcb28424e3567\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"__silent_Branch_7bc48a4b3ec34d8dae0140a720b6e171\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_bd33b5a6bef406103cedd16269fce467\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_7d33b5a65ef40610a95fcb28424e3567","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_7d33b5a65ef40610a95fcb28424e3567\";vaInputs.__silent_Decision_RootDecision_7d33b5a65ef40610a95fcb28424e3567=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_7d33b5a65ef40610a95fcb28424e3567\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_fd33b5a607f40610c5385c0a5283ba67=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_bd33b5a6bef406103cedd16269fce467.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_7d33b5a65ef40610a95fcb28424e3567","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_bd33b5a6bef406103cedd16269fce467","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_bd33b5a6bef406103cedd16269fce467","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_7d33b5a65ef40610a95fcb28424e3567\" &amp;&amp; ((vaInputs.RootDecisionBranch_fd33b5a607f40610c5385c0a5283ba67.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_bd33b5a6bef406103cedd16269fce467___RootDecisionBranch_bd33b5a6bef406103cedd16269fce467\";vaInputs.__silent_Branch_RootDecisionBranch_bd33b5a6bef406103cedd16269fce467=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_bd33b5a6bef406103cedd16269fce467___RootDecisionBranch_bd33b5a6bef406103cedd16269fce467\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_bd33b5a6bef406103cedd16269fce467","node_name":"RootDecisionBranch_bd33b5a6bef406103cedd16269fce467","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_bd33b5a6bef406103cedd16269fce467___RootDecisionBranch_bd33b5a6bef406103cedd16269fce467\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_bd33b5a6bef406103cedd16269fce467"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_9d9051dad9344ad2aabd6a9984ef400a.reset();})();(function() {vaInputs.__silent_Branch_7bc48a4b3ec34d8dae0140a720b6e171.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_9d9051dad9344ad2aabd6a9984ef400a.reset();})();(function() {vaInputs.__silent_Branch_7bc48a4b3ec34d8dae0140a720b6e171.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_7bc48a4b3ec34d8dae0140a720b6e171","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___7bc48a4b3ec34d8dae0140a720b6e171\";vaInputs.__silent_Branch_7bc48a4b3ec34d8dae0140a720b6e171=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___7bc48a4b3ec34d8dae0140a720b6e171\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"7bc48a4b3ec34d8dae0140a720b6e171","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_9d9051dad9344ad2aabd6a9984ef400a","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___9d9051dad9344ad2aabd6a9984ef400a\";vaInputs.__silent_Branch_9d9051dad9344ad2aabd6a9984ef400a=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___9d9051dad9344ad2aabd6a9984ef400a\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"9d9051dad9344ad2aabd6a9984ef400a","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___9d9051dad9344ad2aabd6a9984ef400a\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___7bc48a4b3ec34d8dae0140a720b6e171\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_36e199cdf1d94a9e8cd3b94d20021a8d_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 14:02:58</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__fd33b5a691f406105046e2e837942266</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:02:58</sys_created_on><sys_domain>global</sys_domain><sys_id>b133b5a647f40610c2e1a3e7826d4368</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__fd33b5a691f406105046e2e837942266</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_b133b5a647f40610c2e1a3e7826d4368</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:02:58</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=b133b5a647f40610c2e1a3e7826d4368"/></record_update>]]></payload>
<payload_hash>212855695</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>707c712647380610c2e1a3e7826d4336</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28ac84ea0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__fd33b5a691f406105046e2e837942266</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>7533b1aa85f40610036cf85aa4d90176</update_guid>
<update_guid_history>7533b1aa85f40610036cf85aa4d90176:212855695</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_f34af56247380610c2e1a3e7826d43d8</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__f34a316e4ff40610f79f5358b723a891","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__f34a316e4ff40610f79f5358b723a891","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_76da424e448148ff98f74b7eaf6a5128_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_334af562933806109131cc7ca1b88fd8","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Branch_1f3dcd45f76a494ca6cfeee293a40b20","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_ff4af5621338061056dafbdf35103cd7","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_bf4af562be380610f01a5d1a93a378d7","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_cb65cfc6a9824c8f9b66d33c9be63365","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_76da424e448148ff98f74b7eaf6a5128_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_334af562933806109131cc7ca1b88fd8\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Decision_RootDecision_bf4af562be380610f01a5d1a93a378d7\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_ff4af5621338061056dafbdf35103cd7\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Branch_1f3dcd45f76a494ca6cfeee293a40b20\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Branch_cb65cfc6a9824c8f9b66d33c9be63365\");null;","fields":[{"name":"__silent_Decision_RootDecision_bf4af562be380610f01a5d1a93a378d7","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_bf4af562be380610f01a5d1a93a378d7\";vaInputs.__silent_Decision_RootDecision_bf4af562be380610f01a5d1a93a378d7=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_bf4af562be380610f01a5d1a93a378d7\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_334af562933806109131cc7ca1b88fd8=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_ff4af5621338061056dafbdf35103cd7.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_bf4af562be380610f01a5d1a93a378d7","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_ff4af5621338061056dafbdf35103cd7","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_ff4af5621338061056dafbdf35103cd7","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_bf4af562be380610f01a5d1a93a378d7\" &amp;&amp; ((vaInputs.RootDecisionBranch_334af562933806109131cc7ca1b88fd8.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_ff4af5621338061056dafbdf35103cd7___RootDecisionBranch_ff4af5621338061056dafbdf35103cd7\";vaInputs.__silent_Branch_RootDecisionBranch_ff4af5621338061056dafbdf35103cd7=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_ff4af5621338061056dafbdf35103cd7___RootDecisionBranch_ff4af5621338061056dafbdf35103cd7\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_ff4af5621338061056dafbdf35103cd7","node_name":"RootDecisionBranch_ff4af5621338061056dafbdf35103cd7","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_ff4af5621338061056dafbdf35103cd7___RootDecisionBranch_ff4af5621338061056dafbdf35103cd7\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_ff4af5621338061056dafbdf35103cd7"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_1f3dcd45f76a494ca6cfeee293a40b20.reset();})();(function() {vaInputs.__silent_Branch_cb65cfc6a9824c8f9b66d33c9be63365.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_1f3dcd45f76a494ca6cfeee293a40b20.reset();})();(function() {vaInputs.__silent_Branch_cb65cfc6a9824c8f9b66d33c9be63365.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_1f3dcd45f76a494ca6cfeee293a40b20","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___1f3dcd45f76a494ca6cfeee293a40b20\";vaInputs.__silent_Branch_1f3dcd45f76a494ca6cfeee293a40b20=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___1f3dcd45f76a494ca6cfeee293a40b20\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"1f3dcd45f76a494ca6cfeee293a40b20","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_cb65cfc6a9824c8f9b66d33c9be63365","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___cb65cfc6a9824c8f9b66d33c9be63365\";vaInputs.__silent_Branch_cb65cfc6a9824c8f9b66d33c9be63365=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___cb65cfc6a9824c8f9b66d33c9be63365\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"cb65cfc6a9824c8f9b66d33c9be63365","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___cb65cfc6a9824c8f9b66d33c9be63365\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___1f3dcd45f76a494ca6cfeee293a40b20\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_76da424e448148ff98f74b7eaf6a5128_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 14:33:57</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__f34a316e4ff40610f79f5358b723a891</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:33:57</sys_created_on><sys_domain>global</sys_domain><sys_id>f34af56247380610c2e1a3e7826d43d8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__f34a316e4ff40610f79f5358b723a891</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_f34af56247380610c2e1a3e7826d43d8</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:33:57</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=f34af56247380610c2e1a3e7826d43d8"/></record_update>]]></payload>
<payload_hash>-1328505548</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>707c712647380610c2e1a3e7826d4339</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28c8e2140000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__f34a316e4ff40610f79f5358b723a891</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>bb4af562fe38061087a901037961cbd9</update_guid>
<update_guid_history>bb4af562fe38061087a901037961cbd9:-1328505548</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_366cada247f40610c2e1a3e7826d43d6</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__6e6ced2242b40610babca243b69dabd2">726ced2247b40610c2e1a3e7826d43d4</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:33:16</sys_created_on><sys_domain>global</sys_domain><sys_id>366cada247f40610c2e1a3e7826d43d6</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_366cada247f40610c2e1a3e7826d43d6</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:33:16</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>1709378025</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>707c712647380610c2e1a3e7826d433c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e289152cc0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>3a6cada2eaf40610454a452fd9f5e5d7</update_guid>
<update_guid_history>3a6cada2eaf40610454a452fd9f5e5d7:1709378025</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_90cc7ce247340610c2e1a3e7826d43e3</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__d8ccb8629e34061036114b602d40171a">9cccb86247340610c2e1a3e7826d431b</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:05:01</sys_created_on><sys_domain>global</sys_domain><sys_id>90cc7ce247340610c2e1a3e7826d43e3</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_90cc7ce247340610c2e1a3e7826d43e3</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:05:01</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-511698997</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>707c712647380610c2e1a3e7826d433f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27d2abe50000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>d0cc7ce2f7340610ed549c7ea246dbe4</update_guid>
<update_guid_history>d0cc7ce2f7340610ed549c7ea246dbe4:-511698997</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_e60ee92647f40610c2e1a3e7826d4383</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__220eede2dbf406108f08200b0d66860d">e20eede247f40610c2e1a3e7826d430e</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:40:21</sys_created_on><sys_domain>global</sys_domain><sys_id>e60ee92647f40610c2e1a3e7826d4383</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_e60ee92647f40610c2e1a3e7826d4383</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:40:21</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-1181808591</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>707c712647380610c2e1a3e7826d4342</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2897d0e40000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>2a0ee9269df406102075d466db7f8b84</update_guid>
<update_guid_history>2a0ee9269df406102075d466db7f8b84:-1181808591</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_db26c51b93ff3110ebfe3f018bba104e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content>{&#13;
    "model":"gpt-3.5-turbo",&#13;
    "messages":${payload}&#13;
}</content><function_name>ChatGPT- Get Answers</function_name><http_method>post</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>ChatGPT Integration [ ChatGPT- Get Answers ]</qualified_name><rest_endpoint>https://api.openai.com/v1/chat/completions</rest_endpoint><rest_message display_value="ChatGPT Integration">39f5cd9793ff3110ebfe3f018bba1020</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-01-23 01:43:46</sys_created_on><sys_id>db26c51b93ff3110ebfe3f018bba104e</sys_id><sys_mod_count>6</sys_mod_count><sys_name>ChatGPT- Get Answers</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_rest_message_fn_db26c51b93ff3110ebfe3f018bba104e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:38:34</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<payload_hash>-422403318</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>707c712647380610c2e1a3e7826d4345</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e282850150000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>ChatGPT- Get Answers</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_guid>2a22d52ac6740610459699e5e5dda072</update_guid>
<update_guid_history>2a22d52ac6740610459699e5e5dda072:-422403318,d602d52a1574061025e7d9c46b6a7b68:2134989398,ce21912aa9740610e0ad82d837b336e9:-686210395,afd6a42ef2b006102b56e47ae62d06c3:79933440,92fcc99f07ff311059a607b73e80dd0d:-485883528,8bdb895b6eff311066b5e79ac961f937:-485883528,6b6b055f1dff3110d8c860aeab74a08a:2086428929,9f47851b67ff3110879ab1205bb23ce2:83842717</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_77e7bcae47f00610c2e1a3e7826d4335</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__6be738aed2f006101da25884a1ff4c1e">3fe738ae47f00610c2e1a3e7826d431f</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"2a10237ef8554955a6fe02141f4dd9b9","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"2a10237ef8554955a6fe02141f4dd9b9"}],"goals":[{"name":"primary","trigger_id":"2a10237ef8554955a6fe02141f4dd9b9","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"8f909020898641e188453e1fb831756f","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"cf190ff193e34072ac929aba09a996c9","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    if (orignal_obj.length &gt; 0) {\n        message.push(orignal_obj);   // push initial or old data if exists\n    }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    if (gpt_response.length &gt; 0) {\n        var new_assistant_obj = {\n            \"role\": \"assistant\",\n            \"content\": gpt_response\n        };\n        message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    }\n\n    vaVars.Request = message.toString();\n\n})()\n","id":"778b69bb03ad4167a9a7a1246ade5a8d","name":"Parse Data Into 1 JSON","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"8f909020898641e188453e1fb831756f","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"8f909020898641e188453e1fb831756f"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"cf190ff193e34072ac929aba09a996c9","id":"7e27041fde704dafa3c57c0df71d7044","name":"cf190ff193e34072ac929aba09a996c9"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"778b69bb03ad4167a9a7a1246ade5a8d","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"778b69bb03ad4167a9a7a1246ade5a8d","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"6d31c36a4f734fe4a0789b67028e593a"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation_JSON","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__6be738aed2f006101da25884a1ff4c1e","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "778b69bb03ad4167a9a7a1246ade5a8d": {
          "id": "778b69bb03ad4167a9a7a1246ade5a8d",
          "name": "Parse Data Into 1 JSON",
          "script": "(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    if (orignal_obj.length &gt; 0) {\n        message.push(orignal_obj);   // push initial or old data if exists\n    }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    if (gpt_response.length &gt; 0) {\n        var new_assistant_obj = {\n            \"role\": \"assistant\",\n            \"content\": gpt_response\n        };\n        message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    }\n\n    vaVars.Request = message.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": false
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "778b69bb03ad4167a9a7a1246ade5a8d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "6d31c36a4f734fe4a0789b67028e593a",
          "edgeType": "Edge",
          "source": "778b69bb03ad4167a9a7a1246ade5a8d",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation_JSON",
      "label": "Continue_Conversation_JSON",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": false,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__6be738aed2f006101da25884a1ff4c1e</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:43:57</sys_created_on><sys_domain>global</sys_domain><sys_id>77e7bcae47f00610c2e1a3e7826d4335</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_77e7bcae47f00610c2e1a3e7826d4335</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:43:57</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-1941378906</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>747c712647380610c2e1a3e7826d4326</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bf628f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>b7e7bcae0ff00610eb3ad38f14970136</update_guid>
<update_guid_history>b7e7bcae0ff00610eb3ad38f14970136:-1941378906</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_ba67996e47740610c2e1a3e7826d4327</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__7a67996ed9740610d53fc037325a5c23">3e67996e47740610c2e1a3e7826d4324</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"a11364e770684be08d59932218116175","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"a11364e770684be08d59932218116175"}],"goals":[{"name":"primary","trigger_id":"a11364e770684be08d59932218116175","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"a1f501f41a974866b3bda69f922f4680","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"5115d1d54b7a4c0c8e2f5717958b3157","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\nvar request = vaInputs.request.toString();\nvar array = request.split(',');\nvar payload = [];\n\nfor (var i = 0; i &lt; array.length; i++) {\n    payload.push(JSON.parse(array[i]));\n}\n\n//  try { \n//  var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n//  r.setStringParameterNoEscape('payload', payload);\n\n//  var response = r.execute();\n//  var responseBody = response.getBody();\n//  var httpStatus = response.getStatusCode();\n// vaVars.Output = responseBody.toString();\n\n// }\n// catch(ex) {\n//  var message = ex.message;\n// }\n\nvaVars.Output = payload.toString();\n\n})()\n","id":"27d00bf90d7249c9abffba1e26630355","name":"Continue Conversation","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"27d00bf90d7249c9abffba1e26630355","target_node_id":"5115d1d54b7a4c0c8e2f5717958b3157","id":"49019a82541540bc840400911ef7a030"},{"type":"Edge","source_node_id":"a1f501f41a974866b3bda69f922f4680","target_node_id":"27d00bf90d7249c9abffba1e26630355","id":"7478d668356e446ab58435013b64513e"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Output","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"07ca374af3e94217bfa05558977275c1","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"request","list":false,"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","library-usage":{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Output}}"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__7a67996ed9740610d53fc037325a5c23","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"csTopicId":"eae0a4a647b00610c2e1a3e7826d43af","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>d6bfd8e247b00610c2e1a3e7826d4367</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "a1f501f41a974866b3bda69f922f4680": {
          "id": "a1f501f41a974866b3bda69f922f4680",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "type": "String",
              "value": "",
              "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
              "name": "Request",
              "required": true,
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "1dc4bbfc8f5d4a2fbb244a5e87254429"
          ]
        },
        "5115d1d54b7a4c0c8e2f5717958b3157": {
          "id": "5115d1d54b7a4c0c8e2f5717958b3157",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "Output",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Output}}",
                        "displayValue": "Script Variables➛Output"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": false
            }
          ]
        },
        "27d00bf90d7249c9abffba1e26630355": {
          "id": "27d00bf90d7249c9abffba1e26630355",
          "name": "Continue Conversation",
          "script": "(function execute() {\n\nvar request = vaInputs.request.toString();\nvar array = request.split(',');\nvar payload = [];\n\nfor (var i = 0; i &lt; array.length; i++) {\n    payload.push(JSON.parse(array[i]));\n}\n\n//  try { \n//  var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n//  r.setStringParameterNoEscape('payload', payload);\n\n//  var response = r.execute();\n//  var responseBody = response.getBody();\n//  var httpStatus = response.getStatusCode();\n// vaVars.Output = responseBody.toString();\n\n// }\n// catch(ex) {\n//  var message = ex.message;\n// }\n\nvaVars.Output = payload.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "49019a82541540bc840400911ef7a030",
          "edgeType": "Edge",
          "source": "27d00bf90d7249c9abffba1e26630355",
          "target": "5115d1d54b7a4c0c8e2f5717958b3157",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7478d668356e446ab58435013b64513e",
          "edgeType": "Edge",
          "source": "a1f501f41a974866b3bda69f922f4680",
          "target": "27d00bf90d7249c9abffba1e26630355",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "07ca374af3e94217bfa05558977275c1": {
      "id": "07ca374af3e94217bfa05558977275c1",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Output",
      "label": "Output",
      "varType": "script",
      "category": "vaVars"
    },
    "1dc4bbfc8f5d4a2fbb244a5e87254429": {
      "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
      "name": "request",
      "label": "Request",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "a1f501f41a974866b3bda69f922f4680",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__7a67996ed9740610d53fc037325a5c23</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:01:31</sys_created_on><sys_domain>global</sys_domain><sys_id>ba67996e47740610c2e1a3e7826d4327</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_ba67996e47740610c2e1a3e7826d4327</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:01:31</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-2146024681</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>747c712647380610c2e1a3e7826d4329</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e283d54480000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>fa67996e2d7406103b751259b4be2f28</update_guid>
<update_guid_history>fa67996e2d7406103b751259b4be2f28:-2146024681</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_f466d16e47740610c2e1a3e7826d43d5</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__7466d16e267406102015a420aa2a16d1">7866d16e47740610c2e1a3e7826d43d2</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"0e4a5fd5b7d34a86be25ce6c90020b08","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"0e4a5fd5b7d34a86be25ce6c90020b08"}],"goals":[{"name":"primary","trigger_id":"0e4a5fd5b7d34a86be25ce6c90020b08","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"1ff8607803f84188945657bb85b3312f","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"af4c3db849364c80b812f954114db236","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"1ff8607803f84188945657bb85b3312f","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"1ff8607803f84188945657bb85b3312f"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"af4c3db849364c80b812f954114db236","id":"7e27041fde704dafa3c57c0df71d7044","name":"af4c3db849364c80b812f954114db236"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__7466d16e267406102015a420aa2a16d1","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__7466d16e267406102015a420aa2a16d1</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:57:01</sys_created_on><sys_domain>global</sys_domain><sys_id>f466d16e47740610c2e1a3e7826d43d5</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_f466d16e47740610c2e1a3e7826d43d5</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:57:01</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>477072941</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>747c712647380610c2e1a3e7826d432c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2839349c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>3866d16ee574061046d51c546e12a2d6</update_guid>
<update_guid_history>3866d16ee574061046d51c546e12a2d6:477072941</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_2b5539aa47f40610c2e1a3e7826d436e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT - Topic Block">d6bfd8e247b00610c2e1a3e7826d4367</cb_topic_id><channels/><definition>{"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__675539aaeff40610f0729ef8afc00c6d","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__675539aaeff40610f0729ef8afc00c6d","applicability":"true","categories":[],"key_phrases":[],"variables":[{"name":"Output","type":"java.lang.Object"},{"name":"_reusable_topic_outputs_var","type":"java.lang.Object","init_value":"(function execute() {return JSON.stringify({\"populated\":false,\"values\":{\"output\":\"\"}})})()"},{"name":"__segment_trigger_90348ecf6c294ce9add9d28db0b6235d_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"request","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_275539aadcf406100e927da63429006e","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_a35539aabbf406105a2641b295a8916e","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_e35539aaeef40610c6d5a73ef802c56e","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_90348ecf6c294ce9add9d28db0b6235d_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_275539aadcf406100e927da63429006e\");vaInputs.initialize(\"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680\");vaInputs.initialize(\"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157\");vaInputs.initialize(\"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_e35539aaeef40610c6d5a73ef802c56e\");vaInputs.initialize(\"__silent_Decision_RootDecision_a35539aabbf406105a2641b295a8916e\");vaInputs.initialize(\"request\");vaInputs.request=JSON.parse('\"\"');null;","fields":[{"name":"__silent_Decision_RootDecision_a35539aabbf406105a2641b295a8916e","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_a35539aabbf406105a2641b295a8916e\";vaInputs.__silent_Decision_RootDecision_a35539aabbf406105a2641b295a8916e=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_a35539aabbf406105a2641b295a8916e\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_275539aadcf406100e927da63429006e=true;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_a35539aabbf406105a2641b295a8916e","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_e35539aaeef40610c6d5a73ef802c56e","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_e35539aaeef40610c6d5a73ef802c56e","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_a35539aabbf406105a2641b295a8916e\" &amp;&amp; ((vaInputs.RootDecisionBranch_275539aadcf406100e927da63429006e.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_e35539aaeef40610c6d5a73ef802c56e___RootDecisionBranch_e35539aaeef40610c6d5a73ef802c56e\";vaInputs.__silent_Branch_RootDecisionBranch_e35539aaeef40610c6d5a73ef802c56e=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_e35539aaeef40610c6d5a73ef802c56e___RootDecisionBranch_e35539aaeef40610c6d5a73ef802c56e\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_e35539aaeef40610c6d5a73ef802c56e","node_name":"RootDecisionBranch_e35539aaeef40610c6d5a73ef802c56e","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_e35539aaeef40610c6d5a73ef802c56e___RootDecisionBranch_e35539aaeef40610c6d5a73ef802c56e\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";vaInputs.__silent_StartGoal_a1f501f41a974866b3bda69f922f4680=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"a1f501f41a974866b3bda69f922f4680","node_name":"Start","predecessor_nodes":["RootDecisionBranch_e35539aaeef40610c6d5a73ef802c56e"],"next_node":"Continue Conversation","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","applicable":"vaVars.previous_graph_node==\"Start___a1f501f41a974866b3bda69f922f4680\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";(function execute() {(function execute() {\n\n// var request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', [{ \"role\": \"user\", \"content\": \"Tell me about React JS\" }]);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n vaVars.Output = httpStatus.toString();\n gs.log(responseBody);\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = 'failure: '+ JSON.stringify(ex);\n}\n\n})()\n;})();vaInputs.__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"27d00bf90d7249c9abffba1e26630355","node_name":"Continue Conversation","predecessor_nodes":["Start"],"next_node":"End","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","applicable":"vaVars.previous_graph_node==\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";vaInputs.__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";var ackMsg=null;ackMsg=null;(function execute() {var tmp={values:{}};tmp.values.output=vaVars.Output;tmp.populated=true;vaVars._reusable_topic_outputs_var=JSON.stringify(tmp);})();vaVars.__segment_trigger_90348ecf6c294ce9add9d28db0b6235d_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"5115d1d54b7a4c0c8e2f5717958b3157","node_name":"End","predecessor_nodes":["Continue Conversation"],"node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[],"confirmation_msg":"gs.getMessageLang('[PREVIEW ONLY] The topic return values are: {0}', vaContext.getRequesterLang(), JSON.stringify(JSON.parse(vaVars._reusable_topic_outputs_var).values));"}],"roles":[],"active":true,"published":false,"library":true,"expose_on_palette":false,"palette_label":"ChatGPT - Topic Block","flexible_conversation_switching":true,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"TOPIC_BLOCK","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT - Topic Block","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases/><last_published_on>2024-03-10 14:12:22</last_published_on><library>true</library><library_usage>{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","mode":"string","value":"{{vaVars.Output}}"}}]}</library_usage><metaphone/><name>_PRVW__675539aaeff40610f0729ef8afc00c6d</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label>ChatGPT - Topic Block</palette_label><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:12:22</sys_created_on><sys_domain>global</sys_domain><sys_id>2b5539aa47f40610c2e1a3e7826d436e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__675539aaeff40610f0729ef8afc00c6d</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_2b5539aa47f40610c2e1a3e7826d436e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:12:22</sys_updated_on><title>ChatGPT - Topic Block</title><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=2b5539aa47f40610c2e1a3e7826d436e"/></record_update>]]></payload>
<payload_hash>-319095058</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>747c712647380610c2e1a3e7826d432f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28b5202e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__675539aaeff40610f0729ef8afc00c6d</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>6f5539aa4af4061078834833c7cd696f</update_guid>
<update_guid_history>6f5539aa4af4061078834833c7cd696f:-319095058</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_686fc96647740610c2e1a3e7826d43c2</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__a46fc966d374061039ee988b6c9abdc1","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__a46fc966d374061039ee988b6c9abdc1","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_a7effe94363f4046bc95f5fe14522fd3_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_a46fc966bf74061088828588ff3d6fc2","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_246fc966ab740610eed1a67abe3910c2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_646fc966bd740610cb575c5bd38c60c2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_5fa212d7bcd840fe9464ec99d33bac09","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_c2d2b25774bb40b7be2f3c04bb06640f","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_a7effe94363f4046bc95f5fe14522fd3_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_a46fc966bf74061088828588ff3d6fc2\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_646fc966bd740610cb575c5bd38c60c2\");vaInputs.initialize(\"__silent_Branch_5fa212d7bcd840fe9464ec99d33bac09\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Decision_RootDecision_246fc966ab740610eed1a67abe3910c2\");vaInputs.initialize(\"__silent_Branch_c2d2b25774bb40b7be2f3c04bb06640f\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_246fc966ab740610eed1a67abe3910c2","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_246fc966ab740610eed1a67abe3910c2\";vaInputs.__silent_Decision_RootDecision_246fc966ab740610eed1a67abe3910c2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_246fc966ab740610eed1a67abe3910c2\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_a46fc966bf74061088828588ff3d6fc2=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_646fc966bd740610cb575c5bd38c60c2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_246fc966ab740610eed1a67abe3910c2","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_646fc966bd740610cb575c5bd38c60c2","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_646fc966bd740610cb575c5bd38c60c2","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_246fc966ab740610eed1a67abe3910c2\" &amp;&amp; ((vaInputs.RootDecisionBranch_a46fc966bf74061088828588ff3d6fc2.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_646fc966bd740610cb575c5bd38c60c2___RootDecisionBranch_646fc966bd740610cb575c5bd38c60c2\";vaInputs.__silent_Branch_RootDecisionBranch_646fc966bd740610cb575c5bd38c60c2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_646fc966bd740610cb575c5bd38c60c2___RootDecisionBranch_646fc966bd740610cb575c5bd38c60c2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_646fc966bd740610cb575c5bd38c60c2","node_name":"RootDecisionBranch_646fc966bd740610cb575c5bd38c60c2","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_646fc966bd740610cb575c5bd38c60c2___RootDecisionBranch_646fc966bd740610cb575c5bd38c60c2\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_646fc966bd740610cb575c5bd38c60c2"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [];\n\n    if(vaVars.Request.trim().length&gt;0){\n        arr.push(vaVars.Request); \n    }\n    arr.push(output);\n\n\n    vaVars.Request  = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_c2d2b25774bb40b7be2f3c04bb06640f.reset();})();(function() {vaInputs.__silent_Branch_5fa212d7bcd840fe9464ec99d33bac09.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_c2d2b25774bb40b7be2f3c04bb06640f.reset();})();(function() {vaInputs.__silent_Branch_5fa212d7bcd840fe9464ec99d33bac09.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_c2d2b25774bb40b7be2f3c04bb06640f","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___c2d2b25774bb40b7be2f3c04bb06640f\";vaInputs.__silent_Branch_c2d2b25774bb40b7be2f3c04bb06640f=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___c2d2b25774bb40b7be2f3c04bb06640f\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c2d2b25774bb40b7be2f3c04bb06640f","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_5fa212d7bcd840fe9464ec99d33bac09","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___5fa212d7bcd840fe9464ec99d33bac09\";vaInputs.__silent_Branch_5fa212d7bcd840fe9464ec99d33bac09=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___5fa212d7bcd840fe9464ec99d33bac09\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"5fa212d7bcd840fe9464ec99d33bac09","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___5fa212d7bcd840fe9464ec99d33bac09\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___c2d2b25774bb40b7be2f3c04bb06640f\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_a7effe94363f4046bc95f5fe14522fd3_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 11:26:25</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__a46fc966d374061039ee988b6c9abdc1</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:26:25</sys_created_on><sys_domain>global</sys_domain><sys_id>686fc96647740610c2e1a3e7826d43c2</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__a46fc966d374061039ee988b6c9abdc1</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_686fc96647740610c2e1a3e7826d43c2</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:26:25</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=686fc96647740610c2e1a3e7826d43c2"/></record_update>]]></payload>
<payload_hash>1384904308</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>747c712647380610c2e1a3e7826d4332</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e281d30910000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__a46fc966d374061039ee988b6c9abdc1</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>206fc96692740610c6c77f008cff72c4</update_guid>
<update_guid_history>206fc96692740610c6c77f008cff72c4:1384904308</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_9cccb86247340610c2e1a3e7826d431b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__d8ccb8629e34061036114b602d40171a","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__d8ccb8629e34061036114b602d40171a","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation_JSON","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_7011fee2bf524ba6a55b398bd0ae48b6_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_d8ccb86243340610debd58c1708d7e1b","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_58ccb8625a340610317e762abd73bd1b","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_f9dbac4e7a1646e08af993181309a304","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_7fa8fa9083e7441abf6d23ee9640d8f2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_98ccb862713406102f7512ce328b481b","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_7011fee2bf524ba6a55b398bd0ae48b6_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_d8ccb86243340610debd58c1708d7e1b\");vaInputs.initialize(\"__silent_Decision_RootDecision_58ccb8625a340610317e762abd73bd1b\");vaInputs.initialize(\"__silent_Branch_f9dbac4e7a1646e08af993181309a304\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_7fa8fa9083e7441abf6d23ee9640d8f2\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_98ccb862713406102f7512ce328b481b\");null;","fields":[{"name":"__silent_Decision_RootDecision_58ccb8625a340610317e762abd73bd1b","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_58ccb8625a340610317e762abd73bd1b\";vaInputs.__silent_Decision_RootDecision_58ccb8625a340610317e762abd73bd1b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_58ccb8625a340610317e762abd73bd1b\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_d8ccb86243340610debd58c1708d7e1b=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_98ccb862713406102f7512ce328b481b.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_58ccb8625a340610317e762abd73bd1b","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_98ccb862713406102f7512ce328b481b","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_98ccb862713406102f7512ce328b481b","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_58ccb8625a340610317e762abd73bd1b\" &amp;&amp; ((vaInputs.RootDecisionBranch_d8ccb86243340610debd58c1708d7e1b.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_98ccb862713406102f7512ce328b481b___RootDecisionBranch_98ccb862713406102f7512ce328b481b\";vaInputs.__silent_Branch_RootDecisionBranch_98ccb862713406102f7512ce328b481b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_98ccb862713406102f7512ce328b481b___RootDecisionBranch_98ccb862713406102f7512ce328b481b\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_98ccb862713406102f7512ce328b481b","node_name":"RootDecisionBranch_98ccb862713406102f7512ce328b481b","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_98ccb862713406102f7512ce328b481b___RootDecisionBranch_98ccb862713406102f7512ce328b481b\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_98ccb862713406102f7512ce328b481b"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    if (vaInputs.output_from_chatgpt) {\n        var bot_output = {\n            \"role\": \"assistant\",\n            \"content\": bot_output\n        };\n    }\n\n    \n\n    // vaVars.Request  = JSON.stringify(output);\n    vaVars.Request = vaVars.Request ? 'true' : 'false';\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.choice.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Choice","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_7fa8fa9083e7441abf6d23ee9640d8f2.reset();})();(function() {vaInputs.__silent_Branch_f9dbac4e7a1646e08af993181309a304.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Print Response"],"next_node":"Decision","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_7fa8fa9083e7441abf6d23ee9640d8f2.reset();})();(function() {vaInputs.__silent_Branch_f9dbac4e7a1646e08af993181309a304.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_f9dbac4e7a1646e08af993181309a304","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___f9dbac4e7a1646e08af993181309a304\";vaInputs.__silent_Branch_f9dbac4e7a1646e08af993181309a304=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___f9dbac4e7a1646e08af993181309a304\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"f9dbac4e7a1646e08af993181309a304","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_7fa8fa9083e7441abf6d23ee9640d8f2","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___7fa8fa9083e7441abf6d23ee9640d8f2\";vaInputs.__silent_Branch_7fa8fa9083e7441abf6d23ee9640d8f2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___7fa8fa9083e7441abf6d23ee9640d8f2\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"7fa8fa9083e7441abf6d23ee9640d8f2","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___7fa8fa9083e7441abf6d23ee9640d8f2\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___f9dbac4e7a1646e08af993181309a304\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_7011fee2bf524ba6a55b398bd0ae48b6_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 10:05:01</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__d8ccb8629e34061036114b602d40171a</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:05:01</sys_created_on><sys_domain>global</sys_domain><sys_id>9cccb86247340610c2e1a3e7826d431b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__d8ccb8629e34061036114b602d40171a</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_9cccb86247340610c2e1a3e7826d431b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:05:01</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=9cccb86247340610c2e1a3e7826d431b"/></record_update>]]></payload>
<payload_hash>-1769077902</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>747c712647380610c2e1a3e7826d4335</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27d2ab820000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__d8ccb8629e34061036114b602d40171a</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>54ccb86288340610f651bcbbb2fe811d</update_guid>
<update_guid_history>54ccb86288340610f651bcbbb2fe811d:-1769077902</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_eae0a4a647b00610c2e1a3e7826d43af</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT - Topic Block">d6bfd8e247b00610c2e1a3e7826d4367</cb_topic_id><channels/><definition>{"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"ChatGPT - Topic Block","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"ChatGPT - Topic Block","applicability":"true","categories":[],"key_phrases":[],"variables":[{"name":"Output","type":"java.lang.Object"},{"name":"_reusable_topic_outputs_var","type":"java.lang.Object","init_value":"(function execute() {return JSON.stringify({\"populated\":false,\"values\":{\"output\":\"\"}})})()"},{"name":"__segment_trigger_4b71207a51c044909f2773eb7793cd75_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"request","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_020b31a256380610d11fc8837f726541","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Branch_RootDecisionBranch_ce0b31a287380610f9381d72fed3a340","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_8e0b31a29538061087aee19a4f896340","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_4b71207a51c044909f2773eb7793cd75_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_020b31a256380610d11fc8837f726541\");vaInputs.initialize(\"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680\");vaInputs.initialize(\"__silent_Decision_RootDecision_8e0b31a29538061087aee19a4f896340\");vaInputs.initialize(\"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_ce0b31a287380610f9381d72fed3a340\");vaInputs.initialize(\"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157\");vaInputs.initialize(\"request\");vaInputs.request=JSON.parse('\"\"');null;","fields":[{"name":"__silent_Decision_RootDecision_8e0b31a29538061087aee19a4f896340","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_8e0b31a29538061087aee19a4f896340\";vaInputs.__silent_Decision_RootDecision_8e0b31a29538061087aee19a4f896340=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_8e0b31a29538061087aee19a4f896340\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_020b31a256380610d11fc8837f726541=true;ackMsg;"},{"name":"__silent_Branch_RootDecisionBranch_ce0b31a287380610f9381d72fed3a340","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_8e0b31a29538061087aee19a4f896340\" &amp;&amp; ((vaInputs.RootDecisionBranch_020b31a256380610d11fc8837f726541.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_ce0b31a287380610f9381d72fed3a340___RootDecisionBranch_ce0b31a287380610f9381d72fed3a340\";vaInputs.__silent_Branch_RootDecisionBranch_ce0b31a287380610f9381d72fed3a340=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_ce0b31a287380610f9381d72fed3a340___RootDecisionBranch_ce0b31a287380610f9381d72fed3a340\";var ackMsg=null;ackMsg=null;ackMsg;"},{"name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_ce0b31a287380610f9381d72fed3a340___RootDecisionBranch_ce0b31a287380610f9381d72fed3a340\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";vaInputs.__silent_StartGoal_a1f501f41a974866b3bda69f922f4680=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";var ackMsg=null;ackMsg=null;ackMsg;"},{"name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","applicable":"vaVars.previous_graph_node==\"Start___a1f501f41a974866b3bda69f922f4680\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";(function execute() {(function execute() {\n\n    var request = vaInputs.request.toString();\n    var payload = '[' + request + ']'\n\n\n    try {\n        var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n        r.setStringParameterNoEscape('payload', payload);\n\n        var response = r.execute();\n        var responseBody = response.getBody();\n        var httpStatus = response.getStatusCode();\n        var parsedBody = JSON.parse(responseBody);\n        var output = parsedBody.choices[0].message.content;\n        vaVars.Output = output.trim();\n        // vaVars.Output = httpStatus.toString();\n\n\n    }\n    catch (ex) {\n        var message = ex.message;\n        vaVars.Output = 'failure: ' + JSON.stringify(ex);\n    }\n\n})()\n;})();vaInputs.__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";var ackMsg=null;ackMsg=null;ackMsg;"},{"name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","applicable":"vaVars.previous_graph_node==\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";vaInputs.__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_4b71207a51c044909f2773eb7793cd75_done=true;(function execute() {var tmp={values:{}};tmp.values.output=vaVars.Output;tmp.populated=true;vaVars._reusable_topic_outputs_var=JSON.stringify(tmp);})();ackMsg;"}],"variables_update":[]}],"roles":[],"active":true,"published":true,"library":true,"expose_on_palette":false,"palette_label":"ChatGPT - Topic Block","flexible_conversation_switching":true,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"TOPIC_BLOCK","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT - Topic Block","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases/><last_published_on>2024-03-10 14:37:06</last_published_on><library>true</library><library_usage>{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","mode":"string","value":"{{vaVars.Output}}"}}]}</library_usage><metaphone/><name>ChatGPT - Topic Block</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label>ChatGPT - Topic Block</palette_label><published>true</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 08:03:23</sys_created_on><sys_domain>global</sys_domain><sys_id>eae0a4a647b00610c2e1a3e7826d43af</sys_id><sys_mod_count>23</sys_mod_count><sys_name>ChatGPT - Topic Block</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_eae0a4a647b00610c2e1a3e7826d43af</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:37:06</sys_updated_on><title>ChatGPT - Topic Block</title><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=eae0a4a647b00610c2e1a3e7826d43af"/></record_update>]]></payload>
<payload_hash>-1044571238</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>747c712647380610c2e1a3e7826d4338</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28cbc73c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>ChatGPT - Topic Block</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>c60b31a2d53806108798195038678a43</update_guid>
<update_guid_history>c60b31a2d53806108798195038678a43:-1044571238,624af56285380610dfb493e9b45a0a39:-100598217,7417b5aed2f40610ea19acacdddf4025:324568518,4b5375aab8f40610b99f5d8cfbb3683e:2130642462,3d707d661cf40610e798f1d002908f75:1229897119,247071e6f4f4061073daf78d1ea6caf7:1706377356,df00b5a6d7f406101cf90ecb16f4e5b0:-1958038909,d06fa5a68ef4061068c87586be3f22a8:-1608198066,8d5dede2fdf40610edc9c2505411f504:-426309406,a3a9d16246b4061022c9ac64684bd665:42715779,dfd8912203b406107a64919f00fc8842:-135626696,777815ee3d740610e204b85efaa910c5:-1203129282,fa78d96e3b74061087ee7cd16908038d:377024714,dcf7d9aee174061025196aca6c32ccab:-1371857374,f636d16e1e740610377d0c48ed4a4eeb:1535882316,9cbe496642740610f57f35ad70d630e9:190468832,c91ec1268c740610782e9d41b54859ad:-852225154,7fa5b4261ff00610cdc43e9e8adb4fe7:936220384,9f95bcae21b0061038501d00d4c9e123:-1897354068,951964ae4cb006101cfb74b51257cd64:-979361077,4119a42e31b006108b035ec3dce8c9cd:-325826003,7088686e33b006103e3fec62bd91584c:804995563,5c152c6af3b00610a8fcb2d75a89079e:695650142,22e0a4a664b006106ad01a7ab60565b3:691250389</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_22feed6647f40610c2e1a3e7826d4393</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__2afeed2680f40610fc6802983d93b1a9">eafeed2647f40610c2e1a3e7826d43aa</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:44:27</sys_created_on><sys_domain>global</sys_domain><sys_id>22feed6647f40610c2e1a3e7826d4393</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_22feed6647f40610c2e1a3e7826d4393</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:44:27</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-1489729786</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>747c712647380610c2e1a3e7826d433b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e289b90150000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>62feed66e5f40610273e753c17f39d94</update_guid>
<update_guid_history>62feed66e5f40610273e753c17f39d94:-1489729786</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_8233b1aa47f40610c2e1a3e7826d437a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__fd33b5a691f406105046e2e837942266">b133b5a647f40610c2e1a3e7826d4368</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:02:58</sys_created_on><sys_domain>global</sys_domain><sys_id>8233b1aa47f40610c2e1a3e7826d437a</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_8233b1aa47f40610c2e1a3e7826d437a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:02:58</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>167831308</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>747c712647380610c2e1a3e7826d433e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28ac854d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>c233b1aad1f4061025c1ad3cb887f47b</update_guid>
<update_guid_history>c233b1aad1f4061025c1ad3cb887f47b:167831308</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_cc29592247b40610c2e1a3e7826d4319</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__8c2915221eb4061085225a657b3153e5">4029152247b40610c2e1a3e7826d43e7</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:08:59</sys_created_on><sys_domain>global</sys_domain><sys_id>cc29592247b40610c2e1a3e7826d4319</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_cc29592247b40610c2e1a3e7826d4319</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:08:59</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-1528759211</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>747c712647380610c2e1a3e7826d4341</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e284429130000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>10295922e8b40610df0d892c5854f01b</update_guid>
<update_guid_history>10295922e8b40610df0d892c5854f01b:-1528759211</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_nlu_utterance_4557bc6e47f00610c2e1a3e7826d43f1</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_nlu_utterance"><sys_nlu_utterance action="INSERT_OR_UPDATE"><intent display_value="Connect GPT">3f37fc6e47f00610c2e1a3e7826d43f7</intent><original_utterance/><primary_utterance/><source>manual</source><sys_class_name>sys_nlu_utterance</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:41:19</sys_created_on><sys_id>4557bc6e47f00610c2e1a3e7826d43f1</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Conenct GPT</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_nlu_utterance_4557bc6e47f00610c2e1a3e7826d43f1</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:41:19</sys_updated_on><utterance>Conenct GPT</utterance></sys_nlu_utterance></record_update>]]></payload>
<payload_hash>990819534</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>747c712647380610c2e1a3e7826d4344</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bcf6c50000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>Conenct GPT</target_name>
<type>NLU Utterance</type>
<update_domain>global</update_domain>
<update_guid>455770ae11f00610eac8c2b1c47672dd</update_guid>
<update_guid_history>455770ae11f00610eac8c2b1c47672dd:990819534</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_a9be896647740610c2e1a3e7826d433f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__a9be0da29c7406100ebc6c82307d6cb5">6dbe0da247740610c2e1a3e7826d43b6</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"e9b5cda72a7847a7962be973af0f0a4f","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"e9b5cda72a7847a7962be973af0f0a4f"}],"goals":[{"name":"primary","trigger_id":"e9b5cda72a7847a7962be973af0f0a4f","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"e7a0e9e589414f7db54bf34cef46294f","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"4d35be3dfbd547c3994d10822001064c","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"e7a0e9e589414f7db54bf34cef46294f","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"e7a0e9e589414f7db54bf34cef46294f"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"4d35be3dfbd547c3994d10822001064c","id":"7e27041fde704dafa3c57c0df71d7044","name":"4d35be3dfbd547c3994d10822001064c"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__a9be0da29c7406100ebc6c82307d6cb5","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__a9be0da29c7406100ebc6c82307d6cb5</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:23:29</sys_created_on><sys_domain>global</sys_domain><sys_id>a9be896647740610c2e1a3e7826d433f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_a9be896647740610c2e1a3e7826d433f</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:23:29</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>986693973</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>787c712647380610c2e1a3e7826d4328</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e281a7ff80000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>e9be896643740610559bc97ab6f70c40</update_guid>
<update_guid_history>e9be896643740610559bc97ab6f70c40:986693973</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_dfe2a8a647b00610c2e1a3e7826d437c</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="Incident thing">0be2a8a647b00610c2e1a3e7826d4379</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"82691ca0790f4390bc5c83f2aef32239","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"82691ca0790f4390bc5c83f2aef32239"}],"goals":[{"name":"primary","trigger_id":"82691ca0790f4390bc5c83f2aef32239","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"e15a6f4e281049ee89ded38801f9c3df","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"39896219bbab4ffda4718719caa8b2a2","name":"End"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return gs.getMessageLang(\"OK, I've opened a new ticket for you, and someone will help you shortly.\", vaContext.getRequesterLang());\n})()\n"}],"id":"c7735cd8576546fb8f1fd905677c2767","name":"Incident created","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"RecordOutputPrompt","type":"RecordOutputPrompt","mode":"query","table":"incident","fields":["short_description","state","priority","category","assignment_group","description"],"id":"a500d9685beb4b708e4929ca5a8d6e72","name":"Display incident","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"reference_qualifier_condition":"sys_id={{vaVars.inc_sysid}}","condition":{"type":"Condition","mode":"glide_query","value":"sys_id={{vaVars.inc_sysid}}"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var caller = vaInputs.caller;\n    var short_desc = vaInputs.short_description;\n    var urgency = vaInputs.urgency;\n    var desc = vaInputs.description;\n    var cmdb_ci = vaInputs.cmdb_ci;\n\n     if (!gs.nil(caller) &amp;&amp; !gs.nil(short_desc)) {\n        var incDetails = new sn_itsm_va.VACreateINCUtil().createIncident(caller, short_desc, urgency, desc, cmdb_ci);\n        vaVars.inc_sysid = incDetails.sysid;\n     }\n     \n})()","id":"d226c18570ff44bd957423970db43914","name":"Create Request/Incident","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n  var incGr = new GlideRecord(\"incident\");\n  incGr.get(vaVars.inc_sysid);\n  vaVars.is_UR_created = !gs.nil(incGr.universal_request);\n})()\n","id":"e647584676f848ada6f9326f390d507a","name":"Check UR created","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.is_UR_created == false;\n})()\n"},"id":"681e724c2a3740e7b6d5042e9599d041","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.is_UR_created == true;\n})()\n"},"id":"e94b60fb9e3d49b58613a5a0ea2a9f95","name":"Yes"}],"id":"049abbe231b64a4ba2140998a2f40d53","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return gs.getMessageLang(\"Got it. I submitted your request and someone will be assigned to it soon.\", vaContext.getRequesterLang());\n})()\n"}],"id":"558ebe6afa5144bb8d5d3ad2aa32916b","name":"Request created","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ScriptOutputPrompt","type":"ScriptOutputPrompt","output_type":"single_part","id":"4505d043a3004b33a13ebc30e8eeaf4a","name":"Display Request","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"value":{"type":"String","type":"String","mode":"string","value":"(function execute() {\n    var itsm_helper = new sn_itsm_va.ItsmVaHelper();\n    var gr = new GlideRecord(\"incident\");\n    gr.get(vaVars.inc_sysid);\n\n    var title = gr.getElement(\"universal_request\").getLabel();\n    var eff_no = gr.getValue(\"task_effective_number\");\n    var link = gs.getProperty('glide.servlet.uri') + vaVars.portal + '?sys_id=' + vaVars.inc_sysid + '&amp;id=ticket&amp;table=incident';\n    var table_name = gr.getClassDisplayValue();\n    var priority = gr.getDisplayValue('priority');\n    var short_description = gr.getValue('short_description');\n    var description = gr.getValue('description');\n    var state = gr.getDisplayValue('state');\n    var category = gr.getDisplayValue('category');\n    var assignment_group = gr.getDisplayValue('assignment_group');\n    var fields = [];\n    if (short_description != null &amp;&amp; short_description != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"short_description\").getLabel(), \"fieldValue\": short_description });\n    if (state != null &amp;&amp; state != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"state\").getLabel(), \"fieldValue\": state });\n    if (priority != null &amp;&amp; priority != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"priority\").getLabel(), \"fieldValue\": priority });\n    if (category != null &amp;&amp; category != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"category\").getLabel(), \"fieldValue\": category });\n    if (assignment_group != null &amp;&amp; assignment_group != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"assignment_group\").getLabel(), \"fieldValue\": assignment_group });\n    if (description != null &amp;&amp; description != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"description\").getLabel(), \"fieldValue\": description });\n\n    var data = JSON.stringify({\n        \"title\": title,\n        \"fields\": fields,\n        \"subtitle\": eff_no,\n        \"url\": link\n\n    });\n    return vaSystem.renderCard(\"Card\", data);\n\n})()\n"},"secure":false},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    vaSystem.attachRecordToConversation(\"incident\", vaVars.inc_sysid);\n})()\n","id":"69c7b65c52ad400f9a7ec68ac2bfe831","name":"Attach incident record to conversation","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"558ebe6afa5144bb8d5d3ad2aa32916b","target_node_id":"4505d043a3004b33a13ebc30e8eeaf4a","id":"5d5ed75c7f0041e2a61915f9a385af04"},{"type":"Edge","source_node_id":"e15a6f4e281049ee89ded38801f9c3df","target_node_id":"d226c18570ff44bd957423970db43914","id":"b4a739a4d8804bbcb175de010a1f47ab"},{"type":"Edge","source_node_id":"c7735cd8576546fb8f1fd905677c2767","target_node_id":"a500d9685beb4b708e4929ca5a8d6e72","id":"63f5b2bc49ba4caa9afe281894183d78"},{"type":"Edge","source_node_id":"a500d9685beb4b708e4929ca5a8d6e72","target_node_id":"39896219bbab4ffda4718719caa8b2a2","id":"72fc7e591ebd403d94a726dbd7e4af07"},{"type":"Edge","source_node_id":"e647584676f848ada6f9326f390d507a","target_node_id":"049abbe231b64a4ba2140998a2f40d53","id":"cf9e11a3a07046ceb6bbec42e2d2fb9e"},{"type":"Edge","source_node_id":"049abbe231b64a4ba2140998a2f40d53","target_node_id":"c7735cd8576546fb8f1fd905677c2767","branch_id":"681e724c2a3740e7b6d5042e9599d041","id":"1c205a0b0a4244c6ac4647559f0e3fc0","name":"681e724c2a3740e7b6d5042e9599d041"},{"type":"Edge","source_node_id":"049abbe231b64a4ba2140998a2f40d53","target_node_id":"558ebe6afa5144bb8d5d3ad2aa32916b","branch_id":"e94b60fb9e3d49b58613a5a0ea2a9f95","id":"372b4af3082e480e8b32e25e25a8941d","name":"e94b60fb9e3d49b58613a5a0ea2a9f95"},{"type":"Edge","source_node_id":"4505d043a3004b33a13ebc30e8eeaf4a","target_node_id":"39896219bbab4ffda4718719caa8b2a2","id":"973d16141ef0464e8e15bcef03e85129"},{"type":"Edge","source_node_id":"d226c18570ff44bd957423970db43914","target_node_id":"69c7b65c52ad400f9a7ec68ac2bfe831","id":"bae32dac82a74778b06f510adfb7afe4"},{"type":"Edge","source_node_id":"69c7b65c52ad400f9a7ec68ac2bfe831","target_node_id":"e647584676f848ada6f9326f390d507a","id":"21d2bc541f164e54a69f0509eef88762"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"is_UR_created","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"8b34aa6968454764b7f9a5b18f24bf4a","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"inc_sysid","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"4a56f258ff494cd796223482b4301522","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"portal","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    if (vaContext.deviceType == 'ios' || vaContext.deviceType == 'android')\n        return 'mesp';\n    return gs.getProperty('sn_itsm_va.com.snc.itsm.virtualagent.portal_url');\n})()"},"list":false,"id":"b3c0890bd6974e429f3d8af864d32605","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"VariableDto","type":"String","name":"caller","list":false,"id":"85e9092383a144c6838c348fececaf78","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"short_description","list":false,"id":"034eb9455c724253a8ced479d905b1f1","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"urgency","list":false,"id":"25abc91336cd40a090a3cbd79f96f69b","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"description","list":false,"id":"e42fa4128cb24e68b66759b015174c35","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false},{"type":"Reference","type":"Reference","table":"sys_user","id":"d554c42c69c4485da7e8230f4efdf210","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"cmdb_ci","list":false,"id":"0d26381665684abdbd1846e32e179df3","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","library-usage":{"type":"Library","input-parameters":[{"name":"caller","label":"caller","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"85e9092383a144c6838c348fececaf78","type":"String","hint":""},{"name":"short_description","label":"short_description","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"034eb9455c724253a8ced479d905b1f1","type":"String","hint":""},{"name":"urgency","label":"urgency","default-value":"\"3\"","required":false,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"25abc91336cd40a090a3cbd79f96f69b","type":"String","hint":""},{"name":"description","label":"description","default-value":"\"\"","required":false,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"e42fa4128cb24e68b66759b015174c35","type":"String","hint":""},{"name":"cmdb_ci","label":"cmdb_ci","default-value":"\"\"","required":false,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"0d26381665684abdbd1846e32e179df3","type":"String","hint":""}],"return-values-mapping":[{"name":"created_incident_sys_id","label":"created_incident_sys_id","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.inc_sysid}}"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"1ce2ac6647b00610c2e1a3e7826d4326","name":"Incident thing","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>1ce2ac6647b00610c2e1a3e7826d4326</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "e15a6f4e281049ee89ded38801f9c3df": {
          "id": "e15a6f4e281049ee89ded38801f9c3df",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "name": "caller",
              "value": "",
              "id": "85e9092383a144c6838c348fececaf78",
              "disabled": true,
              "referenced": true,
              "type": "String",
              "hint": "",
              "required": true
            },
            {
              "name": "short_description",
              "value": "",
              "id": "034eb9455c724253a8ced479d905b1f1",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": true
            },
            {
              "name": "urgency",
              "value": "3",
              "id": "25abc91336cd40a090a3cbd79f96f69b",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            },
            {
              "name": "description",
              "value": "",
              "id": "e42fa4128cb24e68b66759b015174c35",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            },
            {
              "name": "cmdb_ci",
              "value": "",
              "id": "0d26381665684abdbd1846e32e179df3",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            }
          ],
          "variableIds": [
            "85e9092383a144c6838c348fececaf78",
            "034eb9455c724253a8ced479d905b1f1",
            "25abc91336cd40a090a3cbd79f96f69b",
            "e42fa4128cb24e68b66759b015174c35",
            "0d26381665684abdbd1846e32e179df3"
          ]
        },
        "39896219bbab4ffda4718719caa8b2a2": {
          "id": "39896219bbab4ffda4718719caa8b2a2",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "created_incident_sys_id",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.inc_sysid}}",
                        "displayValue": "vaVars➛inc_sysid"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": true,
              "cannotBeDeleted": true,
              "alertMessage": "You cannot delete this parameter because other calling topics use it.",
              "additionalInfoUrl": "/sys_cs_topic_library_usage_list.do?sysparm_query=library_cs_topic_id=ef2d8306737333003ade8889faf6a790%5Ecalling_cs_topic_idIN89668d8a18800010964f8326d55386ae",
              "additionalInfoLabel": "See calling topics"
            }
          ]
        },
        "c7735cd8576546fb8f1fd905677c2767": {
          "id": "c7735cd8576546fb8f1fd905677c2767",
          "stepType": "TextOutput",
          "name": "Incident created",
          "value": [
            {
              "value": "(function execute() {\n    return gs.getMessageLang(\"OK, I've opened a new ticket for you, and someone will help you shortly.\", vaContext.getRequesterLang());\n})()\n",
              "mode": "script"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "a500d9685beb4b708e4929ca5a8d6e72": {
          "id": "a500d9685beb4b708e4929ca5a8d6e72",
          "stepType": "RecordOutput",
          "name": "Display incident",
          "variableId": "9140d9984249486e9b074fe6998ff9c6",
          "mode": "script",
          "tableName": "incident",
          "fields": [
            "short_description",
            "state",
            "priority",
            "category",
            "assignment_group",
            "description"
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "condition": {
            "mode": "glide_query",
            "value": "sys_id={{vaVars.inc_sysid}}"
          },
          "cardTemplate": "General",
          "cardFields": {},
          "cardDefinition": {
            "name": "Record",
            "value": "General"
          }
        },
        "d226c18570ff44bd957423970db43914": {
          "id": "d226c18570ff44bd957423970db43914",
          "name": "Create Request/Incident",
          "script": "(function execute() {\n    var caller = vaInputs.caller;\n    var short_desc = vaInputs.short_description;\n    var urgency = vaInputs.urgency;\n    var desc = vaInputs.description;\n    var cmdb_ci = vaInputs.cmdb_ci;\n\n     if (!gs.nil(caller) &amp;&amp; !gs.nil(short_desc)) {\n        var incDetails = new sn_itsm_va.VACreateINCUtil().createIncident(caller, short_desc, urgency, desc, cmdb_ci);\n        vaVars.inc_sysid = incDetails.sysid;\n     }\n     \n})()",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "e647584676f848ada6f9326f390d507a": {
          "id": "e647584676f848ada6f9326f390d507a",
          "name": "Check UR created",
          "script": "(function execute() {\n  var incGr = new GlideRecord(\"incident\");\n  incGr.get(vaVars.inc_sysid);\n  vaVars.is_UR_created = !gs.nil(incGr.universal_request);\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "049abbe231b64a4ba2140998a2f40d53": {
          "id": "049abbe231b64a4ba2140998a2f40d53",
          "stepType": "Decision",
          "name": "Decision"
        },
        "558ebe6afa5144bb8d5d3ad2aa32916b": {
          "id": "558ebe6afa5144bb8d5d3ad2aa32916b",
          "stepType": "TextOutput",
          "name": "Request created",
          "value": [
            {
              "value": "(function execute() {\n    return gs.getMessageLang(\"Got it. I submitted your request and someone will be assigned to it soon.\", vaContext.getRequesterLang());\n})()\n",
              "mode": "script"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "4505d043a3004b33a13ebc30e8eeaf4a": {
          "id": "4505d043a3004b33a13ebc30e8eeaf4a",
          "stepType": "ScriptOutput",
          "name": "Display Request",
          "output_type": "single_part",
          "script": "(function execute() {\n    var itsm_helper = new sn_itsm_va.ItsmVaHelper();\n    var gr = new GlideRecord(\"incident\");\n    gr.get(vaVars.inc_sysid);\n\n    var title = gr.getElement(\"universal_request\").getLabel();\n    var eff_no = gr.getValue(\"task_effective_number\");\n    var link = gs.getProperty('glide.servlet.uri') + vaVars.portal + '?sys_id=' + vaVars.inc_sysid + '&amp;id=ticket&amp;table=incident';\n    var table_name = gr.getClassDisplayValue();\n    var priority = gr.getDisplayValue('priority');\n    var short_description = gr.getValue('short_description');\n    var description = gr.getValue('description');\n    var state = gr.getDisplayValue('state');\n    var category = gr.getDisplayValue('category');\n    var assignment_group = gr.getDisplayValue('assignment_group');\n    var fields = [];\n    if (short_description != null &amp;&amp; short_description != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"short_description\").getLabel(), \"fieldValue\": short_description });\n    if (state != null &amp;&amp; state != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"state\").getLabel(), \"fieldValue\": state });\n    if (priority != null &amp;&amp; priority != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"priority\").getLabel(), \"fieldValue\": priority });\n    if (category != null &amp;&amp; category != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"category\").getLabel(), \"fieldValue\": category });\n    if (assignment_group != null &amp;&amp; assignment_group != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"assignment_group\").getLabel(), \"fieldValue\": assignment_group });\n    if (description != null &amp;&amp; description != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"description\").getLabel(), \"fieldValue\": description });\n\n    var data = JSON.stringify({\n        \"title\": title,\n        \"fields\": fields,\n        \"subtitle\": eff_no,\n        \"url\": link\n\n    });\n    return vaSystem.renderCard(\"Card\", data);\n\n})()\n",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "69c7b65c52ad400f9a7ec68ac2bfe831": {
          "id": "69c7b65c52ad400f9a7ec68ac2bfe831",
          "name": "Attach incident record to conversation",
          "script": "(function execute() {\n    vaSystem.attachRecordToConversation(\"incident\", vaVars.inc_sysid);\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "5d5ed75c7f0041e2a61915f9a385af04",
          "edgeType": "Edge",
          "source": "558ebe6afa5144bb8d5d3ad2aa32916b",
          "target": "4505d043a3004b33a13ebc30e8eeaf4a",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "b4a739a4d8804bbcb175de010a1f47ab",
          "edgeType": "Edge",
          "source": "e15a6f4e281049ee89ded38801f9c3df",
          "target": "d226c18570ff44bd957423970db43914",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "63f5b2bc49ba4caa9afe281894183d78",
          "edgeType": "Edge",
          "source": "c7735cd8576546fb8f1fd905677c2767",
          "target": "a500d9685beb4b708e4929ca5a8d6e72",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "72fc7e591ebd403d94a726dbd7e4af07",
          "edgeType": "Edge",
          "source": "a500d9685beb4b708e4929ca5a8d6e72",
          "target": "39896219bbab4ffda4718719caa8b2a2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "cf9e11a3a07046ceb6bbec42e2d2fb9e",
          "edgeType": "Edge",
          "source": "e647584676f848ada6f9326f390d507a",
          "target": "049abbe231b64a4ba2140998a2f40d53",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "1c205a0b0a4244c6ac4647559f0e3fc0",
          "edgeType": "Branch",
          "source": "049abbe231b64a4ba2140998a2f40d53",
          "target": "c7735cd8576546fb8f1fd905677c2767",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.is_UR_created == false;\n})()\n"
          },
          "label": "No"
        },
        {
          "id": "372b4af3082e480e8b32e25e25a8941d",
          "edgeType": "Branch",
          "source": "049abbe231b64a4ba2140998a2f40d53",
          "target": "558ebe6afa5144bb8d5d3ad2aa32916b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.is_UR_created == true;\n})()\n"
          },
          "label": "Yes"
        },
        {
          "id": "973d16141ef0464e8e15bcef03e85129",
          "edgeType": "Edge",
          "source": "4505d043a3004b33a13ebc30e8eeaf4a",
          "target": "39896219bbab4ffda4718719caa8b2a2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "bae32dac82a74778b06f510adfb7afe4",
          "edgeType": "Edge",
          "source": "d226c18570ff44bd957423970db43914",
          "target": "69c7b65c52ad400f9a7ec68ac2bfe831",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "21d2bc541f164e54a69f0509eef88762",
          "edgeType": "Edge",
          "source": "69c7b65c52ad400f9a7ec68ac2bfe831",
          "target": "e647584676f848ada6f9326f390d507a",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "85e9092383a144c6838c348fececaf78": {
      "id": "85e9092383a144c6838c348fececaf78",
      "name": "caller",
      "label": "Caller",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "e15a6f4e281049ee89ded38801f9c3df",
      "isHidden": false
    },
    "034eb9455c724253a8ced479d905b1f1": {
      "id": "034eb9455c724253a8ced479d905b1f1",
      "name": "short_description",
      "label": "Short_description",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "e15a6f4e281049ee89ded38801f9c3df",
      "isHidden": false
    },
    "25abc91336cd40a090a3cbd79f96f69b": {
      "id": "25abc91336cd40a090a3cbd79f96f69b",
      "name": "urgency",
      "label": "Urgency",
      "defaultValue": "3",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "e15a6f4e281049ee89ded38801f9c3df",
      "isHidden": false
    },
    "e42fa4128cb24e68b66759b015174c35": {
      "id": "e42fa4128cb24e68b66759b015174c35",
      "name": "description",
      "label": "Description",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "e15a6f4e281049ee89ded38801f9c3df",
      "isHidden": false
    },
    "d554c42c69c4485da7e8230f4efdf210": {
      "category": "vaInputs",
      "id": "d554c42c69c4485da7e8230f4efdf210",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "0d26381665684abdbd1846e32e179df3": {
      "id": "0d26381665684abdbd1846e32e179df3",
      "name": "cmdb_ci",
      "label": "Cmdb_ci",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "e15a6f4e281049ee89ded38801f9c3df",
      "isHidden": false
    },
    "8b34aa6968454764b7f9a5b18f24bf4a": {
      "id": "8b34aa6968454764b7f9a5b18f24bf4a",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "is_UR_created",
      "label": "is_UR_created",
      "varType": "script",
      "category": "vaVars"
    },
    "4a56f258ff494cd796223482b4301522": {
      "id": "4a56f258ff494cd796223482b4301522",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "inc_sysid",
      "label": "inc_sysid",
      "varType": "script",
      "category": "vaVars"
    },
    "b3c0890bd6974e429f3d8af864d32605": {
      "id": "b3c0890bd6974e429f3d8af864d32605",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    if (vaContext.deviceType == 'ios' || vaContext.deviceType == 'android')\n        return 'mesp';\n    return gs.getProperty('sn_itsm_va.com.snc.itsm.virtualagent.portal_url');\n})()"
      },
      "name": "portal",
      "label": "portal",
      "varType": "script",
      "category": "vaVars"
    }
  }
}</graph><name>Incident thing</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 08:12:10</sys_created_on><sys_domain>global</sys_domain><sys_id>dfe2a8a647b00610c2e1a3e7826d437c</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_dfe2a8a647b00610c2e1a3e7826d437c</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 08:12:10</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1820744373</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>787c712647380610c2e1a3e7826d432b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e276b59620000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>9fe2a8a677b0061089f3e0d9e93e787d</update_guid>
<update_guid_history>9fe2a8a677b0061089f3e0d9e93e787d:1820744373</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_1e180dae47340610c2e1a3e7826d4307</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__5a180daeac3406101c1a698553d41406","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__5a180daeac3406101c1a698553d41406","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_3db29dbafa3149408f7708274e63e2c8_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_5a180dae6c340610fffca966ed3e9007","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_ab77f0178e3643ed992b11d77addfcd8","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_6fd36347983e40d09aa9a280880b2da3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_d6180dae933406108a6c2cdb85d1e607","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_1a180daeec3406108a808c2d1165e107","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_3db29dbafa3149408f7708274e63e2c8_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_5a180dae6c340610fffca966ed3e9007\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_RootDecision_d6180dae933406108a6c2cdb85d1e607\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Branch_ab77f0178e3643ed992b11d77addfcd8\");vaInputs.initialize(\"__silent_Branch_6fd36347983e40d09aa9a280880b2da3\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_1a180daeec3406108a808c2d1165e107\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_d6180dae933406108a6c2cdb85d1e607","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_d6180dae933406108a6c2cdb85d1e607\";vaInputs.__silent_Decision_RootDecision_d6180dae933406108a6c2cdb85d1e607=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_d6180dae933406108a6c2cdb85d1e607\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_5a180dae6c340610fffca966ed3e9007=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_1a180daeec3406108a808c2d1165e107.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_d6180dae933406108a6c2cdb85d1e607","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_1a180daeec3406108a808c2d1165e107","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_1a180daeec3406108a808c2d1165e107","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_d6180dae933406108a6c2cdb85d1e607\" &amp;&amp; ((vaInputs.RootDecisionBranch_5a180dae6c340610fffca966ed3e9007.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_1a180daeec3406108a808c2d1165e107___RootDecisionBranch_1a180daeec3406108a808c2d1165e107\";vaInputs.__silent_Branch_RootDecisionBranch_1a180daeec3406108a808c2d1165e107=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_1a180daeec3406108a808c2d1165e107___RootDecisionBranch_1a180daeec3406108a808c2d1165e107\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_1a180daeec3406108a808c2d1165e107","node_name":"RootDecisionBranch_1a180daeec3406108a808c2d1165e107","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_1a180daeec3406108a808c2d1165e107___RootDecisionBranch_1a180daeec3406108a808c2d1165e107\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_1a180daeec3406108a808c2d1165e107"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    vaVars.Request  = JSON.stringify(user_output);\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n\n\n    var response = vaVars.Continue_Conversation + JSON.stringify(bot_output);\n    var array = response.toString();\n\n    vaVars.Continue_Conversation = array;\n    vaVars.Request = array;\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_6fd36347983e40d09aa9a280880b2da3.reset();})();(function() {vaInputs.__silent_Branch_ab77f0178e3643ed992b11d77addfcd8.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_6fd36347983e40d09aa9a280880b2da3.reset();})();(function() {vaInputs.__silent_Branch_ab77f0178e3643ed992b11d77addfcd8.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_6fd36347983e40d09aa9a280880b2da3","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___6fd36347983e40d09aa9a280880b2da3\";vaInputs.__silent_Branch_6fd36347983e40d09aa9a280880b2da3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___6fd36347983e40d09aa9a280880b2da3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6fd36347983e40d09aa9a280880b2da3","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_ab77f0178e3643ed992b11d77addfcd8","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___ab77f0178e3643ed992b11d77addfcd8\";vaInputs.__silent_Branch_ab77f0178e3643ed992b11d77addfcd8=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___ab77f0178e3643ed992b11d77addfcd8\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"ab77f0178e3643ed992b11d77addfcd8","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___ab77f0178e3643ed992b11d77addfcd8\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___6fd36347983e40d09aa9a280880b2da3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_3db29dbafa3149408f7708274e63e2c8_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 10:54:35</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__5a180daeac3406101c1a698553d41406</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:54:35</sys_created_on><sys_domain>global</sys_domain><sys_id>1e180dae47340610c2e1a3e7826d4307</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__5a180daeac3406101c1a698553d41406</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_1e180dae47340610c2e1a3e7826d4307</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:54:35</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=1e180dae47340610c2e1a3e7826d4307"/></record_update>]]></payload>
<payload_hash>208728578</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>787c712647380610c2e1a3e7826d432e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28000b530000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__5a180daeac3406101c1a698553d41406</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>d2180dae3a340610e2859fa942c12909</update_guid>
<update_guid_history>d2180dae3a340610e2859fa942c12909:208728578</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_5935752e47f40610c2e1a3e7826d43d5</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT - Topic Block">d6bfd8e247b00610c2e1a3e7826d4367</cb_topic_id><channels/><definition>{"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__9135756a40f40610135286276784a4d4","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__9135756a40f40610135286276784a4d4","applicability":"true","categories":[],"key_phrases":[],"variables":[{"name":"Output","type":"java.lang.Object"},{"name":"_reusable_topic_outputs_var","type":"java.lang.Object","init_value":"(function execute() {return JSON.stringify({\"populated\":false,\"values\":{\"output\":\"\"}})})()"},{"name":"__segment_trigger_632af70949424b44a52ba02065ad2ddb_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"request","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_5535752e57f406102a4975a7480009d5","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_1535752ebbf4061054501db9e8ab9ad5","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_d135752e40f40610e1876580542dbad5","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_632af70949424b44a52ba02065ad2ddb_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_5535752e57f406102a4975a7480009d5\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_1535752ebbf4061054501db9e8ab9ad5\");vaInputs.initialize(\"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680\");vaInputs.initialize(\"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355\");vaInputs.initialize(\"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157\");vaInputs.initialize(\"__silent_Decision_RootDecision_d135752e40f40610e1876580542dbad5\");vaInputs.initialize(\"request\");vaInputs.request=JSON.parse('\"\"');null;","fields":[{"name":"__silent_Decision_RootDecision_d135752e40f40610e1876580542dbad5","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_d135752e40f40610e1876580542dbad5\";vaInputs.__silent_Decision_RootDecision_d135752e40f40610e1876580542dbad5=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_d135752e40f40610e1876580542dbad5\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_5535752e57f406102a4975a7480009d5=true;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_d135752e40f40610e1876580542dbad5","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_1535752ebbf4061054501db9e8ab9ad5","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_1535752ebbf4061054501db9e8ab9ad5","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_d135752e40f40610e1876580542dbad5\" &amp;&amp; ((vaInputs.RootDecisionBranch_5535752e57f406102a4975a7480009d5.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_1535752ebbf4061054501db9e8ab9ad5___RootDecisionBranch_1535752ebbf4061054501db9e8ab9ad5\";vaInputs.__silent_Branch_RootDecisionBranch_1535752ebbf4061054501db9e8ab9ad5=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_1535752ebbf4061054501db9e8ab9ad5___RootDecisionBranch_1535752ebbf4061054501db9e8ab9ad5\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_1535752ebbf4061054501db9e8ab9ad5","node_name":"RootDecisionBranch_1535752ebbf4061054501db9e8ab9ad5","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_1535752ebbf4061054501db9e8ab9ad5___RootDecisionBranch_1535752ebbf4061054501db9e8ab9ad5\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";vaInputs.__silent_StartGoal_a1f501f41a974866b3bda69f922f4680=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"a1f501f41a974866b3bda69f922f4680","node_name":"Start","predecessor_nodes":["RootDecisionBranch_1535752ebbf4061054501db9e8ab9ad5"],"next_node":"Continue Conversation","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","applicable":"vaVars.previous_graph_node==\"Start___a1f501f41a974866b3bda69f922f4680\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";(function execute() {(function execute() {\n\n// var request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', [{ \"role\": \"user\", \"content\": \"Tell me about React JS\" }]);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n vaVars.Output = httpStatus.toString();\n console.log(responseBody);\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = 'failure: '+ JSON.stringify(ex);\n}\n\n})()\n;})();vaInputs.__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"27d00bf90d7249c9abffba1e26630355","node_name":"Continue Conversation","predecessor_nodes":["Start"],"next_node":"End","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","applicable":"vaVars.previous_graph_node==\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";vaInputs.__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_632af70949424b44a52ba02065ad2ddb_done=true;(function execute() {var tmp={values:{}};tmp.values.output=vaVars.Output;tmp.populated=true;vaVars._reusable_topic_outputs_var=JSON.stringify(tmp);})();ackMsg;","metadata":{"type":"graph_node","node_id":"5115d1d54b7a4c0c8e2f5717958b3157","node_name":"End","predecessor_nodes":["Continue Conversation"],"node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[],"confirmation_msg":"gs.getMessageLang('[PREVIEW ONLY] The topic return values are: {0}', vaContext.getRequesterLang(), JSON.stringify(JSON.parse(vaVars._reusable_topic_outputs_var).values));"}],"roles":[],"active":true,"published":false,"library":true,"expose_on_palette":false,"palette_label":"ChatGPT - Topic Block","flexible_conversation_switching":true,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"TOPIC_BLOCK","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT - Topic Block","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases/><last_published_on>2024-03-10 14:11:40</last_published_on><library>true</library><library_usage>{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","mode":"string","value":"{{vaVars.Output}}"}}]}</library_usage><metaphone/><name>_PRVW__9135756a40f40610135286276784a4d4</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label>ChatGPT - Topic Block</palette_label><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:11:40</sys_created_on><sys_domain>global</sys_domain><sys_id>5935752e47f40610c2e1a3e7826d43d5</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__9135756a40f40610135286276784a4d4</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_5935752e47f40610c2e1a3e7826d43d5</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:11:40</sys_updated_on><title>ChatGPT - Topic Block</title><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=5935752e47f40610c2e1a3e7826d43d5"/></record_update>]]></payload>
<payload_hash>-929488463</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>787c712647380610c2e1a3e7826d4331</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28b47d290000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__9135756a40f40610135286276784a4d4</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>e135752ee9f40610c67fbabf1a1721d7</update_guid>
<update_guid_history>e135752ee9f40610c67fbabf1a1721d7:-929488463</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_8b853d2e47f40610c2e1a3e7826d433e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT - Topic Block">d6bfd8e247b00610c2e1a3e7826d4367</cb_topic_id><channels/><definition>{"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__c785fdeafaf406101bea33c95b214206","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__c785fdeafaf406101bea33c95b214206","applicability":"true","categories":[],"key_phrases":[],"variables":[{"name":"Output","type":"java.lang.Object"},{"name":"_reusable_topic_outputs_var","type":"java.lang.Object","init_value":"(function execute() {return JSON.stringify({\"populated\":false,\"values\":{\"output\":\"\"}})})()"},{"name":"__segment_trigger_070275ec6a814948a9005bc3e2ba2add_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"request","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_8785fdeae0f406102e1e0231ea085807","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_0785fdeaccf406106a1bbdd444546a07","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_4785fdeadbf406102c9b71119c8e2c07","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_070275ec6a814948a9005bc3e2ba2add_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_8785fdeae0f406102e1e0231ea085807\");vaInputs.initialize(\"__silent_Decision_RootDecision_0785fdeaccf406106a1bbdd444546a07\");vaInputs.initialize(\"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680\");vaInputs.initialize(\"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355\");vaInputs.initialize(\"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_4785fdeadbf406102c9b71119c8e2c07\");vaInputs.initialize(\"request\");vaInputs.request=JSON.parse('\"\"');null;","fields":[{"name":"__silent_Decision_RootDecision_0785fdeaccf406106a1bbdd444546a07","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_0785fdeaccf406106a1bbdd444546a07\";vaInputs.__silent_Decision_RootDecision_0785fdeaccf406106a1bbdd444546a07=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_0785fdeaccf406106a1bbdd444546a07\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_8785fdeae0f406102e1e0231ea085807=true;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_0785fdeaccf406106a1bbdd444546a07","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_4785fdeadbf406102c9b71119c8e2c07","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_4785fdeadbf406102c9b71119c8e2c07","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_0785fdeaccf406106a1bbdd444546a07\" &amp;&amp; ((vaInputs.RootDecisionBranch_8785fdeae0f406102e1e0231ea085807.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_4785fdeadbf406102c9b71119c8e2c07___RootDecisionBranch_4785fdeadbf406102c9b71119c8e2c07\";vaInputs.__silent_Branch_RootDecisionBranch_4785fdeadbf406102c9b71119c8e2c07=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_4785fdeadbf406102c9b71119c8e2c07___RootDecisionBranch_4785fdeadbf406102c9b71119c8e2c07\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_4785fdeadbf406102c9b71119c8e2c07","node_name":"RootDecisionBranch_4785fdeadbf406102c9b71119c8e2c07","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_4785fdeadbf406102c9b71119c8e2c07___RootDecisionBranch_4785fdeadbf406102c9b71119c8e2c07\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";vaInputs.__silent_StartGoal_a1f501f41a974866b3bda69f922f4680=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"a1f501f41a974866b3bda69f922f4680","node_name":"Start","predecessor_nodes":["RootDecisionBranch_4785fdeadbf406102c9b71119c8e2c07"],"next_node":"Continue Conversation","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","applicable":"vaVars.previous_graph_node==\"Start___a1f501f41a974866b3bda69f922f4680\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";(function execute() {(function execute() {\n\n// var request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', [{ \"role\": \"user\", \"content\": \"Tell me about React JS\" }]);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n vaVars.Output = httpStatus.toString();\n gs.info('36358 - '+JSON.stringify(responseBody));\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = 'failure: '+ JSON.stringify(ex);\n}\n\n})()\n;})();vaInputs.__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"27d00bf90d7249c9abffba1e26630355","node_name":"Continue Conversation","predecessor_nodes":["Start"],"next_node":"End","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","applicable":"vaVars.previous_graph_node==\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";vaInputs.__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_070275ec6a814948a9005bc3e2ba2add_done=true;(function execute() {var tmp={values:{}};tmp.values.output=vaVars.Output;tmp.populated=true;vaVars._reusable_topic_outputs_var=JSON.stringify(tmp);})();ackMsg;","metadata":{"type":"graph_node","node_id":"5115d1d54b7a4c0c8e2f5717958b3157","node_name":"End","predecessor_nodes":["Continue Conversation"],"node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[],"confirmation_msg":"gs.getMessageLang('[PREVIEW ONLY] The topic return values are: {0}', vaContext.getRequesterLang(), JSON.stringify(JSON.parse(vaVars._reusable_topic_outputs_var).values));"}],"roles":[],"active":true,"published":false,"library":true,"expose_on_palette":false,"palette_label":"ChatGPT - Topic Block","flexible_conversation_switching":true,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"TOPIC_BLOCK","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT - Topic Block","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases/><last_published_on>2024-03-10 14:13:09</last_published_on><library>true</library><library_usage>{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","mode":"string","value":"{{vaVars.Output}}"}}]}</library_usage><metaphone/><name>_PRVW__c785fdeafaf406101bea33c95b214206</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label>ChatGPT - Topic Block</palette_label><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:13:09</sys_created_on><sys_domain>global</sys_domain><sys_id>8b853d2e47f40610c2e1a3e7826d433e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__c785fdeafaf406101bea33c95b214206</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_8b853d2e47f40610c2e1a3e7826d433e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:13:09</sys_updated_on><title>ChatGPT - Topic Block</title><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=8b853d2e47f40610c2e1a3e7826d433e"/></record_update>]]></payload>
<payload_hash>-1390488468</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>787c712647380610c2e1a3e7826d4334</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28b5d80b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__c785fdeafaf406101bea33c95b214206</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>cf853d2ec8f40610c6fd60a493d40a3f</update_guid>
<update_guid_history>cf853d2ec8f40610c6fd60a493d40a3f:-1390488468</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_db9a742247340610c2e1a3e7826d4324</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__1b9a7422e7340610703cfe58e5910223","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__1b9a7422e7340610703cfe58e5910223","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation_JSON","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_123825b13fb340b78510d661440e5a07_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_1b9a742231340610fe224280ba427224","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_979a7422ed34061029a2f7984313b124","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_e856cce8868c45988cf515d0231a9873","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_39e06b90da0148f5957ef2c12091ab2c","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_d79a7422a5340610340ebce8b223dc24","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_123825b13fb340b78510d661440e5a07_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_1b9a742231340610fe224280ba427224\");vaInputs.initialize(\"__silent_Branch_39e06b90da0148f5957ef2c12091ab2c\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_d79a7422a5340610340ebce8b223dc24\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d\");vaInputs.initialize(\"__silent_Branch_e856cce8868c45988cf515d0231a9873\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Decision_RootDecision_979a7422ed34061029a2f7984313b124\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");null;","fields":[{"name":"__silent_Decision_RootDecision_979a7422ed34061029a2f7984313b124","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_979a7422ed34061029a2f7984313b124\";vaInputs.__silent_Decision_RootDecision_979a7422ed34061029a2f7984313b124=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_979a7422ed34061029a2f7984313b124\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_1b9a742231340610fe224280ba427224=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_d79a7422a5340610340ebce8b223dc24.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_979a7422ed34061029a2f7984313b124","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_d79a7422a5340610340ebce8b223dc24","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_d79a7422a5340610340ebce8b223dc24","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_979a7422ed34061029a2f7984313b124\" &amp;&amp; ((vaInputs.RootDecisionBranch_1b9a742231340610fe224280ba427224.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_d79a7422a5340610340ebce8b223dc24___RootDecisionBranch_d79a7422a5340610340ebce8b223dc24\";vaInputs.__silent_Branch_RootDecisionBranch_d79a7422a5340610340ebce8b223dc24=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_d79a7422a5340610340ebce8b223dc24___RootDecisionBranch_d79a7422a5340610340ebce8b223dc24\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_d79a7422a5340610340ebce8b223dc24","node_name":"RootDecisionBranch_d79a7422a5340610340ebce8b223dc24","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_d79a7422a5340610340ebce8b223dc24___RootDecisionBranch_d79a7422a5340610340ebce8b223dc24\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_d79a7422a5340610340ebce8b223dc24"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\";(function execute() {(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    // if (orignal_obj.length &gt; 0) {\n    //     message.push(orignal_obj);   // push initial or old data if exists\n    // }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    // if (gpt_response) {\n    //     var new_assistant_obj = {\n    //         \"role\": \"assistant\",\n    //         \"content\": gpt_response\n    //     };\n    //     message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    // }\n\n    vaVars.Request = message.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"778b69bb03ad4167a9a7a1246ade5a8d","node_name":"Parse Data Into 1 JSON","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data Into 1 JSON"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.choice.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Choice","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_39e06b90da0148f5957ef2c12091ab2c.reset();})();(function() {vaInputs.__silent_Branch_e856cce8868c45988cf515d0231a9873.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Print Response"],"next_node":"Decision","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_39e06b90da0148f5957ef2c12091ab2c.reset();})();(function() {vaInputs.__silent_Branch_e856cce8868c45988cf515d0231a9873.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_39e06b90da0148f5957ef2c12091ab2c","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___39e06b90da0148f5957ef2c12091ab2c\";vaInputs.__silent_Branch_39e06b90da0148f5957ef2c12091ab2c=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___39e06b90da0148f5957ef2c12091ab2c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"39e06b90da0148f5957ef2c12091ab2c","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_e856cce8868c45988cf515d0231a9873","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___e856cce8868c45988cf515d0231a9873\";vaInputs.__silent_Branch_e856cce8868c45988cf515d0231a9873=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___e856cce8868c45988cf515d0231a9873\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"e856cce8868c45988cf515d0231a9873","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___e856cce8868c45988cf515d0231a9873\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data Into 1 JSON","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___39e06b90da0148f5957ef2c12091ab2c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_123825b13fb340b78510d661440e5a07_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 09:55:40</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__1b9a7422e7340610703cfe58e5910223</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:55:40</sys_created_on><sys_domain>global</sys_domain><sys_id>db9a742247340610c2e1a3e7826d4324</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__1b9a7422e7340610703cfe58e5910223</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_db9a742247340610c2e1a3e7826d4324</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:55:40</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=db9a742247340610c2e1a3e7826d4324"/></record_update>]]></payload>
<payload_hash>613396694</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>787c712647380610c2e1a3e7826d4337</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27ca1cc30000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__1b9a7422e7340610703cfe58e5910223</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>939a74226e340610057b330058a6fc26</update_guid>
<update_guid_history>939a74226e340610057b330058a6fc26:613396694</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_11f715ee47740610c2e1a3e7826d434d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__19f7dd6e71740610c38b21f1c9e0d2b9">d9f7dd6e47740610c2e1a3e7826d43ba</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:03:52</sys_created_on><sys_domain>global</sys_domain><sys_id>11f715ee47740610c2e1a3e7826d434d</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_11f715ee47740610c2e1a3e7826d434d</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:03:52</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>1556917953</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>787c712647380610c2e1a3e7826d433a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e283f7bdf0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>51f715eec87406107368b936d920674e</update_guid>
<update_guid_history>51f715eec87406107368b936d920674e:1556917953</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_6d76d96e47740610c2e1a3e7826d434a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__6176156ed0740610e4669e9027e09620">2576156e47740610c2e1a3e7826d4321</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:57:20</sys_created_on><sys_domain>global</sys_domain><sys_id>6d76d96e47740610c2e1a3e7826d434a</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_6d76d96e47740610c2e1a3e7826d434a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:57:20</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-1041445001</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>787c712647380610c2e1a3e7826d433d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e283980530000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>ad76d96e3d740610304834fd1fbafc4b</update_guid>
<update_guid_history>ad76d96e3d740610304834fd1fbafc4b:-1041445001</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_bcc7b8ae47f00610c2e1a3e7826d43dc</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="ChatGPT">3366382e47f00610c2e1a3e7826d43c1</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:43:13</sys_created_on><sys_domain>global</sys_domain><sys_id>bcc7b8ae47f00610c2e1a3e7826d43dc</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_bcc7b8ae47f00610c2e1a3e7826d43dc</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:43:13</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-198465569</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>787c712647380610c2e1a3e7826d4340</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27beb4cc0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>fcc7b8aed9f00610f2f535f52606f4de</update_guid>
<update_guid_history>fcc7b8aed9f00610f2f535f52606f4de:-198465569</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_nlu_utterance_1457fc6e47f00610c2e1a3e7826d4338</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_nlu_utterance"><sys_nlu_utterance action="INSERT_OR_UPDATE"><intent display_value="Connect GPT">3f37fc6e47f00610c2e1a3e7826d43f7</intent><original_utterance/><primary_utterance/><source>manual</source><sys_class_name>sys_nlu_utterance</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:41:16</sys_created_on><sys_id>1457fc6e47f00610c2e1a3e7826d4338</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Please Help</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_nlu_utterance_1457fc6e47f00610c2e1a3e7826d4338</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:41:16</sys_updated_on><utterance>Please Help</utterance></sys_nlu_utterance></record_update>]]></payload>
<payload_hash>1869253326</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>787c712647380610c2e1a3e7826d4343</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bcec080000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>Please Help</target_name>
<type>NLU Utterance</type>
<update_domain>global</update_domain>
<update_guid>1057fc6e16f006105051a4e97755b63a</update_guid>
<update_guid_history>1057fc6e16f006105051a4e97755b63a:1869253326</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_9973f5aa47f40610c2e1a3e7826d43ad</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__057371e600f4061060fe607b13ffc69e">817371e647f40610c2e1a3e7826d43a0</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"4bd380d8cba74e5f86faebc56a52eaab","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"4bd380d8cba74e5f86faebc56a52eaab"}],"goals":[{"name":"primary","trigger_id":"4bd380d8cba74e5f86faebc56a52eaab","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"57176f8fc142437dada40e1ace22addc","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"56c554747d604a378b7d808bf638d1ab","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"57176f8fc142437dada40e1ace22addc","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"57176f8fc142437dada40e1ace22addc"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"56c554747d604a378b7d808bf638d1ab","id":"7e27041fde704dafa3c57c0df71d7044","name":"56c554747d604a378b7d808bf638d1ab"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__057371e600f4061060fe607b13ffc69e","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__057371e600f4061060fe607b13ffc69e</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:04:01</sys_created_on><sys_domain>global</sys_domain><sys_id>9973f5aa47f40610c2e1a3e7826d43ad</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_9973f5aa47f40610c2e1a3e7826d43ad</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:04:01</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>2012940759</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>7c7c712647380610c2e1a3e7826d4327</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28ad79ea0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>9573f5aa48f40610e4d257ede73d3cb0</update_guid>
<update_guid_history>9573f5aa48f40610e4d257ede73d3cb0:2012940759</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_d889d12247b40610c2e1a3e7826d43ed</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__9889d122acb4061016cc56d33d4df0e9">5c89d12247b40610c2e1a3e7826d43ea</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"52929a4c4e554d27aea4c10d1d45d60e","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"52929a4c4e554d27aea4c10d1d45d60e"}],"goals":[{"name":"primary","trigger_id":"52929a4c4e554d27aea4c10d1d45d60e","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"82086fdee68f43ed9ba95551ad990773","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"6a8d72a43c4f4dfbb6920103f940e970","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"82086fdee68f43ed9ba95551ad990773","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"82086fdee68f43ed9ba95551ad990773"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"6a8d72a43c4f4dfbb6920103f940e970","id":"7e27041fde704dafa3c57c0df71d7044","name":"6a8d72a43c4f4dfbb6920103f940e970"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__9889d122acb4061016cc56d33d4df0e9","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__9889d122acb4061016cc56d33d4df0e9</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:10:38</sys_created_on><sys_domain>global</sys_domain><sys_id>d889d12247b40610c2e1a3e7826d43ed</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_d889d12247b40610c2e1a3e7826d43ed</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:10:38</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-1070820281</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>7c7c712647380610c2e1a3e7826d432a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2845ac2e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>1c89d122e6b40610f97c3b874fdedbee</update_guid>
<update_guid_history>1c89d122e6b40610f97c3b874fdedbee:-1070820281</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_0be2a8a647b00610c2e1a3e7826d4379</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="Incident thing">1ce2ac6647b00610c2e1a3e7826d4326</cb_topic_id><channels/><definition>{"id":"1ce2ac6647b00610c2e1a3e7826d4326","name":"Incident thing","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"Incident thing","applicability":"true","categories":[],"key_phrases":[],"variables":[{"name":"is_UR_created","type":"java.lang.Object"},{"name":"inc_sysid","type":"java.lang.Object"},{"name":"portal","type":"java.lang.Object","init_value":"(function execute() {\n    if (vaContext.deviceType == 'ios' || vaContext.deviceType == 'android')\n        return 'mesp';\n    return gs.getProperty('sn_itsm_va.com.snc.itsm.virtualagent.portal_url');\n})()"},{"name":"_reusable_topic_outputs_var","type":"java.lang.Object","init_value":"(function execute() {return JSON.stringify({\"populated\":false,\"values\":{\"created_incident_sys_id\":\"\"}})})()"},{"name":"__multipart_total__4505d043a3004b33a13ebc30e8eeaf4a","type":"java.lang.Object"},{"name":"__multipart_idx__4505d043a3004b33a13ebc30e8eeaf4a","type":"java.lang.Object"},{"name":"__multipart_valid__4505d043a3004b33a13ebc30e8eeaf4a","type":"java.lang.Object"},{"name":"__segment_trigger_82691ca0790f4390bc5c83f2aef32239_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"String","name":"caller","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"short_description","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"urgency","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"description","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"cmdb_ci","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_0fe2a8a6f8b00610cb4d4d6014498f78","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Branch_RootDecisionBranch_cbe2a8a6e9b006105f2a969d962a0278","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_e94b60fb9e3d49b58613a5a0ea2a9f95","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_39896219bbab4ffda4718719caa8b2a2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_c7735cd8576546fb8f1fd905677c2767","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptOutputPrompt_4505d043a3004b33a13ebc30e8eeaf4a","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_RecordOutputPrompt_a500d9685beb4b708e4929ca5a8d6e72","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_e647584676f848ada6f9326f390d507a","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_681e724c2a3740e7b6d5042e9599d041","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_558ebe6afa5144bb8d5d3ad2aa32916b","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_e15a6f4e281049ee89ded38801f9c3df","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_049abbe231b64a4ba2140998a2f40d53","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_8be2a8a690b00610eefe3fbcbe5b4a78","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_d226c18570ff44bd957423970db43914","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_69c7b65c52ad400f9a7ec68ac2bfe831","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_82691ca0790f4390bc5c83f2aef32239_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_0fe2a8a6f8b00610cb4d4d6014498f78\");vaInputs.initialize(\"__silent_RecordOutputPrompt_a500d9685beb4b708e4929ca5a8d6e72\");vaInputs.initialize(\"__silent_Decision_RootDecision_8be2a8a690b00610eefe3fbcbe5b4a78\");vaInputs.initialize(\"__silent_ScriptedAction_d226c18570ff44bd957423970db43914\");vaInputs.initialize(\"__silent_Branch_681e724c2a3740e7b6d5042e9599d041\");vaInputs.initialize(\"__silent_StartGoal_e15a6f4e281049ee89ded38801f9c3df\");vaInputs.initialize(\"__silent_ScriptOutputPrompt_4505d043a3004b33a13ebc30e8eeaf4a\");vaInputs.initialize(\"__silent_ScriptedAction_69c7b65c52ad400f9a7ec68ac2bfe831\");vaInputs.initialize(\"__silent_TextOutputPrompt_c7735cd8576546fb8f1fd905677c2767\");vaInputs.initialize(\"__silent_Branch_e94b60fb9e3d49b58613a5a0ea2a9f95\");vaInputs.initialize(\"__silent_Decision_049abbe231b64a4ba2140998a2f40d53\");vaInputs.initialize(\"__silent_TerminateGoal_39896219bbab4ffda4718719caa8b2a2\");vaInputs.initialize(\"__silent_ScriptedAction_e647584676f848ada6f9326f390d507a\");vaInputs.initialize(\"__silent_TextOutputPrompt_558ebe6afa5144bb8d5d3ad2aa32916b\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_cbe2a8a6e9b006105f2a969d962a0278\");vaInputs.initialize(\"description\");vaInputs.description=JSON.parse('\"\"');vaInputs.initialize(\"caller\");vaInputs.caller=JSON.parse('\"\"');vaInputs.initialize(\"urgency\");vaInputs.urgency=JSON.parse('\"3\"');vaInputs.initialize(\"cmdb_ci\");vaInputs.cmdb_ci=JSON.parse('\"\"');vaInputs.initialize(\"short_description\");vaInputs.short_description=JSON.parse('\"\"');null;","fields":[{"name":"__silent_Decision_RootDecision_8be2a8a690b00610eefe3fbcbe5b4a78","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_8be2a8a690b00610eefe3fbcbe5b4a78\";vaInputs.__silent_Decision_RootDecision_8be2a8a690b00610eefe3fbcbe5b4a78=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_8be2a8a690b00610eefe3fbcbe5b4a78\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_0fe2a8a6f8b00610cb4d4d6014498f78=true;ackMsg;"},{"name":"__silent_Branch_RootDecisionBranch_cbe2a8a6e9b006105f2a969d962a0278","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_8be2a8a690b00610eefe3fbcbe5b4a78\" &amp;&amp; ((vaInputs.RootDecisionBranch_0fe2a8a6f8b00610cb4d4d6014498f78.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_cbe2a8a6e9b006105f2a969d962a0278___RootDecisionBranch_cbe2a8a6e9b006105f2a969d962a0278\";vaInputs.__silent_Branch_RootDecisionBranch_cbe2a8a6e9b006105f2a969d962a0278=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_cbe2a8a6e9b006105f2a969d962a0278___RootDecisionBranch_cbe2a8a6e9b006105f2a969d962a0278\";var ackMsg=null;ackMsg=null;ackMsg;"},{"name":"__silent_StartGoal_e15a6f4e281049ee89ded38801f9c3df","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_cbe2a8a6e9b006105f2a969d962a0278___RootDecisionBranch_cbe2a8a6e9b006105f2a969d962a0278\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___e15a6f4e281049ee89ded38801f9c3df\";vaInputs.__silent_StartGoal_e15a6f4e281049ee89ded38801f9c3df=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___e15a6f4e281049ee89ded38801f9c3df\";var ackMsg=null;ackMsg=null;ackMsg;"},{"name":"__silent_ScriptedAction_d226c18570ff44bd957423970db43914","applicable":"vaVars.previous_graph_node==\"Start___e15a6f4e281049ee89ded38801f9c3df\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Create Request/Incident___d226c18570ff44bd957423970db43914\";(function execute() {(function execute() {\n    var caller = vaInputs.caller;\n    var short_desc = vaInputs.short_description;\n    var urgency = vaInputs.urgency;\n    var desc = vaInputs.description;\n    var cmdb_ci = vaInputs.cmdb_ci;\n\n     if (!gs.nil(caller) &amp;&amp; !gs.nil(short_desc)) {\n        var incDetails = new sn_itsm_va.VACreateINCUtil().createIncident(caller, short_desc, urgency, desc, cmdb_ci);\n        vaVars.inc_sysid = incDetails.sysid;\n     }\n     \n})();})();vaInputs.__silent_ScriptedAction_d226c18570ff44bd957423970db43914=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Create Request/Incident___d226c18570ff44bd957423970db43914\";var ackMsg=null;ackMsg=null;ackMsg;"},{"name":"__silent_ScriptedAction_69c7b65c52ad400f9a7ec68ac2bfe831","applicable":"vaVars.previous_graph_node==\"Create Request/Incident___d226c18570ff44bd957423970db43914\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Attach incident record to conversation___69c7b65c52ad400f9a7ec68ac2bfe831\";(function execute() {(function execute() {\n    vaSystem.attachRecordToConversation(\"incident\", vaVars.inc_sysid);\n})()\n;})();vaInputs.__silent_ScriptedAction_69c7b65c52ad400f9a7ec68ac2bfe831=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Attach incident record to conversation___69c7b65c52ad400f9a7ec68ac2bfe831\";var ackMsg=null;ackMsg=null;ackMsg;"},{"name":"__silent_ScriptedAction_e647584676f848ada6f9326f390d507a","applicable":"vaVars.previous_graph_node==\"Attach incident record to conversation___69c7b65c52ad400f9a7ec68ac2bfe831\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Check UR created___e647584676f848ada6f9326f390d507a\";(function execute() {(function execute() {\n  var incGr = new GlideRecord(\"incident\");\n  incGr.get(vaVars.inc_sysid);\n  vaVars.is_UR_created = !gs.nil(incGr.universal_request);\n})()\n;})();vaInputs.__silent_ScriptedAction_e647584676f848ada6f9326f390d507a=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Check UR created___e647584676f848ada6f9326f390d507a\";var ackMsg=null;ackMsg=null;ackMsg;"},{"name":"__silent_Decision_049abbe231b64a4ba2140998a2f40d53","applicable":"vaVars.previous_graph_node==\"Check UR created___e647584676f848ada6f9326f390d507a\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___049abbe231b64a4ba2140998a2f40d53\";vaInputs.__silent_Decision_049abbe231b64a4ba2140998a2f40d53=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___049abbe231b64a4ba2140998a2f40d53\";var ackMsg=null;ackMsg=null;ackMsg;"},{"name":"__silent_Branch_681e724c2a3740e7b6d5042e9599d041","applicable":"vaVars.previous_graph_node==\"Decision___049abbe231b64a4ba2140998a2f40d53\" &amp;&amp; (function execute() {\n    return vaVars.is_UR_created == false;\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"No___681e724c2a3740e7b6d5042e9599d041\";vaInputs.__silent_Branch_681e724c2a3740e7b6d5042e9599d041=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"No___681e724c2a3740e7b6d5042e9599d041\";var ackMsg=null;ackMsg=null;ackMsg;"},{"name":"__silent_Branch_e94b60fb9e3d49b58613a5a0ea2a9f95","applicable":"vaVars.previous_graph_node==\"Decision___049abbe231b64a4ba2140998a2f40d53\" &amp;&amp; (function execute() {\n    return vaVars.is_UR_created == true;\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Yes___e94b60fb9e3d49b58613a5a0ea2a9f95\";vaInputs.__silent_Branch_e94b60fb9e3d49b58613a5a0ea2a9f95=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Yes___e94b60fb9e3d49b58613a5a0ea2a9f95\";var ackMsg=null;ackMsg=null;ackMsg;"},{"name":"__silent_TextOutputPrompt_c7735cd8576546fb8f1fd905677c2767","applicable":"vaVars.previous_graph_node==\"No___681e724c2a3740e7b6d5042e9599d041\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Incident created___c7735cd8576546fb8f1fd905677c2767\";vaInputs.__silent_TextOutputPrompt_c7735cd8576546fb8f1fd905677c2767=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Incident created___c7735cd8576546fb8f1fd905677c2767\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return (function execute() {\n    return gs.getMessageLang(\"OK, I've opened a new ticket for you, and someone will help you shortly.\", vaContext.getRequesterLang());\n})()\n }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();ackMsg;","acknowledge_msg_mask_type":"NONE"},{"name":"__silent_TextOutputPrompt_558ebe6afa5144bb8d5d3ad2aa32916b","applicable":"vaVars.previous_graph_node==\"Yes___e94b60fb9e3d49b58613a5a0ea2a9f95\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Request created___558ebe6afa5144bb8d5d3ad2aa32916b\";vaInputs.__silent_TextOutputPrompt_558ebe6afa5144bb8d5d3ad2aa32916b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Request created___558ebe6afa5144bb8d5d3ad2aa32916b\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return (function execute() {\n    return gs.getMessageLang(\"Got it. I submitted your request and someone will be assigned to it soon.\", vaContext.getRequesterLang());\n})()\n }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();ackMsg;","acknowledge_msg_mask_type":"NONE"},{"name":"__silent_RecordOutputPrompt_a500d9685beb4b708e4929ca5a8d6e72","applicable":"vaVars.previous_graph_node==\"Incident created___c7735cd8576546fb8f1fd905677c2767\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Display incident___a500d9685beb4b708e4929ca5a8d6e72\";vaInputs.__silent_RecordOutputPrompt_a500d9685beb4b708e4929ca5a8d6e72=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Display incident___a500d9685beb4b708e4929ca5a8d6e72\";var ackMsg=null;ackMsg=(function execute() {var recordOutputGR = (function execute(table) {var gr = new GlideRecordSecure(table);gr.addEncodedQuery(\"sys_id=\" + vaVars.inc_sysid);gr.query();if(gr.next()) {return gr;}})('incident');vaInputs.ReferenceVariable_8fe2a8a68fb006101d0ac36d9612d178 = recordOutputGR;return (function execute() {var output = new global.VaRecordCardOutput({\"short_description\":\"Short description\",\"state\":\"State\",\"priority\":\"Priority\",\"category\":\"Category\",\"assignment_group\":\"Assignment group\",\"description\":\"Description\"});\nreturn output.build(vaInputs.ReferenceVariable_8fe2a8a68fb006101d0ac36d9612d178,'incident');\n})();})();ackMsg;"},{"name":"__silent_ScriptOutputPrompt_4505d043a3004b33a13ebc30e8eeaf4a","applicable":"vaVars.previous_graph_node==\"Request created___558ebe6afa5144bb8d5d3ad2aa32916b\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Display Request___4505d043a3004b33a13ebc30e8eeaf4a\";vaInputs.__silent_ScriptOutputPrompt_4505d043a3004b33a13ebc30e8eeaf4a=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Display Request___4505d043a3004b33a13ebc30e8eeaf4a\";var ackMsg=null;ackMsg=(function execute() {\n   return (function execute() {\n    var itsm_helper = new sn_itsm_va.ItsmVaHelper();\n    var gr = new GlideRecord(\"incident\");\n    gr.get(vaVars.inc_sysid);\n\n    var title = gr.getElement(\"universal_request\").getLabel();\n    var eff_no = gr.getValue(\"task_effective_number\");\n    var link = gs.getProperty('glide.servlet.uri') + vaVars.portal + '?sys_id=' + vaVars.inc_sysid + '&amp;id=ticket&amp;table=incident';\n    var table_name = gr.getClassDisplayValue();\n    var priority = gr.getDisplayValue('priority');\n    var short_description = gr.getValue('short_description');\n    var description = gr.getValue('description');\n    var state = gr.getDisplayValue('state');\n    var category = gr.getDisplayValue('category');\n    var assignment_group = gr.getDisplayValue('assignment_group');\n    var fields = [];\n    if (short_description != null &amp;&amp; short_description != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"short_description\").getLabel(), \"fieldValue\": short_description });\n    if (state != null &amp;&amp; state != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"state\").getLabel(), \"fieldValue\": state });\n    if (priority != null &amp;&amp; priority != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"priority\").getLabel(), \"fieldValue\": priority });\n    if (category != null &amp;&amp; category != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"category\").getLabel(), \"fieldValue\": category });\n    if (assignment_group != null &amp;&amp; assignment_group != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"assignment_group\").getLabel(), \"fieldValue\": assignment_group });\n    if (description != null &amp;&amp; description != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"description\").getLabel(), \"fieldValue\": description });\n\n    var data = JSON.stringify({\n        \"title\": title,\n        \"fields\": fields,\n        \"subtitle\": eff_no,\n        \"url\": link\n\n    });\n    return vaSystem.renderCard(\"Card\", data);\n\n})();\n})();ackMsg;"},{"name":"__silent_TerminateGoal_39896219bbab4ffda4718719caa8b2a2","applicable":"(vaVars.previous_graph_node==\"Display incident___a500d9685beb4b708e4929ca5a8d6e72\" || vaVars.previous_graph_node==\"Display Request___4505d043a3004b33a13ebc30e8eeaf4a\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___39896219bbab4ffda4718719caa8b2a2\";vaInputs.__silent_TerminateGoal_39896219bbab4ffda4718719caa8b2a2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___39896219bbab4ffda4718719caa8b2a2\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_82691ca0790f4390bc5c83f2aef32239_done=true;(function execute() {var tmp={values:{}};tmp.values.created_incident_sys_id=vaVars.inc_sysid;tmp.populated=true;vaVars._reusable_topic_outputs_var=JSON.stringify(tmp);})();ackMsg;"}],"variables_update":[]}],"roles":[],"active":true,"published":true,"library":true,"expose_on_palette":false,"palette_label":"Incident thing","flexible_conversation_switching":true,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"TOPIC_BLOCK","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"Incident thing","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases/><last_published_on>2024-03-10 08:12:10</last_published_on><library>true</library><library_usage>{"type":"Library","input-parameters":[{"name":"caller","label":"caller","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"85e9092383a144c6838c348fececaf78","type":"String","hint":""},{"name":"short_description","label":"short_description","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"034eb9455c724253a8ced479d905b1f1","type":"String","hint":""},{"name":"urgency","label":"urgency","default-value":"\"3\"","required":false,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"25abc91336cd40a090a3cbd79f96f69b","type":"String","hint":""},{"name":"description","label":"description","default-value":"\"\"","required":false,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"e42fa4128cb24e68b66759b015174c35","type":"String","hint":""},{"name":"cmdb_ci","label":"cmdb_ci","default-value":"\"\"","required":false,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"0d26381665684abdbd1846e32e179df3","type":"String","hint":""}],"return-values-mapping":[{"name":"created_incident_sys_id","label":"created_incident_sys_id","value":{"type":"String","mode":"string","value":"{{vaVars.inc_sysid}}"}}]}</library_usage><metaphone/><name>Incident thing</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label>Incident thing</palette_label><published>true</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 08:12:10</sys_created_on><sys_domain>global</sys_domain><sys_id>0be2a8a647b00610c2e1a3e7826d4379</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Incident thing</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_0be2a8a647b00610c2e1a3e7826d4379</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 08:12:10</sys_updated_on><title>Incident thing</title><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=0be2a8a647b00610c2e1a3e7826d4379"/></record_update>]]></payload>
<payload_hash>400801982</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>7c7c712647380610c2e1a3e7826d432d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e276b59110000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>Incident thing</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>dfe2a8a62bb006102510fd8e17e7687a</update_guid>
<update_guid_history>dfe2a8a62bb006102510fd8e17e7687a:400801982</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_4ac7f0ae47f00610c2e1a3e7826d432a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__86c7f0aebef006107a0d6199d32ae329","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__86c7f0aebef006107a0d6199d32ae329","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation_JSON","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_e008a52433f74dd899911a172ce69584_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_86c7f0ae53f0061077b214cdf862b02a","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_03ea6fd3dc0245bd92442aad28ac03d8","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_66832489349249bcb09d42872a3dc778","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_06c7f0ae2af0061090120379bbbebc2a","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_46c7f0aee8f00610f7714ae9a73b2d2a","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_e008a52433f74dd899911a172ce69584_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_86c7f0ae53f0061077b214cdf862b02a\");vaInputs.initialize(\"__silent_Branch_66832489349249bcb09d42872a3dc778\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_46c7f0aee8f00610f7714ae9a73b2d2a\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Decision_RootDecision_06c7f0ae2af0061090120379bbbebc2a\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Branch_03ea6fd3dc0245bd92442aad28ac03d8\");null;","fields":[{"name":"__silent_Decision_RootDecision_06c7f0ae2af0061090120379bbbebc2a","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_06c7f0ae2af0061090120379bbbebc2a\";vaInputs.__silent_Decision_RootDecision_06c7f0ae2af0061090120379bbbebc2a=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_06c7f0ae2af0061090120379bbbebc2a\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_86c7f0ae53f0061077b214cdf862b02a=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_46c7f0aee8f00610f7714ae9a73b2d2a.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_06c7f0ae2af0061090120379bbbebc2a","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_46c7f0aee8f00610f7714ae9a73b2d2a","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_46c7f0aee8f00610f7714ae9a73b2d2a","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_06c7f0ae2af0061090120379bbbebc2a\" &amp;&amp; ((vaInputs.RootDecisionBranch_86c7f0ae53f0061077b214cdf862b02a.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_46c7f0aee8f00610f7714ae9a73b2d2a___RootDecisionBranch_46c7f0aee8f00610f7714ae9a73b2d2a\";vaInputs.__silent_Branch_RootDecisionBranch_46c7f0aee8f00610f7714ae9a73b2d2a=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_46c7f0aee8f00610f7714ae9a73b2d2a___RootDecisionBranch_46c7f0aee8f00610f7714ae9a73b2d2a\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_46c7f0aee8f00610f7714ae9a73b2d2a","node_name":"RootDecisionBranch_46c7f0aee8f00610f7714ae9a73b2d2a","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_46c7f0aee8f00610f7714ae9a73b2d2a___RootDecisionBranch_46c7f0aee8f00610f7714ae9a73b2d2a\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_46c7f0aee8f00610f7714ae9a73b2d2a"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\";(function execute() {(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    if (orignal_obj.length &gt; 0) {\n        message.push(orignal_obj);   // push initial or old data if exists\n    }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    if (gpt_response.length &gt; 0) {\n        var new_assistant_obj = {\n            \"role\": \"assistant\",\n            \"content\": gpt_response\n        };\n        message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    }\n\n    vaVars.Request = message.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"778b69bb03ad4167a9a7a1246ade5a8d","node_name":"Parse Data Into 1 JSON","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data Into 1 JSON"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.choice.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Choice","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_03ea6fd3dc0245bd92442aad28ac03d8.reset();})();(function() {vaInputs.__silent_Branch_66832489349249bcb09d42872a3dc778.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Print Response"],"next_node":"Decision","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_03ea6fd3dc0245bd92442aad28ac03d8.reset();})();(function() {vaInputs.__silent_Branch_66832489349249bcb09d42872a3dc778.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_03ea6fd3dc0245bd92442aad28ac03d8","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___03ea6fd3dc0245bd92442aad28ac03d8\";vaInputs.__silent_Branch_03ea6fd3dc0245bd92442aad28ac03d8=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___03ea6fd3dc0245bd92442aad28ac03d8\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"03ea6fd3dc0245bd92442aad28ac03d8","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_66832489349249bcb09d42872a3dc778","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___66832489349249bcb09d42872a3dc778\";vaInputs.__silent_Branch_66832489349249bcb09d42872a3dc778=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___66832489349249bcb09d42872a3dc778\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"66832489349249bcb09d42872a3dc778","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___66832489349249bcb09d42872a3dc778\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data Into 1 JSON","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___03ea6fd3dc0245bd92442aad28ac03d8\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_e008a52433f74dd899911a172ce69584_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 09:43:17</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__86c7f0aebef006107a0d6199d32ae329</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:43:17</sys_created_on><sys_domain>global</sys_domain><sys_id>4ac7f0ae47f00610c2e1a3e7826d432a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__86c7f0aebef006107a0d6199d32ae329</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_4ac7f0ae47f00610c2e1a3e7826d432a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:43:17</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=4ac7f0ae47f00610c2e1a3e7826d432a"/></record_update>]]></payload>
<payload_hash>520244977</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>7c7c712647380610c2e1a3e7826d4330</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bec5c30000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__86c7f0aebef006107a0d6199d32ae329</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>86c7f8ae34f00610bdc25bca6ebeb230</update_guid>
<update_guid_history>86c7f8ae34f00610bdc25bca6ebeb230:520244977</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_7b807d6647f40610c2e1a3e7826d43e2</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__b7807d6691f4061075ed5aeea03f78e1","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__b7807d6691f4061075ed5aeea03f78e1","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_fdf7855852b646c599082ce7c01e8b04_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_b7807d6633f40610ac71b5e3a3161ce2","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_77807d66e1f406100cceed8326f46be2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_37807d66cbf40610b1fbc0dc6f9155e2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_7840c7e667f1407d9d26f27dfaf9844c","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_145a0824d43349ec9b4ead83680f4629","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_fdf7855852b646c599082ce7c01e8b04_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_b7807d6633f40610ac71b5e3a3161ce2\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Decision_RootDecision_37807d66cbf40610b1fbc0dc6f9155e2\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_77807d66e1f406100cceed8326f46be2\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"__silent_Branch_7840c7e667f1407d9d26f27dfaf9844c\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Branch_145a0824d43349ec9b4ead83680f4629\");null;","fields":[{"name":"__silent_Decision_RootDecision_37807d66cbf40610b1fbc0dc6f9155e2","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_37807d66cbf40610b1fbc0dc6f9155e2\";vaInputs.__silent_Decision_RootDecision_37807d66cbf40610b1fbc0dc6f9155e2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_37807d66cbf40610b1fbc0dc6f9155e2\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_b7807d6633f40610ac71b5e3a3161ce2=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_77807d66e1f406100cceed8326f46be2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_37807d66cbf40610b1fbc0dc6f9155e2","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_77807d66e1f406100cceed8326f46be2","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_77807d66e1f406100cceed8326f46be2","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_37807d66cbf40610b1fbc0dc6f9155e2\" &amp;&amp; ((vaInputs.RootDecisionBranch_b7807d6633f40610ac71b5e3a3161ce2.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_77807d66e1f406100cceed8326f46be2___RootDecisionBranch_77807d66e1f406100cceed8326f46be2\";vaInputs.__silent_Branch_RootDecisionBranch_77807d66e1f406100cceed8326f46be2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_77807d66e1f406100cceed8326f46be2___RootDecisionBranch_77807d66e1f406100cceed8326f46be2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_77807d66e1f406100cceed8326f46be2","node_name":"RootDecisionBranch_77807d66e1f406100cceed8326f46be2","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_77807d66e1f406100cceed8326f46be2___RootDecisionBranch_77807d66e1f406100cceed8326f46be2\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_77807d66e1f406100cceed8326f46be2"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_7840c7e667f1407d9d26f27dfaf9844c.reset();})();(function() {vaInputs.__silent_Branch_145a0824d43349ec9b4ead83680f4629.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_7840c7e667f1407d9d26f27dfaf9844c.reset();})();(function() {vaInputs.__silent_Branch_145a0824d43349ec9b4ead83680f4629.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_7840c7e667f1407d9d26f27dfaf9844c","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___7840c7e667f1407d9d26f27dfaf9844c\";vaInputs.__silent_Branch_7840c7e667f1407d9d26f27dfaf9844c=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___7840c7e667f1407d9d26f27dfaf9844c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"7840c7e667f1407d9d26f27dfaf9844c","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_145a0824d43349ec9b4ead83680f4629","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___145a0824d43349ec9b4ead83680f4629\";vaInputs.__silent_Branch_145a0824d43349ec9b4ead83680f4629=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___145a0824d43349ec9b4ead83680f4629\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"145a0824d43349ec9b4ead83680f4629","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___145a0824d43349ec9b4ead83680f4629\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___7840c7e667f1407d9d26f27dfaf9844c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_fdf7855852b646c599082ce7c01e8b04_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 13:51:22</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__b7807d6691f4061075ed5aeea03f78e1</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:51:22</sys_created_on><sys_domain>global</sys_domain><sys_id>7b807d6647f40610c2e1a3e7826d43e2</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__b7807d6691f4061075ed5aeea03f78e1</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_7b807d6647f40610c2e1a3e7826d43e2</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:51:22</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=7b807d6647f40610c2e1a3e7826d43e2"/></record_update>]]></payload>
<payload_hash>-2088870501</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>7c7c712647380610c2e1a3e7826d4333</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28a1e5f00000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__b7807d6691f4061075ed5aeea03f78e1</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>00907d6635f406100bf2c269214248e4</update_guid>
<update_guid_history>00907d6635f406100bf2c269214248e4:-2088870501</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_cc2d81e247740610c2e1a3e7826d43e5</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__0c2d81e25c740610df946f983461f9e4","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__0c2d81e25c740610df946f983461f9e4","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_994a77aedc43475085f01813f99e33c2_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_0c2d81e25e740610b9d33ecadf5104e5","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Decision_RootDecision_882d81e2d8740610079a6360be7ddae5","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_2d1f3aa5e8554e678d37ff3a843ee5e1","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_5801e7c7af10450a83ec54e6de64da13","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_c82d81e2f0740610e30eb29a2763f7e5","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_994a77aedc43475085f01813f99e33c2_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_0c2d81e25e740610b9d33ecadf5104e5\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Branch_5801e7c7af10450a83ec54e6de64da13\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_c82d81e2f0740610e30eb29a2763f7e5\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"__silent_Branch_2d1f3aa5e8554e678d37ff3a843ee5e1\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_Decision_RootDecision_882d81e2d8740610079a6360be7ddae5\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");null;","fields":[{"name":"__silent_Decision_RootDecision_882d81e2d8740610079a6360be7ddae5","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_882d81e2d8740610079a6360be7ddae5\";vaInputs.__silent_Decision_RootDecision_882d81e2d8740610079a6360be7ddae5=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_882d81e2d8740610079a6360be7ddae5\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_0c2d81e25e740610b9d33ecadf5104e5=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_c82d81e2f0740610e30eb29a2763f7e5.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_882d81e2d8740610079a6360be7ddae5","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_c82d81e2f0740610e30eb29a2763f7e5","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_c82d81e2f0740610e30eb29a2763f7e5","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_882d81e2d8740610079a6360be7ddae5\" &amp;&amp; ((vaInputs.RootDecisionBranch_0c2d81e25e740610b9d33ecadf5104e5.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_c82d81e2f0740610e30eb29a2763f7e5___RootDecisionBranch_c82d81e2f0740610e30eb29a2763f7e5\";vaInputs.__silent_Branch_RootDecisionBranch_c82d81e2f0740610e30eb29a2763f7e5=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_c82d81e2f0740610e30eb29a2763f7e5___RootDecisionBranch_c82d81e2f0740610e30eb29a2763f7e5\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_c82d81e2f0740610e30eb29a2763f7e5","node_name":"RootDecisionBranch_c82d81e2f0740610e30eb29a2763f7e5","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_c82d81e2f0740610e30eb29a2763f7e5___RootDecisionBranch_c82d81e2f0740610e30eb29a2763f7e5\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_c82d81e2f0740610e30eb29a2763f7e5"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_5801e7c7af10450a83ec54e6de64da13.reset();})();(function() {vaInputs.__silent_Branch_2d1f3aa5e8554e678d37ff3a843ee5e1.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_5801e7c7af10450a83ec54e6de64da13.reset();})();(function() {vaInputs.__silent_Branch_2d1f3aa5e8554e678d37ff3a843ee5e1.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_2d1f3aa5e8554e678d37ff3a843ee5e1","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___2d1f3aa5e8554e678d37ff3a843ee5e1\";vaInputs.__silent_Branch_2d1f3aa5e8554e678d37ff3a843ee5e1=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___2d1f3aa5e8554e678d37ff3a843ee5e1\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"2d1f3aa5e8554e678d37ff3a843ee5e1","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_5801e7c7af10450a83ec54e6de64da13","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___5801e7c7af10450a83ec54e6de64da13\";vaInputs.__silent_Branch_5801e7c7af10450a83ec54e6de64da13=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___5801e7c7af10450a83ec54e6de64da13\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"5801e7c7af10450a83ec54e6de64da13","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___5801e7c7af10450a83ec54e6de64da13\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___2d1f3aa5e8554e678d37ff3a843ee5e1\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_994a77aedc43475085f01813f99e33c2_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 11:16:33</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__0c2d81e25c740610df946f983461f9e4</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:16:33</sys_created_on><sys_domain>global</sys_domain><sys_id>cc2d81e247740610c2e1a3e7826d43e5</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__0c2d81e25c740610df946f983461f9e4</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_cc2d81e247740610c2e1a3e7826d43e5</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:16:33</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=cc2d81e247740610c2e1a3e7826d43e5"/></record_update>]]></payload>
<payload_hash>-1731654353</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>7c7c712647380610c2e1a3e7826d4336</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e281428550000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__0c2d81e25c740610df946f983461f9e4</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>842d81e2337406104ac4c8b0edd0fee7</update_guid>
<update_guid_history>842d81e2337406104ac4c8b0edd0fee7:-1731654353</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_071b75a247380610c2e1a3e7826d4351</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__3e1b31a264380610d8f8701a7c64a749">fe1b31a247380610c2e1a3e7826d434a</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:37:27</sys_created_on><sys_domain>global</sys_domain><sys_id>071b75a247380610c2e1a3e7826d4351</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_071b75a247380610c2e1a3e7826d4351</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:37:27</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-178296415</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>7c7c712647380610c2e1a3e7826d4339</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28cc16710000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>471b75a22e380610ae4fbaa94a190a52</update_guid>
<update_guid_history>471b75a22e380610ae4fbaa94a190a52:-178296415</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_514ee92647f40610c2e1a3e7826d4364</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__894ee92675f40610dc75cd49533c6f5d">4d4ee92647f40610c2e1a3e7826d435e</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:41:21</sys_created_on><sys_domain>global</sys_domain><sys_id>514ee92647f40610c2e1a3e7826d4364</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_514ee92647f40610c2e1a3e7826d4364</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:41:21</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>525250142</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>7c7c712647380610c2e1a3e7826d433c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2898b9560000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>914ee92624f406105614dd1b59e4f165</update_guid>
<update_guid_history>914ee92624f406105614dd1b59e4f165:525250142</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_acbcada247f40610c2e1a3e7826d43e9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__d4bcada2f2f40610b4689e53fb0f6de3">98bcada247f40610c2e1a3e7826d43e4</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:34:28</sys_created_on><sys_domain>global</sys_domain><sys_id>acbcada247f40610c2e1a3e7826d43e9</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_acbcada247f40610c2e1a3e7826d43e9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:34:28</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>1886747263</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>7c7c712647380610c2e1a3e7826d433f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28926e300000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>ecbcada2ddf4061022a644caf997a4ea</update_guid>
<update_guid_history>ecbcada2ddf4061022a644caf997a4ea:1886747263</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_library_usage_f366382e47f00610c2e1a3e7826d43c7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_library_usage"><sys_cs_topic_library_usage action="INSERT_OR_UPDATE"><calling_cs_topic_id display_value="ChatGPT">3366382e47f00610c2e1a3e7826d43c1</calling_cs_topic_id><library_cs_topic_id display_value="ChatGPT - Topic Block">eae0a4a647b00610c2e1a3e7826d43af</library_cs_topic_id><library_usage>{"type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}}</library_usage><node_id>0f00102b57ca42febb65fcb23674460d</node_id><sys_class_name>sys_cs_topic_library_usage</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:37:25</sys_created_on><sys_domain>global</sys_domain><sys_id>f366382e47f00610c2e1a3e7826d43c7</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_library_usage_f366382e47f00610c2e1a3e7826d43c7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:37:25</sys_updated_on></sys_cs_topic_library_usage></record_update>]]></payload>
<payload_hash>388427696</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>7c7c712647380610c2e1a3e7826d4342</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27b9646e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>Topic Library Usage</type>
<update_domain>global</update_domain>
<update_guid>3f66382ebbf00610fd983f10a9db7ac8</update_guid>
<update_guid_history>3f66382ebbf00610fd983f10a9db7ac8:388427696</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_ui_message_6136702e47f00610c2e1a3e7826d4349</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_message"><sys_ui_message action="INSERT_OR_UPDATE"><application>Virtual Agent</application><code/><commented_message/><key>select one of the option</key><language>en</language><message>Select One of the option</message><sys_class_name>sys_ui_message</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:36:26</sys_created_on><sys_id>6136702e47f00610c2e1a3e7826d4349</sys_id><sys_mod_count>0</sys_mod_count><sys_name>select one of the option</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_ui_message_6136702e47f00610c2e1a3e7826d4349</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:36:26</sys_updated_on></sys_ui_message></record_update>]]></payload>
<payload_hash>515045889</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>7c7c712647380610c2e1a3e7826d4345</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27b87e4c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>select one of the option</target_name>
<type>Message</type>
<update_domain>global</update_domain>
<update_guid>a136702ea5f006104e105f9a901be64a</update_guid>
<update_guid_history>a136702ea5f006104e105f9a901be64a:515045889</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_77c7896e47340610c2e1a3e7826d4337</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__37c7896e213406102d792f4561cdf933">f7c7896e47340610c2e1a3e7826d4334</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"9c020f5e5c3f4f749c9bd3b6ba8604b7","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"9c020f5e5c3f4f749c9bd3b6ba8604b7"}],"goals":[{"name":"primary","trigger_id":"9c020f5e5c3f4f749c9bd3b6ba8604b7","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"980ed9acc7bc4ebb8195568bbb6fc500","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"0d1318477859482a8afdcb154b0fbec2","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    vaVars.Request  = JSON.stringify(user_output);\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"980ed9acc7bc4ebb8195568bbb6fc500","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"980ed9acc7bc4ebb8195568bbb6fc500"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"0d1318477859482a8afdcb154b0fbec2","id":"7e27041fde704dafa3c57c0df71d7044","name":"0d1318477859482a8afdcb154b0fbec2"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__37c7896e213406102d792f4561cdf933","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    vaVars.Request  = JSON.stringify(user_output);\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__37c7896e213406102d792f4561cdf933</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:53:19</sys_created_on><sys_domain>global</sys_domain><sys_id>77c7896e47340610c2e1a3e7826d4337</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_77c7896e47340610c2e1a3e7826d4337</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:53:19</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>97949063</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>a07c712647380610c2e1a3e7826d4326</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27fee4ac0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>b7c7896e59340610667a2b715ff66b38</update_guid>
<update_guid_history>b7c7896e59340610667a2b715ff66b38:97949063</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>m2m_sys_nlu_model_sys_entity_da27f86e47f00610c2e1a3e7826d4373</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sys_nlu_model_sys_entity"><m2m_sys_nlu_model_sys_entity action="INSERT_OR_UPDATE"><active>true</active><entity>SOFTWARE</entity><model display_value="VA GPT">da27786e47f00610c2e1a3e7826d4339</model><sys_class_name>m2m_sys_nlu_model_sys_entity</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:40:35</sys_created_on><sys_entity/><sys_id>da27f86e47f00610c2e1a3e7826d4373</sys_id><sys_mod_count>0</sys_mod_count><sys_name>VA GPT.</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>m2m_sys_nlu_model_sys_entity_da27f86e47f00610c2e1a3e7826d4373</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:40:35</sys_updated_on></m2m_sys_nlu_model_sys_entity></record_update>]]></payload>
<payload_hash>-140736597</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>a07c75a247380610c2e1a3e7826d4362</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bc4cca0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>VA GPT.</target_name>
<type>NLU Model System Entity</type>
<update_domain>global</update_domain>
<update_guid>da27f86ed7f006103969a048da393174</update_guid>
<update_guid_history>da27f86ed7f006103969a048da393174:-140736597</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_34e85dee47740610c2e1a3e7826d439e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__f0e85dee0f740610c30940e1b087239a">b4e85dee47740610c2e1a3e7826d439b</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"0a303db124db42b092bc3da1f9b82f43","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"0a303db124db42b092bc3da1f9b82f43"}],"goals":[{"name":"primary","trigger_id":"0a303db124db42b092bc3da1f9b82f43","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"a939e23f781047ca96117294dc3d33aa","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"5b865336f8594c499470316948bae5db","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"a939e23f781047ca96117294dc3d33aa","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"a939e23f781047ca96117294dc3d33aa"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"5b865336f8594c499470316948bae5db","id":"7e27041fde704dafa3c57c0df71d7044","name":"5b865336f8594c499470316948bae5db"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__f0e85dee0f740610c30940e1b087239a","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__f0e85dee0f740610c30940e1b087239a</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:07:56</sys_created_on><sys_domain>global</sys_domain><sys_id>34e85dee47740610c2e1a3e7826d439e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_34e85dee47740610c2e1a3e7826d439e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:07:56</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1497762643</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>a07c75a247380610c2e1a3e7826d4365</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e284332ac0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>74e85deee874061035bedac0a6f19b9f</update_guid>
<update_guid_history>74e85deee874061035bedac0a6f19b9f:1497762643</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_6936382e47f00610c2e1a3e7826d4345</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__2136702e1ef006105e2efb4970b46146">6936382e47f00610c2e1a3e7826d4342</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"adeb3027434845779e333c9a0790d598","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"adeb3027434845779e333c9a0790d598"}],"goals":[{"name":"primary","trigger_id":"adeb3027434845779e333c9a0790d598","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"a57428db0b2240609bf5ea56dc84bd8d","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"812630ce47af437c8a87d05d5cd23737","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    if (orignal_obj.length &gt; 0) {\n        message.push(orignal_obj);   // push initial or old data if exists\n    }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    if (gpt_response.length &gt; 0) {\n        var new_assistant_obj = {\n            \"role\": \"assistant\",\n            \"content\": gpt_response\n        };\n        message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    }\n\n    vaVars.Request = message.toString();\n\n})()\n","id":"778b69bb03ad4167a9a7a1246ade5a8d","name":"Parse Data Into 1 JSON","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"a57428db0b2240609bf5ea56dc84bd8d","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"a57428db0b2240609bf5ea56dc84bd8d"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"812630ce47af437c8a87d05d5cd23737","id":"7e27041fde704dafa3c57c0df71d7044","name":"812630ce47af437c8a87d05d5cd23737"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"778b69bb03ad4167a9a7a1246ade5a8d","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"778b69bb03ad4167a9a7a1246ade5a8d","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"6d31c36a4f734fe4a0789b67028e593a"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation_JSON","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__2136702e1ef006105e2efb4970b46146","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "778b69bb03ad4167a9a7a1246ade5a8d": {
          "id": "778b69bb03ad4167a9a7a1246ade5a8d",
          "name": "Parse Data Into 1 JSON",
          "script": "(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    if (orignal_obj.length &gt; 0) {\n        message.push(orignal_obj);   // push initial or old data if exists\n    }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    if (gpt_response.length &gt; 0) {\n        var new_assistant_obj = {\n            \"role\": \"assistant\",\n            \"content\": gpt_response\n        };\n        message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    }\n\n    vaVars.Request = message.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": false
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "778b69bb03ad4167a9a7a1246ade5a8d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "6d31c36a4f734fe4a0789b67028e593a",
          "edgeType": "Edge",
          "source": "778b69bb03ad4167a9a7a1246ade5a8d",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation_JSON",
      "label": "Continue_Conversation_JSON",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": false,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__2136702e1ef006105e2efb4970b46146</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:36:26</sys_created_on><sys_domain>global</sys_domain><sys_id>6936382e47f00610c2e1a3e7826d4345</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_6936382e47f00610c2e1a3e7826d4345</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:36:26</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1673850150</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>a47c712647380610c2e1a3e7826d4325</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27b87fbf0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>e936382e2af006104acd1cec4f61c446</update_guid>
<update_guid_history>e936382e2af006104acd1cec4f61c446:1673850150</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>m2m_sys_nlu_model_sys_entity_9227f86e47f00610c2e1a3e7826d4363</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sys_nlu_model_sys_entity"><m2m_sys_nlu_model_sys_entity action="INSERT_OR_UPDATE"><active>true</active><entity>MONEY</entity><model display_value="VA GPT">da27786e47f00610c2e1a3e7826d4339</model><sys_class_name>m2m_sys_nlu_model_sys_entity</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:40:35</sys_created_on><sys_entity/><sys_id>9227f86e47f00610c2e1a3e7826d4363</sys_id><sys_mod_count>0</sys_mod_count><sys_name>VA GPT.</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>m2m_sys_nlu_model_sys_entity_9227f86e47f00610c2e1a3e7826d4363</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:40:35</sys_updated_on></m2m_sys_nlu_model_sys_entity></record_update>]]></payload>
<payload_hash>414015270</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>a47c75a247380610c2e1a3e7826d4361</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bc4c930000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>VA GPT.</target_name>
<type>NLU Model System Entity</type>
<update_domain>global</update_domain>
<update_guid>9227f86e91f006105b75bb49d3e56264</update_guid>
<update_guid_history>9227f86e91f006105b75bb49d3e56264:414015270</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_2ca6bd6e47f40610c2e1a3e7826d43e6</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__2ca67daa2ef406100f4bc086f8cfe3d0">20a67daa47f40610c2e1a3e7826d43d2</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"544be296e7454ddf996fef10bda6a027","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"544be296e7454ddf996fef10bda6a027"}],"goals":[{"name":"primary","trigger_id":"544be296e7454ddf996fef10bda6a027","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"6adba659dd304330a6867576c0bc08d5","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"4a8d7bae876e4cf9a4901fecfcd61d57","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"6adba659dd304330a6867576c0bc08d5","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"6adba659dd304330a6867576c0bc08d5"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"4a8d7bae876e4cf9a4901fecfcd61d57","id":"7e27041fde704dafa3c57c0df71d7044","name":"4a8d7bae876e4cf9a4901fecfcd61d57"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__2ca67daa2ef406100f4bc086f8cfe3d0","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__2ca67daa2ef406100f4bc086f8cfe3d0</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:17:54</sys_created_on><sys_domain>global</sys_domain><sys_id>2ca6bd6e47f40610c2e1a3e7826d43e6</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_2ca6bd6e47f40610c2e1a3e7826d43e6</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:17:54</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-1367826350</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>a47c75a247380610c2e1a3e7826d4364</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28ba31060000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>6ca6bd6e88f406100cceea64303468e7</update_guid>
<update_guid_history>6ca6bd6e88f406100cceea64303468e7:-1367826350</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_60ea71a247380610c2e1a3e7826d4317</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__20ea71a22138061071bec3f61c18fc13">e0ea71a247380610c2e1a3e7826d4314</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"650424fda02a45b9b0ac0a36860c2940","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"650424fda02a45b9b0ac0a36860c2940"}],"goals":[{"name":"primary","trigger_id":"650424fda02a45b9b0ac0a36860c2940","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"35ef306285d548bd92ff332bca40db74","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"05bbdb06694949c6aced5966f71afcf9","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"35ef306285d548bd92ff332bca40db74","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"35ef306285d548bd92ff332bca40db74"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"05bbdb06694949c6aced5966f71afcf9","id":"7e27041fde704dafa3c57c0df71d7044","name":"05bbdb06694949c6aced5966f71afcf9"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__20ea71a22138061071bec3f61c18fc13","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__20ea71a22138061071bec3f61c18fc13</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:36:28</sys_created_on><sys_domain>global</sys_domain><sys_id>60ea71a247380610c2e1a3e7826d4317</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_60ea71a247380610c2e1a3e7826d4317</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:36:28</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-1884886216</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>a87c712647380610c2e1a3e7826d4324</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28cb2f900000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>a0ea71a2b538061054b5c269fc176918</update_guid>
<update_guid_history>a0ea71a2b538061054b5c269fc176918:-1884886216</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>m2m_sys_nlu_model_sys_entity_1227f86e47f00610c2e1a3e7826d435f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sys_nlu_model_sys_entity"><m2m_sys_nlu_model_sys_entity action="INSERT_OR_UPDATE"><active>true</active><entity>LOCATION</entity><model display_value="VA GPT">da27786e47f00610c2e1a3e7826d4339</model><sys_class_name>m2m_sys_nlu_model_sys_entity</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:40:35</sys_created_on><sys_entity/><sys_id>1227f86e47f00610c2e1a3e7826d435f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>VA GPT.</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>m2m_sys_nlu_model_sys_entity_1227f86e47f00610c2e1a3e7826d435f</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:40:35</sys_updated_on></m2m_sys_nlu_model_sys_entity></record_update>]]></payload>
<payload_hash>-1602034375</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>a87c75a247380610c2e1a3e7826d4360</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bc4c5d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>VA GPT.</target_name>
<type>NLU Model System Entity</type>
<update_domain>global</update_domain>
<update_guid>1227f86e90f00610865d2143f3e62b60</update_guid>
<update_guid_history>1227f86e90f00610865d2143f3e62b60:-1602034375</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_26a67d6e47f40610c2e1a3e7826d4395</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__e2a67d6e84f40610d22c2171b8e3ac91">a6a67d6e47f40610c2e1a3e7826d4392</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"dc7e06214fe442b69add3a94795e3a52","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"dc7e06214fe442b69add3a94795e3a52"}],"goals":[{"name":"primary","trigger_id":"dc7e06214fe442b69add3a94795e3a52","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"f4f9d406793b43ef9006406b9e434003","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"db50312a536d4053ab2b80de6d6e558e","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"f4f9d406793b43ef9006406b9e434003","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"f4f9d406793b43ef9006406b9e434003"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"db50312a536d4053ab2b80de6d6e558e","id":"7e27041fde704dafa3c57c0df71d7044","name":"db50312a536d4053ab2b80de6d6e558e"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__e2a67d6e84f40610d22c2171b8e3ac91","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__e2a67d6e84f40610d22c2171b8e3ac91</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:18:02</sys_created_on><sys_domain>global</sys_domain><sys_id>26a67d6e47f40610c2e1a3e7826d4395</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_26a67d6e47f40610c2e1a3e7826d4395</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:18:02</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1678141539</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>a87c75a247380610c2e1a3e7826d4363</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28ba4f710000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>66a67d6e34f40610c95546c59e22b196</update_guid>
<update_guid_history>66a67d6e34f40610c95546c59e22b196:1678141539</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_4ccb786247340610c2e1a3e7826d43d0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__0ccb7862bb340610d5389abdd962e6cc">cccb786247340610c2e1a3e7826d43cd</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"bdca122092d04b9bb585c05b24f293fe","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"bdca122092d04b9bb585c05b24f293fe"}],"goals":[{"name":"primary","trigger_id":"bdca122092d04b9bb585c05b24f293fe","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"b56ab143f78d4b6fbbe0f1da41a0e4af","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"928345857eca4555af54496e68223ba4","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\nvar input = vaInputs.enter_your_query.toString();\n\nvar output = {\n    \"role\" :\"user\",\n    \"content\":input\n};\n\nvaVars.Request  = JSON.stringify(output);\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"b56ab143f78d4b6fbbe0f1da41a0e4af","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"b56ab143f78d4b6fbbe0f1da41a0e4af"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"928345857eca4555af54496e68223ba4","id":"7e27041fde704dafa3c57c0df71d7044","name":"928345857eca4555af54496e68223ba4"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation_JSON","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__0ccb7862bb340610d5389abdd962e6cc","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\nvar input = vaInputs.enter_your_query.toString();\n\nvar output = {\n    \"role\" :\"user\",\n    \"content\":input\n};\n\nvaVars.Request  = JSON.stringify(output);\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation_JSON",
      "label": "Continue_Conversation_JSON",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__0ccb7862bb340610d5389abdd962e6cc</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:00:38</sys_created_on><sys_domain>global</sys_domain><sys_id>4ccb786247340610c2e1a3e7826d43d0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_4ccb786247340610c2e1a3e7826d43d0</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:00:38</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-1704963893</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>ac7c712647380610c2e1a3e7826d4323</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27cea81f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>8ccb7862363406106e5a7265e02d1fd1</update_guid>
<update_guid_history>8ccb7862363406106e5a7265e02d1fd1:-1704963893</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_0e33b1aa47f40610c2e1a3e7826d4377</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__fd33b5a691f406105046e2e837942266">b133b5a647f40610c2e1a3e7826d4368</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"36e199cdf1d94a9e8cd3b94d20021a8d","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"36e199cdf1d94a9e8cd3b94d20021a8d"}],"goals":[{"name":"primary","trigger_id":"36e199cdf1d94a9e8cd3b94d20021a8d","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"7bc48a4b3ec34d8dae0140a720b6e171","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"9d9051dad9344ad2aabd6a9984ef400a","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"7bc48a4b3ec34d8dae0140a720b6e171","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"7bc48a4b3ec34d8dae0140a720b6e171"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"9d9051dad9344ad2aabd6a9984ef400a","id":"7e27041fde704dafa3c57c0df71d7044","name":"9d9051dad9344ad2aabd6a9984ef400a"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__fd33b5a691f406105046e2e837942266","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__fd33b5a691f406105046e2e837942266</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:02:58</sys_created_on><sys_domain>global</sys_domain><sys_id>0e33b1aa47f40610c2e1a3e7826d4377</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_0e33b1aa47f40610c2e1a3e7826d4377</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:02:58</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-593280588</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>ac7c75a247380610c2e1a3e7826d4362</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28ac85230000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>4e33b1aa3df406109df1cd710ba5c578</update_guid>
<update_guid_history>4e33b1aa3df406109df1cd710ba5c578:-593280588</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_b66ced2247b40610c2e1a3e7826d43d7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__6e6ced2242b40610babca243b69dabd2">726ced2247b40610c2e1a3e7826d43d4</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"fbdcbfbca3a94314ab93719c24a68086","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"fbdcbfbca3a94314ab93719c24a68086"}],"goals":[{"name":"primary","trigger_id":"fbdcbfbca3a94314ab93719c24a68086","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"84a40778160049689f473dbb4e223669","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"f9f1b571e34c4450b9d8611add90cfea","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"84a40778160049689f473dbb4e223669","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"84a40778160049689f473dbb4e223669"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"f9f1b571e34c4450b9d8611add90cfea","id":"7e27041fde704dafa3c57c0df71d7044","name":"f9f1b571e34c4450b9d8611add90cfea"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__6e6ced2242b40610babca243b69dabd2","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__6e6ced2242b40610babca243b69dabd2</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:33:16</sys_created_on><sys_domain>global</sys_domain><sys_id>b66ced2247b40610c2e1a3e7826d43d7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_b66ced2247b40610c2e1a3e7826d43d7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:33:16</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1199642830</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b07c712647380610c2e1a3e7826d4329</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e289152990000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>3a6ced229fb4061056415e4821f813d8</update_guid>
<update_guid_history>3a6ced229fb4061056415e4821f813d8:1199642830</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_f2ea01ae47340610c2e1a3e7826d4357</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__a2ea01aeda340610d9a45e0bb4afe053">66ea01ae47340610c2e1a3e7826d4354</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"0a8c64bfafbc4ca3b775afb7719aede8","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"0a8c64bfafbc4ca3b775afb7719aede8"}],"goals":[{"name":"primary","trigger_id":"0a8c64bfafbc4ca3b775afb7719aede8","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"859e05bf5dd743a4b45c7673379ae51a","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"9c33dcecbbf646b396953507762e45f4","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"859e05bf5dd743a4b45c7673379ae51a","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"859e05bf5dd743a4b45c7673379ae51a"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"9c33dcecbbf646b396953507762e45f4","id":"7e27041fde704dafa3c57c0df71d7044","name":"9c33dcecbbf646b396953507762e45f4"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__a2ea01aeda340610d9a45e0bb4afe053","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__a2ea01aeda340610d9a45e0bb4afe053</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:06:54</sys_created_on><sys_domain>global</sys_domain><sys_id>f2ea01ae47340610c2e1a3e7826d4357</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_f2ea01ae47340610c2e1a3e7826d4357</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:06:54</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-252499965</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b07c712647380610c2e1a3e7826d432c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e280b512d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>faea4d627a740610a5d793d1c8a60b06</update_guid>
<update_guid_history>faea4d627a740610a5d793d1c8a60b06:-252499965</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_2576156e47740610c2e1a3e7826d4321</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__6176156ed0740610e4669e9027e09620","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__6176156ed0740610e4669e9027e09620","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_9d6e842d99a5434bae2bb4178c1419c2_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_6176156e60740610c22ddbf7d6ecf921","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_002597e6200f42a3aafb7bed446a2648","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_ed76156eba740610d3de36d41513fe20","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_2176156eec74061048cb0734676be521","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_1b5182f46ce94aea8348663faa8e3704","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_9d6e842d99a5434bae2bb4178c1419c2_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_6176156e60740610c22ddbf7d6ecf921\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Branch_1b5182f46ce94aea8348663faa8e3704\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Branch_002597e6200f42a3aafb7bed446a2648\");vaInputs.initialize(\"__silent_Decision_RootDecision_ed76156eba740610d3de36d41513fe20\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_2176156eec74061048cb0734676be521\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_ed76156eba740610d3de36d41513fe20","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_ed76156eba740610d3de36d41513fe20\";vaInputs.__silent_Decision_RootDecision_ed76156eba740610d3de36d41513fe20=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_ed76156eba740610d3de36d41513fe20\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_6176156e60740610c22ddbf7d6ecf921=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_2176156eec74061048cb0734676be521.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_ed76156eba740610d3de36d41513fe20","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_2176156eec74061048cb0734676be521","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_2176156eec74061048cb0734676be521","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_ed76156eba740610d3de36d41513fe20\" &amp;&amp; ((vaInputs.RootDecisionBranch_6176156e60740610c22ddbf7d6ecf921.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_2176156eec74061048cb0734676be521___RootDecisionBranch_2176156eec74061048cb0734676be521\";vaInputs.__silent_Branch_RootDecisionBranch_2176156eec74061048cb0734676be521=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_2176156eec74061048cb0734676be521___RootDecisionBranch_2176156eec74061048cb0734676be521\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_2176156eec74061048cb0734676be521","node_name":"RootDecisionBranch_2176156eec74061048cb0734676be521","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_2176156eec74061048cb0734676be521___RootDecisionBranch_2176156eec74061048cb0734676be521\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_2176156eec74061048cb0734676be521"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_1b5182f46ce94aea8348663faa8e3704.reset();})();(function() {vaInputs.__silent_Branch_002597e6200f42a3aafb7bed446a2648.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_1b5182f46ce94aea8348663faa8e3704.reset();})();(function() {vaInputs.__silent_Branch_002597e6200f42a3aafb7bed446a2648.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_1b5182f46ce94aea8348663faa8e3704","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___1b5182f46ce94aea8348663faa8e3704\";vaInputs.__silent_Branch_1b5182f46ce94aea8348663faa8e3704=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___1b5182f46ce94aea8348663faa8e3704\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"1b5182f46ce94aea8348663faa8e3704","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_002597e6200f42a3aafb7bed446a2648","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___002597e6200f42a3aafb7bed446a2648\";vaInputs.__silent_Branch_002597e6200f42a3aafb7bed446a2648=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___002597e6200f42a3aafb7bed446a2648\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"002597e6200f42a3aafb7bed446a2648","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___002597e6200f42a3aafb7bed446a2648\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___1b5182f46ce94aea8348663faa8e3704\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_9d6e842d99a5434bae2bb4178c1419c2_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 11:57:20</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__6176156ed0740610e4669e9027e09620</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:57:20</sys_created_on><sys_domain>global</sys_domain><sys_id>2576156e47740610c2e1a3e7826d4321</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__6176156ed0740610e4669e9027e09620</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_2576156e47740610c2e1a3e7826d4321</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:57:20</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=2576156e47740610c2e1a3e7826d4321"/></record_update>]]></payload>
<payload_hash>681020277</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b07c712647380610c2e1a3e7826d432f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28397fee0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__6176156ed0740610e4669e9027e09620</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>e976156eb174061073303cfdd2d74022</update_guid>
<update_guid_history>e976156eb174061073303cfdd2d74022:681020277</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_66ea01ae47340610c2e1a3e7826d4354</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__a2ea01aeda340610d9a45e0bb4afe053","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__a2ea01aeda340610d9a45e0bb4afe053","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_0a8c64bfafbc4ca3b775afb7719aede8_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_a2ea01ae64340610124af80102818054","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Decision_RootDecision_22ea01aeca34061030a7b10ebc2fce54","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_9c33dcecbbf646b396953507762e45f4","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_62ea01ae153406109e0fbeebbb1cce54","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_859e05bf5dd743a4b45c7673379ae51a","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_0a8c64bfafbc4ca3b775afb7719aede8_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_a2ea01ae64340610124af80102818054\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_859e05bf5dd743a4b45c7673379ae51a\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_Decision_RootDecision_22ea01aeca34061030a7b10ebc2fce54\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_62ea01ae153406109e0fbeebbb1cce54\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"__silent_Branch_9c33dcecbbf646b396953507762e45f4\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");null;","fields":[{"name":"__silent_Decision_RootDecision_22ea01aeca34061030a7b10ebc2fce54","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_22ea01aeca34061030a7b10ebc2fce54\";vaInputs.__silent_Decision_RootDecision_22ea01aeca34061030a7b10ebc2fce54=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_22ea01aeca34061030a7b10ebc2fce54\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_a2ea01ae64340610124af80102818054=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_62ea01ae153406109e0fbeebbb1cce54.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_22ea01aeca34061030a7b10ebc2fce54","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_62ea01ae153406109e0fbeebbb1cce54","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_62ea01ae153406109e0fbeebbb1cce54","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_22ea01aeca34061030a7b10ebc2fce54\" &amp;&amp; ((vaInputs.RootDecisionBranch_a2ea01ae64340610124af80102818054.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_62ea01ae153406109e0fbeebbb1cce54___RootDecisionBranch_62ea01ae153406109e0fbeebbb1cce54\";vaInputs.__silent_Branch_RootDecisionBranch_62ea01ae153406109e0fbeebbb1cce54=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_62ea01ae153406109e0fbeebbb1cce54___RootDecisionBranch_62ea01ae153406109e0fbeebbb1cce54\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_62ea01ae153406109e0fbeebbb1cce54","node_name":"RootDecisionBranch_62ea01ae153406109e0fbeebbb1cce54","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_62ea01ae153406109e0fbeebbb1cce54___RootDecisionBranch_62ea01ae153406109e0fbeebbb1cce54\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_62ea01ae153406109e0fbeebbb1cce54"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_9c33dcecbbf646b396953507762e45f4.reset();})();(function() {vaInputs.__silent_Branch_859e05bf5dd743a4b45c7673379ae51a.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_9c33dcecbbf646b396953507762e45f4.reset();})();(function() {vaInputs.__silent_Branch_859e05bf5dd743a4b45c7673379ae51a.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_859e05bf5dd743a4b45c7673379ae51a","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___859e05bf5dd743a4b45c7673379ae51a\";vaInputs.__silent_Branch_859e05bf5dd743a4b45c7673379ae51a=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___859e05bf5dd743a4b45c7673379ae51a\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"859e05bf5dd743a4b45c7673379ae51a","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_9c33dcecbbf646b396953507762e45f4","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___9c33dcecbbf646b396953507762e45f4\";vaInputs.__silent_Branch_9c33dcecbbf646b396953507762e45f4=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___9c33dcecbbf646b396953507762e45f4\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"9c33dcecbbf646b396953507762e45f4","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___9c33dcecbbf646b396953507762e45f4\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___859e05bf5dd743a4b45c7673379ae51a\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_0a8c64bfafbc4ca3b775afb7719aede8_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 11:06:53</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__a2ea01aeda340610d9a45e0bb4afe053</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:06:53</sys_created_on><sys_domain>global</sys_domain><sys_id>66ea01ae47340610c2e1a3e7826d4354</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__a2ea01aeda340610d9a45e0bb4afe053</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_66ea01ae47340610c2e1a3e7826d4354</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:06:53</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=66ea01ae47340610c2e1a3e7826d4354"/></record_update>]]></payload>
<payload_hash>1152137332</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b07c712647380610c2e1a3e7826d4332</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e280b50f20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__a2ea01aeda340610d9a45e0bb4afe053</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>2eea01aecf340610aec5b82cc1e51d55</update_guid>
<update_guid_history>2eea01aecf340610aec5b82cc1e51d55:1152137332</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_98bcada247f40610c2e1a3e7826d43e4</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__d4bcada2f2f40610b4689e53fb0f6de3","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__d4bcada2f2f40610b4689e53fb0f6de3","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_4007dfc353684a93a73b93387b88c90d_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_d4bcada2b9f4061033c9e05fdef654e4","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_94bcada211f406107ed917ac34c2ede4","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_006a57bee83d438f92c1030e3ef2e3c4","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_ded187c18f824382b3b188349bb958cc","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_54bcada2a0f40610a97a3577f51d1ce4","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_4007dfc353684a93a73b93387b88c90d_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_d4bcada2b9f4061033c9e05fdef654e4\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_94bcada211f406107ed917ac34c2ede4\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_ded187c18f824382b3b188349bb958cc\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Decision_RootDecision_54bcada2a0f40610a97a3577f51d1ce4\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Branch_006a57bee83d438f92c1030e3ef2e3c4\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_54bcada2a0f40610a97a3577f51d1ce4","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_54bcada2a0f40610a97a3577f51d1ce4\";vaInputs.__silent_Decision_RootDecision_54bcada2a0f40610a97a3577f51d1ce4=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_54bcada2a0f40610a97a3577f51d1ce4\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_d4bcada2b9f4061033c9e05fdef654e4=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_94bcada211f406107ed917ac34c2ede4.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_54bcada2a0f40610a97a3577f51d1ce4","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_94bcada211f406107ed917ac34c2ede4","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_94bcada211f406107ed917ac34c2ede4","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_54bcada2a0f40610a97a3577f51d1ce4\" &amp;&amp; ((vaInputs.RootDecisionBranch_d4bcada2b9f4061033c9e05fdef654e4.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_94bcada211f406107ed917ac34c2ede4___RootDecisionBranch_94bcada211f406107ed917ac34c2ede4\";vaInputs.__silent_Branch_RootDecisionBranch_94bcada211f406107ed917ac34c2ede4=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_94bcada211f406107ed917ac34c2ede4___RootDecisionBranch_94bcada211f406107ed917ac34c2ede4\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_94bcada211f406107ed917ac34c2ede4","node_name":"RootDecisionBranch_94bcada211f406107ed917ac34c2ede4","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_94bcada211f406107ed917ac34c2ede4___RootDecisionBranch_94bcada211f406107ed917ac34c2ede4\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_94bcada211f406107ed917ac34c2ede4"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_ded187c18f824382b3b188349bb958cc.reset();})();(function() {vaInputs.__silent_Branch_006a57bee83d438f92c1030e3ef2e3c4.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_ded187c18f824382b3b188349bb958cc.reset();})();(function() {vaInputs.__silent_Branch_006a57bee83d438f92c1030e3ef2e3c4.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_006a57bee83d438f92c1030e3ef2e3c4","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___006a57bee83d438f92c1030e3ef2e3c4\";vaInputs.__silent_Branch_006a57bee83d438f92c1030e3ef2e3c4=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___006a57bee83d438f92c1030e3ef2e3c4\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"006a57bee83d438f92c1030e3ef2e3c4","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_ded187c18f824382b3b188349bb958cc","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___ded187c18f824382b3b188349bb958cc\";vaInputs.__silent_Branch_ded187c18f824382b3b188349bb958cc=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___ded187c18f824382b3b188349bb958cc\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"ded187c18f824382b3b188349bb958cc","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___ded187c18f824382b3b188349bb958cc\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___006a57bee83d438f92c1030e3ef2e3c4\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_4007dfc353684a93a73b93387b88c90d_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 13:34:28</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__d4bcada2f2f40610b4689e53fb0f6de3</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:34:28</sys_created_on><sys_domain>global</sys_domain><sys_id>98bcada247f40610c2e1a3e7826d43e4</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__d4bcada2f2f40610b4689e53fb0f6de3</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_98bcada247f40610c2e1a3e7826d43e4</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:34:28</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=98bcada247f40610c2e1a3e7826d43e4"/></record_update>]]></payload>
<payload_hash>1651119601</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b07c712647380610c2e1a3e7826d4335</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28926dc30000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__d4bcada2f2f40610b4689e53fb0f6de3</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>60bcada258f406106e57eafac667dee6</update_guid>
<update_guid_history>60bcada258f406106e57eafac667dee6:1651119601</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_e2d791ee47740610c2e1a3e7826d4336</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT - Topic Block">d6bfd8e247b00610c2e1a3e7826d4367</cb_topic_id><channels/><definition>{"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__2ed719ea6e740610879fb623043694e0","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__2ed719ea6e740610879fb623043694e0","applicability":"true","categories":[],"key_phrases":[],"variables":[{"name":"Output","type":"java.lang.Object"},{"name":"_reusable_topic_outputs_var","type":"java.lang.Object","init_value":"(function execute() {return JSON.stringify({\"populated\":false,\"values\":{\"output\":\"\"}})})()"},{"name":"__segment_trigger_c7f19eb9a25a447ba10aba98ecfe4838_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"request","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_eed791ee7c740610b3699d2942074835","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Decision_RootDecision_6ad719ea167406103a34e37cee619de1","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_aed791ee96740610a4a3bbedfeaf8e35","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_c7f19eb9a25a447ba10aba98ecfe4838_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_eed791ee7c740610b3699d2942074835\");vaInputs.initialize(\"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355\");vaInputs.initialize(\"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_aed791ee96740610a4a3bbedfeaf8e35\");vaInputs.initialize(\"__silent_Decision_RootDecision_6ad719ea167406103a34e37cee619de1\");vaInputs.initialize(\"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157\");vaInputs.initialize(\"request\");vaInputs.request=JSON.parse('\"\"');null;","fields":[{"name":"__silent_Decision_RootDecision_6ad719ea167406103a34e37cee619de1","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_6ad719ea167406103a34e37cee619de1\";vaInputs.__silent_Decision_RootDecision_6ad719ea167406103a34e37cee619de1=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_6ad719ea167406103a34e37cee619de1\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_eed791ee7c740610b3699d2942074835=true;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_6ad719ea167406103a34e37cee619de1","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_aed791ee96740610a4a3bbedfeaf8e35","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_aed791ee96740610a4a3bbedfeaf8e35","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_6ad719ea167406103a34e37cee619de1\" &amp;&amp; ((vaInputs.RootDecisionBranch_eed791ee7c740610b3699d2942074835.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_aed791ee96740610a4a3bbedfeaf8e35___RootDecisionBranch_aed791ee96740610a4a3bbedfeaf8e35\";vaInputs.__silent_Branch_RootDecisionBranch_aed791ee96740610a4a3bbedfeaf8e35=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_aed791ee96740610a4a3bbedfeaf8e35___RootDecisionBranch_aed791ee96740610a4a3bbedfeaf8e35\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_aed791ee96740610a4a3bbedfeaf8e35","node_name":"RootDecisionBranch_aed791ee96740610a4a3bbedfeaf8e35","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_aed791ee96740610a4a3bbedfeaf8e35___RootDecisionBranch_aed791ee96740610a4a3bbedfeaf8e35\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";vaInputs.__silent_StartGoal_a1f501f41a974866b3bda69f922f4680=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"a1f501f41a974866b3bda69f922f4680","node_name":"Start","predecessor_nodes":["RootDecisionBranch_aed791ee96740610a4a3bbedfeaf8e35"],"next_node":"Continue Conversation","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","applicable":"vaVars.previous_graph_node==\"Start___a1f501f41a974866b3bda69f922f4680\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";(function execute() {(function execute() {\n\nvar request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n//  try { \n//  var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n//  r.setStringParameterNoEscape('payload', payload);\n\n//  var response = r.execute();\n//  var responseBody = response.getBody();\n//  var httpStatus = response.getStatusCode();\n// vaVars.Output = responseBody.toString();\n\n// }\n// catch(ex) {\n//  var message = ex.message;\n// }\n\nvaVars.Output = request.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"27d00bf90d7249c9abffba1e26630355","node_name":"Continue Conversation","predecessor_nodes":["Start"],"next_node":"End","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","applicable":"vaVars.previous_graph_node==\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";vaInputs.__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_c7f19eb9a25a447ba10aba98ecfe4838_done=true;(function execute() {var tmp={values:{}};tmp.values.output=vaVars.Output;tmp.populated=true;vaVars._reusable_topic_outputs_var=JSON.stringify(tmp);})();ackMsg;","metadata":{"type":"graph_node","node_id":"5115d1d54b7a4c0c8e2f5717958b3157","node_name":"End","predecessor_nodes":["Continue Conversation"],"node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[],"confirmation_msg":"gs.getMessageLang('[PREVIEW ONLY] The topic return values are: {0}', vaContext.getRequesterLang(), JSON.stringify(JSON.parse(vaVars._reusable_topic_outputs_var).values));"}],"roles":[],"active":true,"published":false,"library":true,"expose_on_palette":false,"palette_label":"ChatGPT - Topic Block","flexible_conversation_switching":true,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"TOPIC_BLOCK","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT - Topic Block","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases/><last_published_on>2024-03-10 12:03:24</last_published_on><library>true</library><library_usage>{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","mode":"string","value":"{{vaVars.Output}}"}}]}</library_usage><metaphone/><name>_PRVW__2ed719ea6e740610879fb623043694e0</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label>ChatGPT - Topic Block</palette_label><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:03:24</sys_created_on><sys_domain>global</sys_domain><sys_id>e2d791ee47740610c2e1a3e7826d4336</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__2ed719ea6e740610879fb623043694e0</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_e2d791ee47740610c2e1a3e7826d4336</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:03:24</sys_updated_on><title>ChatGPT - Topic Block</title><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=e2d791ee47740610c2e1a3e7826d4336"/></record_update>]]></payload>
<payload_hash>-1407727420</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b07c712647380610c2e1a3e7826d4338</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e283f0f430000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__2ed719ea6e740610879fb623043694e0</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>aad791ee90740610cc6adb5a833b2837</update_guid>
<update_guid_history>aad791ee90740610cc6adb5a833b2837:-1407727420</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_21be896647740610c2e1a3e7826d4342</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__a9be0da29c7406100ebc6c82307d6cb5">6dbe0da247740610c2e1a3e7826d43b6</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:23:29</sys_created_on><sys_domain>global</sys_domain><sys_id>21be896647740610c2e1a3e7826d4342</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_21be896647740610c2e1a3e7826d4342</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:23:29</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-408048890</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b07c712647380610c2e1a3e7826d433b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e281a80210000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>61be8966787406105573b9e7ed64eb43</update_guid>
<update_guid_history>61be8966787406105573b9e7ed64eb43:-408048890</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_7fc70dae47340610c2e1a3e7826d4301</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__37c7896e213406102d792f4561cdf933">f7c7896e47340610c2e1a3e7826d4334</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:53:19</sys_created_on><sys_domain>global</sys_domain><sys_id>7fc70dae47340610c2e1a3e7826d4301</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_7fc70dae47340610c2e1a3e7826d4301</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:53:19</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-1312767132</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b07c712647380610c2e1a3e7826d433e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27fee4dc0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>bfc70dae6534061067fd6360f04c8602</update_guid>
<update_guid_history>bfc70dae6534061067fd6360f04c8602:-1312767132</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_c462956a47740610c2e1a3e7826d4365</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__7f52d92aa2740610589555e6dc1df0df">7352d92a47740610c2e1a3e7826d43e1</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:39:29</sys_created_on><sys_domain>global</sys_domain><sys_id>c462956a47740610c2e1a3e7826d4365</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_c462956a47740610c2e1a3e7826d4365</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:39:29</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>595129609</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b07c712647380610c2e1a3e7826d4341</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e282926c90000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>4c62956a7e740610ea8c1518d438f266</update_guid>
<update_guid_history>4c62956a7e740610ea8c1518d438f266:595129609</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_nlu_utterance_3d5770ae47f00610c2e1a3e7826d4317</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_nlu_utterance"><sys_nlu_utterance action="INSERT_OR_UPDATE"><intent display_value="Connect GPT">3f37fc6e47f00610c2e1a3e7826d43f7</intent><original_utterance/><primary_utterance/><source>manual</source><sys_class_name>sys_nlu_utterance</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:41:22</sys_created_on><sys_id>3d5770ae47f00610c2e1a3e7826d4317</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Connect GPT</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_nlu_utterance_3d5770ae47f00610c2e1a3e7826d4317</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:41:22</sys_updated_on><utterance>Connect GPT</utterance></sys_nlu_utterance></record_update>]]></payload>
<payload_hash>-2115694578</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b07c712647380610c2e1a3e7826d4344</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bd01f70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>Connect GPT</target_name>
<type>NLU Utterance</type>
<update_domain>global</update_domain>
<update_guid>395770ae57f00610e60349858143fd19</update_guid>
<update_guid_history>395770ae57f00610e60349858143fd19:-2115694578</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_a2aeede247f40610c2e1a3e7826d4397</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__52aeede215f40610439286a42028db93">16aeede247f40610c2e1a3e7826d4394</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"8b4cd2b0a6004f1fbe08de5136cc7269","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"8b4cd2b0a6004f1fbe08de5136cc7269"}],"goals":[{"name":"primary","trigger_id":"8b4cd2b0a6004f1fbe08de5136cc7269","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"a1f501f41a974866b3bda69f922f4680","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"5115d1d54b7a4c0c8e2f5717958b3157","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\nvar request = vaInputs.request.toString();\nvar array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', array);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n var output = parsedBody.choices[0].message.content;\n vaVars.Output.u_your_answer = output.trim();\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = JSON.stringify(message);\n}\n\n})()\n","id":"27d00bf90d7249c9abffba1e26630355","name":"Continue Conversation","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"27d00bf90d7249c9abffba1e26630355","target_node_id":"5115d1d54b7a4c0c8e2f5717958b3157","id":"49019a82541540bc840400911ef7a030"},{"type":"Edge","source_node_id":"a1f501f41a974866b3bda69f922f4680","target_node_id":"27d00bf90d7249c9abffba1e26630355","id":"7478d668356e446ab58435013b64513e"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Output","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"07ca374af3e94217bfa05558977275c1","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"request","list":false,"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","library-usage":{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"[{\\\"role\\\": \\\"user\\\", \\\"content\\\": \\\"Tell me about React JS\\\"}]\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Output}}"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__52aeede215f40610439286a42028db93","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"csTopicId":"eae0a4a647b00610c2e1a3e7826d43af","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>d6bfd8e247b00610c2e1a3e7826d4367</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "a1f501f41a974866b3bda69f922f4680": {
          "id": "a1f501f41a974866b3bda69f922f4680",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "type": "String",
              "value": "[{\"role\": \"user\", \"content\": \"Tell me about React JS\"}]",
              "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
              "name": "Request",
              "required": true,
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "1dc4bbfc8f5d4a2fbb244a5e87254429"
          ]
        },
        "5115d1d54b7a4c0c8e2f5717958b3157": {
          "id": "5115d1d54b7a4c0c8e2f5717958b3157",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "Output",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Output}}",
                        "displayValue": "Script Variables➛Output"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": false
            }
          ]
        },
        "27d00bf90d7249c9abffba1e26630355": {
          "id": "27d00bf90d7249c9abffba1e26630355",
          "name": "Continue Conversation",
          "script": "(function execute() {\n\nvar request = vaInputs.request.toString();\nvar array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', array);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n var output = parsedBody.choices[0].message.content;\n vaVars.Output.u_your_answer = output.trim();\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = JSON.stringify(message);\n}\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "49019a82541540bc840400911ef7a030",
          "edgeType": "Edge",
          "source": "27d00bf90d7249c9abffba1e26630355",
          "target": "5115d1d54b7a4c0c8e2f5717958b3157",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7478d668356e446ab58435013b64513e",
          "edgeType": "Edge",
          "source": "a1f501f41a974866b3bda69f922f4680",
          "target": "27d00bf90d7249c9abffba1e26630355",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "07ca374af3e94217bfa05558977275c1": {
      "id": "07ca374af3e94217bfa05558977275c1",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Output",
      "label": "Output",
      "varType": "script",
      "category": "vaVars"
    },
    "1dc4bbfc8f5d4a2fbb244a5e87254429": {
      "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
      "name": "request",
      "label": "Request",
      "defaultValue": "[{\"role\": \"user\", \"content\": \"Tell me about React JS\"}]",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "a1f501f41a974866b3bda69f922f4680",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__52aeede215f40610439286a42028db93</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:43:04</sys_created_on><sys_domain>global</sys_domain><sys_id>a2aeede247f40610c2e1a3e7826d4397</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_a2aeede247f40610c2e1a3e7826d4397</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:43:04</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1916085203</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b47c712647380610c2e1a3e7826d4328</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e289a4e0c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>22ae6966fff40610401a2496cead82c8</update_guid>
<update_guid_history>22ae6966fff40610401a2496cead82c8:1916085203</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_dd0619ea47740610c2e1a3e7826d4362</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__9d0619eade740610496479d1707c4e5e">510619ea47740610c2e1a3e7826d4360</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"ab9a88f1039b4302870c7e7b955ee43c","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"ab9a88f1039b4302870c7e7b955ee43c"}],"goals":[{"name":"primary","trigger_id":"ab9a88f1039b4302870c7e7b955ee43c","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"a1f501f41a974866b3bda69f922f4680","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"5115d1d54b7a4c0c8e2f5717958b3157","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\nvar request = vaInputs.request;\nvar array = request.split(',');\nvar payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n//  try { \n//  var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n//  r.setStringParameterNoEscape('payload', payload);\n\n//  var response = r.execute();\n//  var responseBody = response.getBody();\n//  var httpStatus = response.getStatusCode();\n// vaVars.Output = responseBody.toString();\n\n// }\n// catch(ex) {\n//  var message = ex.message;\n// }\n\n\n})()\n","id":"27d00bf90d7249c9abffba1e26630355","name":"Continue Conversation","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"27d00bf90d7249c9abffba1e26630355","target_node_id":"5115d1d54b7a4c0c8e2f5717958b3157","id":"49019a82541540bc840400911ef7a030"},{"type":"Edge","source_node_id":"a1f501f41a974866b3bda69f922f4680","target_node_id":"27d00bf90d7249c9abffba1e26630355","id":"7478d668356e446ab58435013b64513e"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Output","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"07ca374af3e94217bfa05558977275c1","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"request","list":false,"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","library-usage":{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Output}}"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__9d0619eade740610496479d1707c4e5e","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"csTopicId":"eae0a4a647b00610c2e1a3e7826d43af","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>d6bfd8e247b00610c2e1a3e7826d4367</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "a1f501f41a974866b3bda69f922f4680": {
          "id": "a1f501f41a974866b3bda69f922f4680",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "type": "String",
              "value": "",
              "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
              "name": "Request",
              "required": true,
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "1dc4bbfc8f5d4a2fbb244a5e87254429"
          ]
        },
        "5115d1d54b7a4c0c8e2f5717958b3157": {
          "id": "5115d1d54b7a4c0c8e2f5717958b3157",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "Output",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Output}}",
                        "displayValue": "Script Variables➛Output"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": false
            }
          ]
        },
        "27d00bf90d7249c9abffba1e26630355": {
          "id": "27d00bf90d7249c9abffba1e26630355",
          "name": "Continue Conversation",
          "script": "(function execute() {\n\nvar request = vaInputs.request;\nvar array = request.split(',');\nvar payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n//  try { \n//  var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n//  r.setStringParameterNoEscape('payload', payload);\n\n//  var response = r.execute();\n//  var responseBody = response.getBody();\n//  var httpStatus = response.getStatusCode();\n// vaVars.Output = responseBody.toString();\n\n// }\n// catch(ex) {\n//  var message = ex.message;\n// }\n\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "49019a82541540bc840400911ef7a030",
          "edgeType": "Edge",
          "source": "27d00bf90d7249c9abffba1e26630355",
          "target": "5115d1d54b7a4c0c8e2f5717958b3157",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7478d668356e446ab58435013b64513e",
          "edgeType": "Edge",
          "source": "a1f501f41a974866b3bda69f922f4680",
          "target": "27d00bf90d7249c9abffba1e26630355",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "07ca374af3e94217bfa05558977275c1": {
      "id": "07ca374af3e94217bfa05558977275c1",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Output",
      "label": "Output",
      "varType": "script",
      "category": "vaVars"
    },
    "1dc4bbfc8f5d4a2fbb244a5e87254429": {
      "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
      "name": "request",
      "label": "Request",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "a1f501f41a974866b3bda69f922f4680",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__9d0619eade740610496479d1707c4e5e</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:55:24</sys_created_on><sys_domain>global</sys_domain><sys_id>dd0619ea47740610c2e1a3e7826d4362</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_dd0619ea47740610c2e1a3e7826d4362</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:55:24</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1404170076</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b47c712647380610c2e1a3e7826d432b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2837bb640000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>110619ea5d74061079dfa0d88f0fec64</update_guid>
<update_guid_history>110619ea5d74061079dfa0d88f0fec64:1404170076</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_1bde696647f40610c2e1a3e7826d43cb</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT - Topic Block">d6bfd8e247b00610c2e1a3e7826d4367</cb_topic_id><channels/><definition>{"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__57de6966e0f406104c9f3d1348c589ca","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__57de6966e0f406104c9f3d1348c589ca","applicability":"true","categories":[],"key_phrases":[],"variables":[{"name":"Output","type":"java.lang.Object"},{"name":"_reusable_topic_outputs_var","type":"java.lang.Object","init_value":"(function execute() {return JSON.stringify({\"populated\":false,\"values\":{\"output\":\"\"}})})()"},{"name":"__segment_trigger_b6c57aaf218b4b6ba497fd4a4738341c_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"request","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_17de69661af406106c6a0d5ec25433cb","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Branch_RootDecisionBranch_d3de696680f406104b3e48ca4329f1cb","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_93de6966e3f4061036d6a6e7353a3acb","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_b6c57aaf218b4b6ba497fd4a4738341c_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_17de69661af406106c6a0d5ec25433cb\");vaInputs.initialize(\"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355\");vaInputs.initialize(\"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_d3de696680f406104b3e48ca4329f1cb\");vaInputs.initialize(\"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157\");vaInputs.initialize(\"__silent_Decision_RootDecision_93de6966e3f4061036d6a6e7353a3acb\");vaInputs.initialize(\"request\");vaInputs.request=JSON.parse('\"'[{\\\"role\\\":\\\"user\\\",\\\"content\\\":\\\"Tell me about React JS\\\"}]' \"');null;","fields":[{"name":"__silent_Decision_RootDecision_93de6966e3f4061036d6a6e7353a3acb","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_93de6966e3f4061036d6a6e7353a3acb\";vaInputs.__silent_Decision_RootDecision_93de6966e3f4061036d6a6e7353a3acb=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_93de6966e3f4061036d6a6e7353a3acb\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_17de69661af406106c6a0d5ec25433cb=true;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_93de6966e3f4061036d6a6e7353a3acb","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_d3de696680f406104b3e48ca4329f1cb","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_d3de696680f406104b3e48ca4329f1cb","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_93de6966e3f4061036d6a6e7353a3acb\" &amp;&amp; ((vaInputs.RootDecisionBranch_17de69661af406106c6a0d5ec25433cb.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_d3de696680f406104b3e48ca4329f1cb___RootDecisionBranch_d3de696680f406104b3e48ca4329f1cb\";vaInputs.__silent_Branch_RootDecisionBranch_d3de696680f406104b3e48ca4329f1cb=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_d3de696680f406104b3e48ca4329f1cb___RootDecisionBranch_d3de696680f406104b3e48ca4329f1cb\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_d3de696680f406104b3e48ca4329f1cb","node_name":"RootDecisionBranch_d3de696680f406104b3e48ca4329f1cb","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_d3de696680f406104b3e48ca4329f1cb___RootDecisionBranch_d3de696680f406104b3e48ca4329f1cb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";vaInputs.__silent_StartGoal_a1f501f41a974866b3bda69f922f4680=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"a1f501f41a974866b3bda69f922f4680","node_name":"Start","predecessor_nodes":["RootDecisionBranch_d3de696680f406104b3e48ca4329f1cb"],"next_node":"Continue Conversation","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","applicable":"vaVars.previous_graph_node==\"Start___a1f501f41a974866b3bda69f922f4680\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";(function execute() {(function execute() {\n\nvar request = vaInputs.request.toString();\nvar array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', array);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n var output = parsedBody.choices[0].message.content;\n vaVars.Output.u_your_answer = output.trim();\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = JSON.stringify(message);\n}\n\n})()\n;})();vaInputs.__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"27d00bf90d7249c9abffba1e26630355","node_name":"Continue Conversation","predecessor_nodes":["Start"],"next_node":"End","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","applicable":"vaVars.previous_graph_node==\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";vaInputs.__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_b6c57aaf218b4b6ba497fd4a4738341c_done=true;(function execute() {var tmp={values:{}};tmp.values.output=vaVars.Output;tmp.populated=true;vaVars._reusable_topic_outputs_var=JSON.stringify(tmp);})();ackMsg;","metadata":{"type":"graph_node","node_id":"5115d1d54b7a4c0c8e2f5717958b3157","node_name":"End","predecessor_nodes":["Continue Conversation"],"node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[],"confirmation_msg":"gs.getMessageLang('[PREVIEW ONLY] The topic return values are: {0}', vaContext.getRequesterLang(), JSON.stringify(JSON.parse(vaVars._reusable_topic_outputs_var).values));"}],"roles":[],"active":true,"published":false,"library":true,"expose_on_palette":false,"palette_label":"ChatGPT - Topic Block","flexible_conversation_switching":true,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"TOPIC_BLOCK","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT - Topic Block","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases/><last_published_on>2024-03-10 13:43:57</last_published_on><library>true</library><library_usage>{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"'[{\\\"role\\\":\\\"user\\\",\\\"content\\\":\\\"Tell me about React JS\\\"}]' \"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","mode":"string","value":"{{vaVars.Output}}"}}]}</library_usage><metaphone/><name>_PRVW__57de6966e0f406104c9f3d1348c589ca</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label>ChatGPT - Topic Block</palette_label><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:43:57</sys_created_on><sys_domain>global</sys_domain><sys_id>1bde696647f40610c2e1a3e7826d43cb</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__57de6966e0f406104c9f3d1348c589ca</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_1bde696647f40610c2e1a3e7826d43cb</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:43:57</sys_updated_on><title>ChatGPT - Topic Block</title><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=1bde696647f40610c2e1a3e7826d43cb"/></record_update>]]></payload>
<payload_hash>378359938</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b47c712647380610c2e1a3e7826d432e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e289b1b8c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__57de6966e0f406104c9f3d1348c589ca</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>dfde696696f406103cf4b5e79c4e1ccc</update_guid>
<update_guid_history>dfde696696f406103cf4b5e79c4e1ccc:378359938</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_5500dda647740610c2e1a3e7826d4362</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__9100dda63874061078c139a66dbab061","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__9100dda63874061078c139a66dbab061","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_ac32e06c84244d96a94d8678b46277d6_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_9100dda63074061085656edf49b86662","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_9900c221c5994e9b80f8dbdecdb29fee","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_5100dda677740610d3c82d1e95c1b862","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_3a999fde56934e12abb323dfc11b14a5","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_1100dda63f7406103b05e4641518c062","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_ac32e06c84244d96a94d8678b46277d6_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_9100dda63074061085656edf49b86662\");vaInputs.initialize(\"__silent_Decision_RootDecision_1100dda63f7406103b05e4641518c062\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Branch_3a999fde56934e12abb323dfc11b14a5\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_5100dda677740610d3c82d1e95c1b862\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"__silent_Branch_9900c221c5994e9b80f8dbdecdb29fee\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_1100dda63f7406103b05e4641518c062","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_1100dda63f7406103b05e4641518c062\";vaInputs.__silent_Decision_RootDecision_1100dda63f7406103b05e4641518c062=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_1100dda63f7406103b05e4641518c062\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_9100dda63074061085656edf49b86662=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_5100dda677740610d3c82d1e95c1b862.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_1100dda63f7406103b05e4641518c062","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_5100dda677740610d3c82d1e95c1b862","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_5100dda677740610d3c82d1e95c1b862","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_1100dda63f7406103b05e4641518c062\" &amp;&amp; ((vaInputs.RootDecisionBranch_9100dda63074061085656edf49b86662.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_5100dda677740610d3c82d1e95c1b862___RootDecisionBranch_5100dda677740610d3c82d1e95c1b862\";vaInputs.__silent_Branch_RootDecisionBranch_5100dda677740610d3c82d1e95c1b862=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_5100dda677740610d3c82d1e95c1b862___RootDecisionBranch_5100dda677740610d3c82d1e95c1b862\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_5100dda677740610d3c82d1e95c1b862","node_name":"RootDecisionBranch_5100dda677740610d3c82d1e95c1b862","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_5100dda677740610d3c82d1e95c1b862___RootDecisionBranch_5100dda677740610d3c82d1e95c1b862\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_5100dda677740610d3c82d1e95c1b862"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_9900c221c5994e9b80f8dbdecdb29fee.reset();})();(function() {vaInputs.__silent_Branch_3a999fde56934e12abb323dfc11b14a5.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_9900c221c5994e9b80f8dbdecdb29fee.reset();})();(function() {vaInputs.__silent_Branch_3a999fde56934e12abb323dfc11b14a5.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_3a999fde56934e12abb323dfc11b14a5","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___3a999fde56934e12abb323dfc11b14a5\";vaInputs.__silent_Branch_3a999fde56934e12abb323dfc11b14a5=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___3a999fde56934e12abb323dfc11b14a5\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"3a999fde56934e12abb323dfc11b14a5","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_9900c221c5994e9b80f8dbdecdb29fee","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___9900c221c5994e9b80f8dbdecdb29fee\";vaInputs.__silent_Branch_9900c221c5994e9b80f8dbdecdb29fee=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___9900c221c5994e9b80f8dbdecdb29fee\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"9900c221c5994e9b80f8dbdecdb29fee","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___9900c221c5994e9b80f8dbdecdb29fee\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___3a999fde56934e12abb323dfc11b14a5\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_ac32e06c84244d96a94d8678b46277d6_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 11:29:11</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__9100dda63874061078c139a66dbab061</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:29:11</sys_created_on><sys_domain>global</sys_domain><sys_id>5500dda647740610c2e1a3e7826d4362</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__9100dda63874061078c139a66dbab061</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_5500dda647740610c2e1a3e7826d4362</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:29:11</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=5500dda647740610c2e1a3e7826d4362"/></record_update>]]></payload>
<payload_hash>-1913445268</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b47c712647380610c2e1a3e7826d4331</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e281fbb060000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__9100dda63874061078c139a66dbab061</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>1d00dda626740610a81da4341ebc7e63</update_guid>
<update_guid_history>1d00dda626740610a81da4341ebc7e63:-1913445268</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_8267cd6e47340610c2e1a3e7826d43fc</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__ce67cd6e0134061052c41bc2287519fa","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__ce67cd6e0134061052c41bc2287519fa","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_6f25308aca1443db83fc2de413f3983e_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_ce67cd6e8d34061018ee11bb9394dafb","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_cf05c62fa9504b49b46930b38ef4bf2f","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_9b2cc6333e6142ecb34fb7d9f9dca182","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_4e67cd6e0e3406103f4ad7a2bc1319fb","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_8e67cd6e433406107d6b38d3cca5e1fb","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_6f25308aca1443db83fc2de413f3983e_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_ce67cd6e8d34061018ee11bb9394dafb\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_9b2cc6333e6142ecb34fb7d9f9dca182\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_8e67cd6e433406107d6b38d3cca5e1fb\");vaInputs.initialize(\"__silent_Branch_cf05c62fa9504b49b46930b38ef4bf2f\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Decision_RootDecision_4e67cd6e0e3406103f4ad7a2bc1319fb\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");null;","fields":[{"name":"__silent_Decision_RootDecision_4e67cd6e0e3406103f4ad7a2bc1319fb","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_4e67cd6e0e3406103f4ad7a2bc1319fb\";vaInputs.__silent_Decision_RootDecision_4e67cd6e0e3406103f4ad7a2bc1319fb=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_4e67cd6e0e3406103f4ad7a2bc1319fb\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_ce67cd6e8d34061018ee11bb9394dafb=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_8e67cd6e433406107d6b38d3cca5e1fb.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_4e67cd6e0e3406103f4ad7a2bc1319fb","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_8e67cd6e433406107d6b38d3cca5e1fb","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_8e67cd6e433406107d6b38d3cca5e1fb","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_4e67cd6e0e3406103f4ad7a2bc1319fb\" &amp;&amp; ((vaInputs.RootDecisionBranch_ce67cd6e8d34061018ee11bb9394dafb.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_8e67cd6e433406107d6b38d3cca5e1fb___RootDecisionBranch_8e67cd6e433406107d6b38d3cca5e1fb\";vaInputs.__silent_Branch_RootDecisionBranch_8e67cd6e433406107d6b38d3cca5e1fb=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_8e67cd6e433406107d6b38d3cca5e1fb___RootDecisionBranch_8e67cd6e433406107d6b38d3cca5e1fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_8e67cd6e433406107d6b38d3cca5e1fb","node_name":"RootDecisionBranch_8e67cd6e433406107d6b38d3cca5e1fb","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_8e67cd6e433406107d6b38d3cca5e1fb___RootDecisionBranch_8e67cd6e433406107d6b38d3cca5e1fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_8e67cd6e433406107d6b38d3cca5e1fb"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    vaVars.Request  = JSON.stringify(user_output);\n    // vaVars.Continue_Conversation  = JSON.stringify(user_output);\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.choice.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Choice","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_9b2cc6333e6142ecb34fb7d9f9dca182.reset();})();(function() {vaInputs.__silent_Branch_cf05c62fa9504b49b46930b38ef4bf2f.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Print Response"],"next_node":"Decision","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_9b2cc6333e6142ecb34fb7d9f9dca182.reset();})();(function() {vaInputs.__silent_Branch_cf05c62fa9504b49b46930b38ef4bf2f.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_cf05c62fa9504b49b46930b38ef4bf2f","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___cf05c62fa9504b49b46930b38ef4bf2f\";vaInputs.__silent_Branch_cf05c62fa9504b49b46930b38ef4bf2f=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___cf05c62fa9504b49b46930b38ef4bf2f\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"cf05c62fa9504b49b46930b38ef4bf2f","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_9b2cc6333e6142ecb34fb7d9f9dca182","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___9b2cc6333e6142ecb34fb7d9f9dca182\";vaInputs.__silent_Branch_9b2cc6333e6142ecb34fb7d9f9dca182=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___9b2cc6333e6142ecb34fb7d9f9dca182\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"9b2cc6333e6142ecb34fb7d9f9dca182","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___9b2cc6333e6142ecb34fb7d9f9dca182\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___cf05c62fa9504b49b46930b38ef4bf2f\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_6f25308aca1443db83fc2de413f3983e_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 10:51:34</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__ce67cd6e0134061052c41bc2287519fa</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:51:34</sys_created_on><sys_domain>global</sys_domain><sys_id>8267cd6e47340610c2e1a3e7826d43fc</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__ce67cd6e0134061052c41bc2287519fa</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_8267cd6e47340610c2e1a3e7826d43fc</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:51:34</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=8267cd6e47340610c2e1a3e7826d43fc"/></record_update>]]></payload>
<payload_hash>-765241135</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b47c712647380610c2e1a3e7826d4334</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27fd48a10000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__ce67cd6e0134061052c41bc2287519fa</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>4a67cd6eb534061089c469bba76b78fd</update_guid>
<update_guid_history>4a67cd6eb534061089c469bba76b78fd:-765241135</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_da1cbc6247340610c2e1a3e7826d4383</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__1a1cbc6231340610067d49c0b132ac82","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__1a1cbc6231340610067d49c0b132ac82","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation_JSON","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_52d454982bfa40f8a9c47ada70a8e6b5_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_1a1cbc62f9340610fbe8f2a7c4a56d83","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_d61cbc62513406103ec68561ed31f483","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_0e23dd455cb04705a942b643beb11097","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_961cbc621f340610232db7d8d772fb83","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_7a163c28e83948ebb3cb431f7c585fd8","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_52d454982bfa40f8a9c47ada70a8e6b5_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_1a1cbc62f9340610fbe8f2a7c4a56d83\");vaInputs.initialize(\"__silent_Branch_7a163c28e83948ebb3cb431f7c585fd8\");vaInputs.initialize(\"__silent_Decision_RootDecision_961cbc621f340610232db7d8d772fb83\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_d61cbc62513406103ec68561ed31f483\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Branch_0e23dd455cb04705a942b643beb11097\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");null;","fields":[{"name":"__silent_Decision_RootDecision_961cbc621f340610232db7d8d772fb83","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_961cbc621f340610232db7d8d772fb83\";vaInputs.__silent_Decision_RootDecision_961cbc621f340610232db7d8d772fb83=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_961cbc621f340610232db7d8d772fb83\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_1a1cbc62f9340610fbe8f2a7c4a56d83=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_d61cbc62513406103ec68561ed31f483.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_961cbc621f340610232db7d8d772fb83","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_d61cbc62513406103ec68561ed31f483","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_d61cbc62513406103ec68561ed31f483","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_961cbc621f340610232db7d8d772fb83\" &amp;&amp; ((vaInputs.RootDecisionBranch_1a1cbc62f9340610fbe8f2a7c4a56d83.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_d61cbc62513406103ec68561ed31f483___RootDecisionBranch_d61cbc62513406103ec68561ed31f483\";vaInputs.__silent_Branch_RootDecisionBranch_d61cbc62513406103ec68561ed31f483=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_d61cbc62513406103ec68561ed31f483___RootDecisionBranch_d61cbc62513406103ec68561ed31f483\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_d61cbc62513406103ec68561ed31f483","node_name":"RootDecisionBranch_d61cbc62513406103ec68561ed31f483","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_d61cbc62513406103ec68561ed31f483___RootDecisionBranch_d61cbc62513406103ec68561ed31f483\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_d61cbc62513406103ec68561ed31f483"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\nvar input = vaInputs.enter_your_query.toString();\n\nvar output = {\n    \"role\" :\"user\",\n    \"content\":input\n};\n\n// vaVars.Request  = JSON.stringify(output);\nvaVars.Request  = vaInputs.output_from_chatgpt?'true':'false';\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.choice.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Choice","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_7a163c28e83948ebb3cb431f7c585fd8.reset();})();(function() {vaInputs.__silent_Branch_0e23dd455cb04705a942b643beb11097.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Print Response"],"next_node":"Decision","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_7a163c28e83948ebb3cb431f7c585fd8.reset();})();(function() {vaInputs.__silent_Branch_0e23dd455cb04705a942b643beb11097.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_7a163c28e83948ebb3cb431f7c585fd8","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___7a163c28e83948ebb3cb431f7c585fd8\";vaInputs.__silent_Branch_7a163c28e83948ebb3cb431f7c585fd8=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___7a163c28e83948ebb3cb431f7c585fd8\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"7a163c28e83948ebb3cb431f7c585fd8","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_0e23dd455cb04705a942b643beb11097","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___0e23dd455cb04705a942b643beb11097\";vaInputs.__silent_Branch_0e23dd455cb04705a942b643beb11097=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___0e23dd455cb04705a942b643beb11097\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0e23dd455cb04705a942b643beb11097","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___0e23dd455cb04705a942b643beb11097\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___7a163c28e83948ebb3cb431f7c585fd8\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_52d454982bfa40f8a9c47ada70a8e6b5_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 10:02:09</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__1a1cbc6231340610067d49c0b132ac82</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:02:09</sys_created_on><sys_domain>global</sys_domain><sys_id>da1cbc6247340610c2e1a3e7826d4383</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__1a1cbc6231340610067d49c0b132ac82</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_da1cbc6247340610c2e1a3e7826d4383</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:02:09</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=da1cbc6247340610c2e1a3e7826d4383"/></record_update>]]></payload>
<payload_hash>1040503544</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b47c712647380610c2e1a3e7826d4337</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27d00ac50000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__1a1cbc6231340610067d49c0b132ac82</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>921cbc6266340610bf5c70e1cda63785</update_guid>
<update_guid_history>921cbc6266340610bf5c70e1cda63785:1040503544</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_0fda706247340610c2e1a3e7826d4390</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__76da7062d83406105d2d0296e24d9a8a">3ada706247340610c2e1a3e7826d438b</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:56:44</sys_created_on><sys_domain>global</sys_domain><sys_id>0fda706247340610c2e1a3e7826d4390</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_0fda706247340610c2e1a3e7826d4390</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:56:44</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>856550876</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b47c712647380610c2e1a3e7826d433a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27cb15f90000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>4fdabc62b9340610fad73c5c7bc1f401</update_guid>
<update_guid_history>4fdabc62b9340610fad73c5c7bc1f401:856550876</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_6c6fc96647740610c2e1a3e7826d43c7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__a46fc966d374061039ee988b6c9abdc1">686fc96647740610c2e1a3e7826d43c2</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:26:25</sys_created_on><sys_domain>global</sys_domain><sys_id>6c6fc96647740610c2e1a3e7826d43c7</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_6c6fc96647740610c2e1a3e7826d43c7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:26:25</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>534341934</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b47c712647380610c2e1a3e7826d433d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e281d30f70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>ac6fc96639740610892582207e5ed1c8</update_guid>
<update_guid_history>ac6fc96639740610892582207e5ed1c8:534341934</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_b8e85dee47740610c2e1a3e7826d43a0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__f0e85dee0f740610c30940e1b087239a">b4e85dee47740610c2e1a3e7826d439b</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:07:56</sys_created_on><sys_domain>global</sys_domain><sys_id>b8e85dee47740610c2e1a3e7826d43a0</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_b8e85dee47740610c2e1a3e7826d43a0</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:07:56</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>11602859</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b47c712647380610c2e1a3e7826d4340</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e284332d40000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>34e8152232b40610d93c144da8843f94</update_guid>
<update_guid_history>34e8152232b40610d93c144da8843f94:11602859</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_nlu_utterance_034730ae47f00610c2e1a3e7826d4369</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_nlu_utterance"><sys_nlu_utterance action="INSERT_OR_UPDATE"><intent display_value="Connect GPT">3f37fc6e47f00610c2e1a3e7826d43f7</intent><original_utterance/><primary_utterance/><source>manual</source><sys_class_name>sys_nlu_utterance</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:41:11</sys_created_on><sys_id>034730ae47f00610c2e1a3e7826d4369</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Answer</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_nlu_utterance_034730ae47f00610c2e1a3e7826d4369</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:41:11</sys_updated_on><utterance>Answer</utterance></sys_nlu_utterance></record_update>]]></payload>
<payload_hash>2132437348</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b47c712647380610c2e1a3e7826d4343</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bcd7320000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>Answer</target_name>
<type>NLU Utterance</type>
<update_domain>global</update_domain>
<update_guid>0f4730aee4f006106d01fc835c91e26a</update_guid>
<update_guid_history>0f4730aee4f006106d01fc835c91e26a:2132437348</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_ui_message_e136702e47f00610c2e1a3e7826d434d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_message"><sys_ui_message action="INSERT_OR_UPDATE"><application>Virtual Agent</application><code/><commented_message/><key>continue conversation</key><language>en</language><message>Continue Conversation</message><sys_class_name>sys_ui_message</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:36:26</sys_created_on><sys_id>e136702e47f00610c2e1a3e7826d434d</sys_id><sys_mod_count>0</sys_mod_count><sys_name>continue conversation</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_ui_message_e136702e47f00610c2e1a3e7826d434d</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:36:26</sys_updated_on></sys_ui_message></record_update>]]></payload>
<payload_hash>-786088840</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b47c712647380610c2e1a3e7826d4346</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27b87e760000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>continue conversation</target_name>
<type>Message</type>
<update_domain>global</update_domain>
<update_guid>2536702e85f00610257ed12c16686f4e</update_guid>
<update_guid_history>2536702e85f00610257ed12c16686f4e:-786088840</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_97de696647f40610c2e1a3e7826d43ce</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__57de6966e0f406104c9f3d1348c589ca">1bde696647f40610c2e1a3e7826d43cb</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"b6c57aaf218b4b6ba497fd4a4738341c","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"b6c57aaf218b4b6ba497fd4a4738341c"}],"goals":[{"name":"primary","trigger_id":"b6c57aaf218b4b6ba497fd4a4738341c","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"a1f501f41a974866b3bda69f922f4680","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"5115d1d54b7a4c0c8e2f5717958b3157","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\nvar request = vaInputs.request.toString();\nvar array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', array);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n var output = parsedBody.choices[0].message.content;\n vaVars.Output.u_your_answer = output.trim();\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = JSON.stringify(message);\n}\n\n})()\n","id":"27d00bf90d7249c9abffba1e26630355","name":"Continue Conversation","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"27d00bf90d7249c9abffba1e26630355","target_node_id":"5115d1d54b7a4c0c8e2f5717958b3157","id":"49019a82541540bc840400911ef7a030"},{"type":"Edge","source_node_id":"a1f501f41a974866b3bda69f922f4680","target_node_id":"27d00bf90d7249c9abffba1e26630355","id":"7478d668356e446ab58435013b64513e"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Output","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"07ca374af3e94217bfa05558977275c1","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"request","list":false,"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","library-usage":{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"'[{\\\"role\\\":\\\"user\\\",\\\"content\\\":\\\"Tell me about React JS\\\"}]' \"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Output}}"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__57de6966e0f406104c9f3d1348c589ca","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"csTopicId":"eae0a4a647b00610c2e1a3e7826d43af","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>d6bfd8e247b00610c2e1a3e7826d4367</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "a1f501f41a974866b3bda69f922f4680": {
          "id": "a1f501f41a974866b3bda69f922f4680",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "type": "String",
              "value": "'[{\"role\":\"user\",\"content\":\"Tell me about React JS\"}]' ",
              "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
              "name": "Request",
              "required": true,
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "1dc4bbfc8f5d4a2fbb244a5e87254429"
          ]
        },
        "5115d1d54b7a4c0c8e2f5717958b3157": {
          "id": "5115d1d54b7a4c0c8e2f5717958b3157",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "Output",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Output}}",
                        "displayValue": "Script Variables➛Output"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": false
            }
          ]
        },
        "27d00bf90d7249c9abffba1e26630355": {
          "id": "27d00bf90d7249c9abffba1e26630355",
          "name": "Continue Conversation",
          "script": "(function execute() {\n\nvar request = vaInputs.request.toString();\nvar array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', array);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n var output = parsedBody.choices[0].message.content;\n vaVars.Output.u_your_answer = output.trim();\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = JSON.stringify(message);\n}\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "49019a82541540bc840400911ef7a030",
          "edgeType": "Edge",
          "source": "27d00bf90d7249c9abffba1e26630355",
          "target": "5115d1d54b7a4c0c8e2f5717958b3157",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7478d668356e446ab58435013b64513e",
          "edgeType": "Edge",
          "source": "a1f501f41a974866b3bda69f922f4680",
          "target": "27d00bf90d7249c9abffba1e26630355",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "07ca374af3e94217bfa05558977275c1": {
      "id": "07ca374af3e94217bfa05558977275c1",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Output",
      "label": "Output",
      "varType": "script",
      "category": "vaVars"
    },
    "1dc4bbfc8f5d4a2fbb244a5e87254429": {
      "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
      "name": "request",
      "label": "Request",
      "defaultValue": "'[{\"role\":\"user\",\"content\":\"Tell me about React JS\"}]' ",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "a1f501f41a974866b3bda69f922f4680",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__57de6966e0f406104c9f3d1348c589ca</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:43:57</sys_created_on><sys_domain>global</sys_domain><sys_id>97de696647f40610c2e1a3e7826d43ce</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_97de696647f40610c2e1a3e7826d43ce</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:43:57</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-1711386299</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b87c712647380610c2e1a3e7826d4327</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e289b1bb50000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>d7de696621f4061094e8ecd2ec55a3cf</update_guid>
<update_guid_history>d7de696621f4061094e8ecd2ec55a3cf:-1711386299</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_d100dda647740610c2e1a3e7826d4365</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__9100dda63874061078c139a66dbab061">5500dda647740610c2e1a3e7826d4362</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"ac32e06c84244d96a94d8678b46277d6","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"ac32e06c84244d96a94d8678b46277d6"}],"goals":[{"name":"primary","trigger_id":"ac32e06c84244d96a94d8678b46277d6","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"3a999fde56934e12abb323dfc11b14a5","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"9900c221c5994e9b80f8dbdecdb29fee","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"3a999fde56934e12abb323dfc11b14a5","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"3a999fde56934e12abb323dfc11b14a5"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"9900c221c5994e9b80f8dbdecdb29fee","id":"7e27041fde704dafa3c57c0df71d7044","name":"9900c221c5994e9b80f8dbdecdb29fee"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__9100dda63874061078c139a66dbab061","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__9100dda63874061078c139a66dbab061</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:29:11</sys_created_on><sys_domain>global</sys_domain><sys_id>d100dda647740610c2e1a3e7826d4365</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_d100dda647740610c2e1a3e7826d4365</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:29:11</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1942868227</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b87c712647380610c2e1a3e7826d432a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e281fbb450000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>1500dda6b77406104d5725052c3bb666</update_guid>
<update_guid_history>1500dda6b77406104d5725052c3bb666:1942868227</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_0a8b78a247340610c2e1a3e7826d4354</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__0e8b78ee89f006105e0314f557b1ccf4","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__0e8b78ee89f006105e0314f557b1ccf4","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation_JSON","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_04099fd67283471697de2386e07613d7_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_468b78a23d340610e5ea074d264a6654","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_d8d3a6e08953440c8fc331233ac51fca","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_068b78a29534061026de455c93bb3854","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_c28b78a283340610ffaaad377328fc54","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_1022e7cdbdc9410f8577b590717a7de0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_04099fd67283471697de2386e07613d7_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_468b78a23d340610e5ea074d264a6654\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_d8d3a6e08953440c8fc331233ac51fca\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Decision_RootDecision_c28b78a283340610ffaaad377328fc54\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_068b78a29534061026de455c93bb3854\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Branch_1022e7cdbdc9410f8577b590717a7de0\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");null;","fields":[{"name":"__silent_Decision_RootDecision_c28b78a283340610ffaaad377328fc54","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_c28b78a283340610ffaaad377328fc54\";vaInputs.__silent_Decision_RootDecision_c28b78a283340610ffaaad377328fc54=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_c28b78a283340610ffaaad377328fc54\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_468b78a23d340610e5ea074d264a6654=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_068b78a29534061026de455c93bb3854.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_c28b78a283340610ffaaad377328fc54","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_068b78a29534061026de455c93bb3854","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_068b78a29534061026de455c93bb3854","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_c28b78a283340610ffaaad377328fc54\" &amp;&amp; ((vaInputs.RootDecisionBranch_468b78a23d340610e5ea074d264a6654.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_068b78a29534061026de455c93bb3854___RootDecisionBranch_068b78a29534061026de455c93bb3854\";vaInputs.__silent_Branch_RootDecisionBranch_068b78a29534061026de455c93bb3854=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_068b78a29534061026de455c93bb3854___RootDecisionBranch_068b78a29534061026de455c93bb3854\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_068b78a29534061026de455c93bb3854","node_name":"RootDecisionBranch_068b78a29534061026de455c93bb3854","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_068b78a29534061026de455c93bb3854___RootDecisionBranch_068b78a29534061026de455c93bb3854\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_068b78a29534061026de455c93bb3854"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\nvar input = vaInputs.enter_your_query;\n\nvar output = {\n    \"role\" :\"user\",\n    \"content\":input\n};\n\nvaVars.Request  = JSON.stringify(output);\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.choice.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Choice","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_1022e7cdbdc9410f8577b590717a7de0.reset();})();(function() {vaInputs.__silent_Branch_d8d3a6e08953440c8fc331233ac51fca.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Print Response"],"next_node":"Decision","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_1022e7cdbdc9410f8577b590717a7de0.reset();})();(function() {vaInputs.__silent_Branch_d8d3a6e08953440c8fc331233ac51fca.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_d8d3a6e08953440c8fc331233ac51fca","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___d8d3a6e08953440c8fc331233ac51fca\";vaInputs.__silent_Branch_d8d3a6e08953440c8fc331233ac51fca=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___d8d3a6e08953440c8fc331233ac51fca\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"d8d3a6e08953440c8fc331233ac51fca","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_1022e7cdbdc9410f8577b590717a7de0","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___1022e7cdbdc9410f8577b590717a7de0\";vaInputs.__silent_Branch_1022e7cdbdc9410f8577b590717a7de0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___1022e7cdbdc9410f8577b590717a7de0\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"1022e7cdbdc9410f8577b590717a7de0","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___1022e7cdbdc9410f8577b590717a7de0\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___d8d3a6e08953440c8fc331233ac51fca\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_04099fd67283471697de2386e07613d7_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 09:59:40</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__0e8b78ee89f006105e0314f557b1ccf4</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:59:40</sys_created_on><sys_domain>global</sys_domain><sys_id>0a8b78a247340610c2e1a3e7826d4354</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__0e8b78ee89f006105e0314f557b1ccf4</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_0a8b78a247340610c2e1a3e7826d4354</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:59:40</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=0a8b78a247340610c2e1a3e7826d4354"/></record_update>]]></payload>
<payload_hash>-975097635</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b87c712647380610c2e1a3e7826d432d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27cdc7990000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__0e8b78ee89f006105e0314f557b1ccf4</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>ce8b78a26f340610d77356290f445a55</update_guid>
<update_guid_history>ce8b78a26f340610d77356290f445a55:-975097635</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_438878ee47f00610c2e1a3e7826d436e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__4f8878ee91f00610a11c9740ee5fcd6c","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__4f8878ee91f00610a11c9740ee5fcd6c","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation_JSON","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_8aa12b1c815b493eb763c0f5dc41fe9f_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_8f8878ee04f006108d9a07ac1684ef6d","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_0f8878ee1af006104fbfb141985bc96d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_4f8878ee82f00610972b3e5210542a6d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_6c44413ff0614bd6bd822ccd6f04be45","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_b11df0ba44024fb2a58d7492ae97e06b","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_8aa12b1c815b493eb763c0f5dc41fe9f_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_8f8878ee04f006108d9a07ac1684ef6d\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_4f8878ee82f00610972b3e5210542a6d\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Decision_RootDecision_0f8878ee1af006104fbfb141985bc96d\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Branch_b11df0ba44024fb2a58d7492ae97e06b\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Branch_6c44413ff0614bd6bd822ccd6f04be45\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");null;","fields":[{"name":"__silent_Decision_RootDecision_0f8878ee1af006104fbfb141985bc96d","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_0f8878ee1af006104fbfb141985bc96d\";vaInputs.__silent_Decision_RootDecision_0f8878ee1af006104fbfb141985bc96d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_0f8878ee1af006104fbfb141985bc96d\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_8f8878ee04f006108d9a07ac1684ef6d=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_4f8878ee82f00610972b3e5210542a6d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_0f8878ee1af006104fbfb141985bc96d","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_4f8878ee82f00610972b3e5210542a6d","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_4f8878ee82f00610972b3e5210542a6d","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_0f8878ee1af006104fbfb141985bc96d\" &amp;&amp; ((vaInputs.RootDecisionBranch_8f8878ee04f006108d9a07ac1684ef6d.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_4f8878ee82f00610972b3e5210542a6d___RootDecisionBranch_4f8878ee82f00610972b3e5210542a6d\";vaInputs.__silent_Branch_RootDecisionBranch_4f8878ee82f00610972b3e5210542a6d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_4f8878ee82f00610972b3e5210542a6d___RootDecisionBranch_4f8878ee82f00610972b3e5210542a6d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_4f8878ee82f00610972b3e5210542a6d","node_name":"RootDecisionBranch_4f8878ee82f00610972b3e5210542a6d","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_4f8878ee82f00610972b3e5210542a6d___RootDecisionBranch_4f8878ee82f00610972b3e5210542a6d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_4f8878ee82f00610972b3e5210542a6d"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\";(function execute() {(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    if (orignal_obj.length &gt; 0) {\n        message.push(orignal_obj);   // push initial or old data if exists\n    }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    if (gpt_response) {\n        var new_assistant_obj = {\n            \"role\": \"assistant\",\n            \"content\": gpt_response\n        };\n        message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    }\n\n    vaVars.Request = message.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"778b69bb03ad4167a9a7a1246ade5a8d","node_name":"Parse Data Into 1 JSON","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data Into 1 JSON"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.choice.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Choice","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_b11df0ba44024fb2a58d7492ae97e06b.reset();})();(function() {vaInputs.__silent_Branch_6c44413ff0614bd6bd822ccd6f04be45.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Print Response"],"next_node":"Decision","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_b11df0ba44024fb2a58d7492ae97e06b.reset();})();(function() {vaInputs.__silent_Branch_6c44413ff0614bd6bd822ccd6f04be45.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_b11df0ba44024fb2a58d7492ae97e06b","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___b11df0ba44024fb2a58d7492ae97e06b\";vaInputs.__silent_Branch_b11df0ba44024fb2a58d7492ae97e06b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___b11df0ba44024fb2a58d7492ae97e06b\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"b11df0ba44024fb2a58d7492ae97e06b","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_6c44413ff0614bd6bd822ccd6f04be45","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___6c44413ff0614bd6bd822ccd6f04be45\";vaInputs.__silent_Branch_6c44413ff0614bd6bd822ccd6f04be45=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___6c44413ff0614bd6bd822ccd6f04be45\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c44413ff0614bd6bd822ccd6f04be45","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___6c44413ff0614bd6bd822ccd6f04be45\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data Into 1 JSON","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___b11df0ba44024fb2a58d7492ae97e06b\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_8aa12b1c815b493eb763c0f5dc41fe9f_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 09:46:38</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__4f8878ee91f00610a11c9740ee5fcd6c</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:46:38</sys_created_on><sys_domain>global</sys_domain><sys_id>438878ee47f00610c2e1a3e7826d436e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__4f8878ee91f00610a11c9740ee5fcd6c</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_438878ee47f00610c2e1a3e7826d436e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:46:38</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=438878ee47f00610c2e1a3e7826d436e"/></record_update>]]></payload>
<payload_hash>1727242449</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b87c712647380610c2e1a3e7826d4330</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27c1d91f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__4f8878ee91f00610a11c9740ee5fcd6c</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>5f8878ee46f00610c16eded20e2f8d6f</update_guid>
<update_guid_history>5f8878ee46f00610c16eded20e2f8d6f:1727242449</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_7b0ccda247740610c2e1a3e7826d43e1</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__b70ccda249740610a741daf228edfae0","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__b70ccda249740610a741daf228edfae0","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_e5ad1ed66b63402f9fd975493b6d3e48_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_b70ccda2e3740610d451fab2e801e4e1","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Branch_RootDecisionBranch_770ccda27d740610155cd455d5d04be1","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_15f720678f844a4791adb31f43aa7376","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_370ccda2ec7406104b615fa29e02dce1","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_26db5d13d59947d890523a6f8470d796","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_e5ad1ed66b63402f9fd975493b6d3e48_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_b70ccda2e3740610d451fab2e801e4e1\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Branch_15f720678f844a4791adb31f43aa7376\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_Decision_RootDecision_370ccda2ec7406104b615fa29e02dce1\");vaInputs.initialize(\"__silent_Branch_26db5d13d59947d890523a6f8470d796\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_770ccda27d740610155cd455d5d04be1\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");null;","fields":[{"name":"__silent_Decision_RootDecision_370ccda2ec7406104b615fa29e02dce1","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_370ccda2ec7406104b615fa29e02dce1\";vaInputs.__silent_Decision_RootDecision_370ccda2ec7406104b615fa29e02dce1=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_370ccda2ec7406104b615fa29e02dce1\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_b70ccda2e3740610d451fab2e801e4e1=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_770ccda27d740610155cd455d5d04be1.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_370ccda2ec7406104b615fa29e02dce1","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_770ccda27d740610155cd455d5d04be1","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_770ccda27d740610155cd455d5d04be1","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_370ccda2ec7406104b615fa29e02dce1\" &amp;&amp; ((vaInputs.RootDecisionBranch_b70ccda2e3740610d451fab2e801e4e1.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_770ccda27d740610155cd455d5d04be1___RootDecisionBranch_770ccda27d740610155cd455d5d04be1\";vaInputs.__silent_Branch_RootDecisionBranch_770ccda27d740610155cd455d5d04be1=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_770ccda27d740610155cd455d5d04be1___RootDecisionBranch_770ccda27d740610155cd455d5d04be1\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_770ccda27d740610155cd455d5d04be1","node_name":"RootDecisionBranch_770ccda27d740610155cd455d5d04be1","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_770ccda27d740610155cd455d5d04be1___RootDecisionBranch_770ccda27d740610155cd455d5d04be1\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_770ccda27d740610155cd455d5d04be1"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_15f720678f844a4791adb31f43aa7376.reset();})();(function() {vaInputs.__silent_Branch_26db5d13d59947d890523a6f8470d796.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_15f720678f844a4791adb31f43aa7376.reset();})();(function() {vaInputs.__silent_Branch_26db5d13d59947d890523a6f8470d796.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_15f720678f844a4791adb31f43aa7376","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___15f720678f844a4791adb31f43aa7376\";vaInputs.__silent_Branch_15f720678f844a4791adb31f43aa7376=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___15f720678f844a4791adb31f43aa7376\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"15f720678f844a4791adb31f43aa7376","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_26db5d13d59947d890523a6f8470d796","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___26db5d13d59947d890523a6f8470d796\";vaInputs.__silent_Branch_26db5d13d59947d890523a6f8470d796=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___26db5d13d59947d890523a6f8470d796\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"26db5d13d59947d890523a6f8470d796","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___26db5d13d59947d890523a6f8470d796\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___15f720678f844a4791adb31f43aa7376\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_e5ad1ed66b63402f9fd975493b6d3e48_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 11:11:53</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__b70ccda249740610a741daf228edfae0</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:11:53</sys_created_on><sys_domain>global</sys_domain><sys_id>7b0ccda247740610c2e1a3e7826d43e1</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__b70ccda249740610a741daf228edfae0</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_7b0ccda247740610c2e1a3e7826d43e1</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:11:53</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=7b0ccda247740610c2e1a3e7826d43e1"/></record_update>]]></payload>
<payload_hash>-422317623</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b87c712647380610c2e1a3e7826d4333</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e280fe31c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__b70ccda249740610a741daf228edfae0</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>330ccda228740610fd27a08238ece0e3</update_guid>
<update_guid_history>330ccda228740610fd27a08238ece0e3:-422317623</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_c48ea16647f40610c2e1a3e7826d4368</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT - Topic Block">d6bfd8e247b00610c2e1a3e7826d4367</cb_topic_id><channels/><definition>{"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__377ea1665cf40610c968de768bce4067","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__377ea1665cf40610c968de768bce4067","applicability":"true","categories":[],"key_phrases":[],"variables":[{"name":"Output","type":"java.lang.Object"},{"name":"_reusable_topic_outputs_var","type":"java.lang.Object","init_value":"(function execute() {return JSON.stringify({\"populated\":false,\"values\":{\"output\":\"\"}})})()"},{"name":"__segment_trigger_b682a848ddbe459eabb04e419dd24040_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"request","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_c08ea166c4f40610b7f20bc3084a4468","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_408ea16678f40610c8130872a95f0068","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_808ea166d0f406102f3db5c47f7a7168","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_b682a848ddbe459eabb04e419dd24040_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_c08ea166c4f40610b7f20bc3084a4468\");vaInputs.initialize(\"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355\");vaInputs.initialize(\"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680\");vaInputs.initialize(\"__silent_Decision_RootDecision_408ea16678f40610c8130872a95f0068\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_808ea166d0f406102f3db5c47f7a7168\");vaInputs.initialize(\"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157\");vaInputs.initialize(\"request\");vaInputs.request=JSON.parse('\"\"');null;","fields":[{"name":"__silent_Decision_RootDecision_408ea16678f40610c8130872a95f0068","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_408ea16678f40610c8130872a95f0068\";vaInputs.__silent_Decision_RootDecision_408ea16678f40610c8130872a95f0068=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_408ea16678f40610c8130872a95f0068\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_c08ea166c4f40610b7f20bc3084a4468=true;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_408ea16678f40610c8130872a95f0068","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_808ea166d0f406102f3db5c47f7a7168","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_808ea166d0f406102f3db5c47f7a7168","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_408ea16678f40610c8130872a95f0068\" &amp;&amp; ((vaInputs.RootDecisionBranch_c08ea166c4f40610b7f20bc3084a4468.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_808ea166d0f406102f3db5c47f7a7168___RootDecisionBranch_808ea166d0f406102f3db5c47f7a7168\";vaInputs.__silent_Branch_RootDecisionBranch_808ea166d0f406102f3db5c47f7a7168=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_808ea166d0f406102f3db5c47f7a7168___RootDecisionBranch_808ea166d0f406102f3db5c47f7a7168\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_808ea166d0f406102f3db5c47f7a7168","node_name":"RootDecisionBranch_808ea166d0f406102f3db5c47f7a7168","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_808ea166d0f406102f3db5c47f7a7168___RootDecisionBranch_808ea166d0f406102f3db5c47f7a7168\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";vaInputs.__silent_StartGoal_a1f501f41a974866b3bda69f922f4680=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"a1f501f41a974866b3bda69f922f4680","node_name":"Start","predecessor_nodes":["RootDecisionBranch_808ea166d0f406102f3db5c47f7a7168"],"next_node":"Continue Conversation","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","applicable":"vaVars.previous_graph_node==\"Start___a1f501f41a974866b3bda69f922f4680\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";(function execute() {(function execute() {\n\nvar request = vaInputs.request.toString();\nvar array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', array);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n var output = parsedBody.choices[0].message.content;\n vaVars.Output.u_your_answer = output.trim();\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = JSON.stringify(message);\n}\n\n})()\n;})();vaInputs.__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"27d00bf90d7249c9abffba1e26630355","node_name":"Continue Conversation","predecessor_nodes":["Start"],"next_node":"End","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","applicable":"vaVars.previous_graph_node==\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";vaInputs.__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";var ackMsg=null;ackMsg=null;(function execute() {var tmp={values:{}};tmp.values.output=vaVars.Output;tmp.populated=true;vaVars._reusable_topic_outputs_var=JSON.stringify(tmp);})();vaVars.__segment_trigger_b682a848ddbe459eabb04e419dd24040_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"5115d1d54b7a4c0c8e2f5717958b3157","node_name":"End","predecessor_nodes":["Continue Conversation"],"node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[],"confirmation_msg":"gs.getMessageLang('[PREVIEW ONLY] The topic return values are: {0}', vaContext.getRequesterLang(), JSON.stringify(JSON.parse(vaVars._reusable_topic_outputs_var).values));"}],"roles":[],"active":true,"published":false,"library":true,"expose_on_palette":false,"palette_label":"ChatGPT - Topic Block","flexible_conversation_switching":true,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"TOPIC_BLOCK","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT - Topic Block","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases/><last_published_on>2024-03-10 13:42:21</last_published_on><library>true</library><library_usage>{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","mode":"string","value":"{{vaVars.Output}}"}}]}</library_usage><metaphone/><name>_PRVW__377ea1665cf40610c968de768bce4067</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label>ChatGPT - Topic Block</palette_label><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:42:21</sys_created_on><sys_domain>global</sys_domain><sys_id>c48ea16647f40610c2e1a3e7826d4368</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__377ea1665cf40610c968de768bce4067</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_c48ea16647f40610c2e1a3e7826d4368</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:42:21</sys_updated_on><title>ChatGPT - Topic Block</title><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=c48ea16647f40610c2e1a3e7826d4368"/></record_update>]]></payload>
<payload_hash>1193410472</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b87c712647380610c2e1a3e7826d4336</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2899a64f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__377ea1665cf40610c968de768bce4067</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>8c8ea166b1f40610d15c9f2852a00569</update_guid>
<update_guid_history>8c8ea166b1f40610d15c9f2852a00569:1193410472</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_fe1b31a247380610c2e1a3e7826d434a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__3e1b31a264380610d8f8701a7c64a749","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__3e1b31a264380610d8f8701a7c64a749","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_62218b7529cd4abb974157765b9fe64c_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_3e1b31a2eb3806107058aa5450195c4a","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_ba1b31a2fa380610f2f8e138f3de0a4a","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_719c30db210b4abfa41630ebbd4562e7","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_b2935d79c82c47ed98cbdbbaaa9403db","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_fa1b31a2b038061060c63066861e014a","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_62218b7529cd4abb974157765b9fe64c_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_3e1b31a2eb3806107058aa5450195c4a\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Branch_719c30db210b4abfa41630ebbd4562e7\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Decision_RootDecision_ba1b31a2fa380610f2f8e138f3de0a4a\");vaInputs.initialize(\"__silent_Branch_b2935d79c82c47ed98cbdbbaaa9403db\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_fa1b31a2b038061060c63066861e014a\");null;","fields":[{"name":"__silent_Decision_RootDecision_ba1b31a2fa380610f2f8e138f3de0a4a","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_ba1b31a2fa380610f2f8e138f3de0a4a\";vaInputs.__silent_Decision_RootDecision_ba1b31a2fa380610f2f8e138f3de0a4a=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_ba1b31a2fa380610f2f8e138f3de0a4a\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_3e1b31a2eb3806107058aa5450195c4a=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_fa1b31a2b038061060c63066861e014a.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_ba1b31a2fa380610f2f8e138f3de0a4a","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_fa1b31a2b038061060c63066861e014a","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_fa1b31a2b038061060c63066861e014a","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_ba1b31a2fa380610f2f8e138f3de0a4a\" &amp;&amp; ((vaInputs.RootDecisionBranch_3e1b31a2eb3806107058aa5450195c4a.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_fa1b31a2b038061060c63066861e014a___RootDecisionBranch_fa1b31a2b038061060c63066861e014a\";vaInputs.__silent_Branch_RootDecisionBranch_fa1b31a2b038061060c63066861e014a=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_fa1b31a2b038061060c63066861e014a___RootDecisionBranch_fa1b31a2b038061060c63066861e014a\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_fa1b31a2b038061060c63066861e014a","node_name":"RootDecisionBranch_fa1b31a2b038061060c63066861e014a","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_fa1b31a2b038061060c63066861e014a___RootDecisionBranch_fa1b31a2b038061060c63066861e014a\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_fa1b31a2b038061060c63066861e014a"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_719c30db210b4abfa41630ebbd4562e7.reset();})();(function() {vaInputs.__silent_Branch_b2935d79c82c47ed98cbdbbaaa9403db.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_719c30db210b4abfa41630ebbd4562e7.reset();})();(function() {vaInputs.__silent_Branch_b2935d79c82c47ed98cbdbbaaa9403db.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_b2935d79c82c47ed98cbdbbaaa9403db","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___b2935d79c82c47ed98cbdbbaaa9403db\";vaInputs.__silent_Branch_b2935d79c82c47ed98cbdbbaaa9403db=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___b2935d79c82c47ed98cbdbbaaa9403db\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"b2935d79c82c47ed98cbdbbaaa9403db","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_719c30db210b4abfa41630ebbd4562e7","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___719c30db210b4abfa41630ebbd4562e7\";vaInputs.__silent_Branch_719c30db210b4abfa41630ebbd4562e7=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___719c30db210b4abfa41630ebbd4562e7\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"719c30db210b4abfa41630ebbd4562e7","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___719c30db210b4abfa41630ebbd4562e7\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___b2935d79c82c47ed98cbdbbaaa9403db\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_62218b7529cd4abb974157765b9fe64c_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 14:37:27</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__3e1b31a264380610d8f8701a7c64a749</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:37:27</sys_created_on><sys_domain>global</sys_domain><sys_id>fe1b31a247380610c2e1a3e7826d434a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__3e1b31a264380610d8f8701a7c64a749</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_fe1b31a247380610c2e1a3e7826d434a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:37:27</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=fe1b31a247380610c2e1a3e7826d434a"/></record_update>]]></payload>
<payload_hash>1747107992</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b87c712647380610c2e1a3e7826d4339</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28cc16090000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__3e1b31a264380610d8f8701a7c64a749</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>c71b75a2e7380610c9cae12fd57a514d</update_guid>
<update_guid_history>c71b75a2e7380610c9cae12fd57a514d:1747107992</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_5089d12247b40610c2e1a3e7826d43f0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__9889d122acb4061016cc56d33d4df0e9">5c89d12247b40610c2e1a3e7826d43ea</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:10:38</sys_created_on><sys_domain>global</sys_domain><sys_id>5089d12247b40610c2e1a3e7826d43f0</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_5089d12247b40610c2e1a3e7826d43f0</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:10:38</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-516182148</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b87c712647380610c2e1a3e7826d433c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2845ac580000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>9089d12246b406105d666f1bce2636f1</update_guid>
<update_guid_history>9089d12246b406105d666f1bce2636f1:-516182148</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_a6a6fd6e47f40610c2e1a3e7826d4357</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__e2a67d6e84f40610d22c2171b8e3ac91">a6a67d6e47f40610c2e1a3e7826d4392</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:18:02</sys_created_on><sys_domain>global</sys_domain><sys_id>a6a6fd6e47f40610c2e1a3e7826d4357</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_a6a6fd6e47f40610c2e1a3e7826d4357</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:18:02</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-172346992</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b87c712647380610c2e1a3e7826d433f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28ba4f9b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>e6a6fd6e55f406104479cb582db9bf58</update_guid>
<update_guid_history>e6a6fd6e55f406104479cb582db9bf58:-172346992</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_fbe7bcae47f00610c2e1a3e7826d4337</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__6be738aed2f006101da25884a1ff4c1e">3fe738ae47f00610c2e1a3e7826d431f</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:43:57</sys_created_on><sys_domain>global</sys_domain><sys_id>fbe7bcae47f00610c2e1a3e7826d4337</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_fbe7bcae47f00610c2e1a3e7826d4337</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:43:57</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-2115475591</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b87c712647380610c2e1a3e7826d4342</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bf62b70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>3fe7bcae34f006101b6dab3a7a9a4938</update_guid>
<update_guid_history>3fe7bcae34f006101b6dab3a7a9a4938:-2115475591</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_ui_message_44152c6a47b00610c2e1a3e7826d4399</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_message"><sys_ui_message action="INSERT_OR_UPDATE"><application>Virtual Agent</application><code/><commented_message/><key>please provide data</key><language>en</language><message>Please Provide Data</message><sys_class_name>sys_ui_message</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 08:21:31</sys_created_on><sys_id>44152c6a47b00610c2e1a3e7826d4399</sys_id><sys_mod_count>0</sys_mod_count><sys_name>please provide data</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_ui_message_44152c6a47b00610c2e1a3e7826d4399</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 08:21:31</sys_updated_on></sys_ui_message></record_update>]]></payload>
<payload_hash>-1138210149</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>b87c712647380610c2e1a3e7826d4345</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2773e7f60000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>please provide data</target_name>
<type>Message</type>
<update_domain>global</update_domain>
<update_guid>08152c6ab1b00610ec3cb3a4a9f02f9a</update_guid>
<update_guid_history>08152c6ab1b00610ec3cb3a4a9f02f9a:-1138210149</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_87da706247340610c2e1a3e7826d438e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__76da7062d83406105d2d0296e24d9a8a">3ada706247340610c2e1a3e7826d438b</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"f4eafd6ae42a48baa204e2c038b37df0","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"f4eafd6ae42a48baa204e2c038b37df0"}],"goals":[{"name":"primary","trigger_id":"f4eafd6ae42a48baa204e2c038b37df0","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"e0d8c7c1f1c9494c90a6424ad0a7aa4a","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"e072b9c04c0e4a69bc3ecf3e04c70322","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaInputs.enter_your_query}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"e0d8c7c1f1c9494c90a6424ad0a7aa4a","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"e0d8c7c1f1c9494c90a6424ad0a7aa4a"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"e072b9c04c0e4a69bc3ecf3e04c70322","id":"7e27041fde704dafa3c57c0df71d7044","name":"e072b9c04c0e4a69bc3ecf3e04c70322"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation_JSON","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__76da7062d83406105d2d0296e24d9a8a","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.enter_your_query}}",
                        "displayValue": "Input Variables➛Enter Your Query"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        }
      },
      "edges": [
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation_JSON",
      "label": "Continue_Conversation_JSON",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__76da7062d83406105d2d0296e24d9a8a</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:56:44</sys_created_on><sys_domain>global</sys_domain><sys_id>87da706247340610c2e1a3e7826d438e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_87da706247340610c2e1a3e7826d438e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:56:44</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-543218415</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>bc7c712647380610c2e1a3e7826d4326</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27cb15cc0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>c7da7062be3406106cf62480ba2f468f</update_guid>
<update_guid_history>c7da7062be3406106cf62480ba2f468f:-543218415</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_c4907d6647f40610c2e1a3e7826d43e5</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__b7807d6691f4061075ed5aeea03f78e1">7b807d6647f40610c2e1a3e7826d43e2</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"fdf7855852b646c599082ce7c01e8b04","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"fdf7855852b646c599082ce7c01e8b04"}],"goals":[{"name":"primary","trigger_id":"fdf7855852b646c599082ce7c01e8b04","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"7840c7e667f1407d9d26f27dfaf9844c","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"145a0824d43349ec9b4ead83680f4629","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"7840c7e667f1407d9d26f27dfaf9844c","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"7840c7e667f1407d9d26f27dfaf9844c"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"145a0824d43349ec9b4ead83680f4629","id":"7e27041fde704dafa3c57c0df71d7044","name":"145a0824d43349ec9b4ead83680f4629"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__b7807d6691f4061075ed5aeea03f78e1","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__b7807d6691f4061075ed5aeea03f78e1</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:51:22</sys_created_on><sys_domain>global</sys_domain><sys_id>c4907d6647f40610c2e1a3e7826d43e5</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_c4907d6647f40610c2e1a3e7826d43e5</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:51:22</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1020811054</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>bc7c712647380610c2e1a3e7826d4329</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28a1e6260000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>08907d66f7f40610cf9d1d4d09d93ce6</update_guid>
<update_guid_history>08907d66f7f40610cf9d1d4d09d93ce6:1020811054</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_topic_1ce2ac6647b00610c2e1a3e7826d4326</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_topic"><sys_cb_topic action="INSERT_OR_UPDATE"><applicability/><applicability_mode>query</applicability_mode><autopilot_topic>false</autopilot_topic><category/><channels/><connect_queue/><description>Opens a incident record for the user and provides a message and incident card for confirmation.</description><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "e15a6f4e281049ee89ded38801f9c3df": {
          "id": "e15a6f4e281049ee89ded38801f9c3df",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "name": "caller",
              "value": "",
              "id": "85e9092383a144c6838c348fececaf78",
              "disabled": true,
              "referenced": true,
              "type": "String",
              "hint": "",
              "required": true
            },
            {
              "name": "short_description",
              "value": "",
              "id": "034eb9455c724253a8ced479d905b1f1",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": true
            },
            {
              "name": "urgency",
              "value": "3",
              "id": "25abc91336cd40a090a3cbd79f96f69b",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            },
            {
              "name": "description",
              "value": "",
              "id": "e42fa4128cb24e68b66759b015174c35",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            },
            {
              "name": "cmdb_ci",
              "value": "",
              "id": "0d26381665684abdbd1846e32e179df3",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            }
          ],
          "variableIds": [
            "85e9092383a144c6838c348fececaf78",
            "034eb9455c724253a8ced479d905b1f1",
            "25abc91336cd40a090a3cbd79f96f69b",
            "e42fa4128cb24e68b66759b015174c35",
            "0d26381665684abdbd1846e32e179df3"
          ]
        },
        "39896219bbab4ffda4718719caa8b2a2": {
          "id": "39896219bbab4ffda4718719caa8b2a2",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "created_incident_sys_id",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.inc_sysid}}",
                        "displayValue": "vaVars➛inc_sysid"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": true,
              "cannotBeDeleted": true,
              "alertMessage": "You cannot delete this parameter because other calling topics use it.",
              "additionalInfoUrl": "/sys_cs_topic_library_usage_list.do?sysparm_query=library_cs_topic_id=ef2d8306737333003ade8889faf6a790%5Ecalling_cs_topic_idIN89668d8a18800010964f8326d55386ae",
              "additionalInfoLabel": "See calling topics"
            }
          ]
        },
        "c7735cd8576546fb8f1fd905677c2767": {
          "id": "c7735cd8576546fb8f1fd905677c2767",
          "stepType": "TextOutput",
          "name": "Incident created",
          "value": [
            {
              "value": "(function execute() {\n    return gs.getMessageLang(\"OK, I've opened a new ticket for you, and someone will help you shortly.\", vaContext.getRequesterLang());\n})()\n",
              "mode": "script"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "a500d9685beb4b708e4929ca5a8d6e72": {
          "id": "a500d9685beb4b708e4929ca5a8d6e72",
          "stepType": "RecordOutput",
          "name": "Display incident",
          "variableId": "9140d9984249486e9b074fe6998ff9c6",
          "mode": "script",
          "tableName": "incident",
          "fields": [
            "short_description",
            "state",
            "priority",
            "category",
            "assignment_group",
            "description"
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "condition": {
            "mode": "glide_query",
            "value": "sys_id={{vaVars.inc_sysid}}"
          },
          "cardTemplate": "General",
          "cardFields": {},
          "cardDefinition": {
            "name": "Record",
            "value": "General"
          }
        },
        "d226c18570ff44bd957423970db43914": {
          "id": "d226c18570ff44bd957423970db43914",
          "name": "Create Request/Incident",
          "script": "(function execute() {\n    var caller = vaInputs.caller;\n    var short_desc = vaInputs.short_description;\n    var urgency = vaInputs.urgency;\n    var desc = vaInputs.description;\n    var cmdb_ci = vaInputs.cmdb_ci;\n\n     if (!gs.nil(caller) &amp;&amp; !gs.nil(short_desc)) {\n        var incDetails = new sn_itsm_va.VACreateINCUtil().createIncident(caller, short_desc, urgency, desc, cmdb_ci);\n        vaVars.inc_sysid = incDetails.sysid;\n     }\n     \n})()",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "e647584676f848ada6f9326f390d507a": {
          "id": "e647584676f848ada6f9326f390d507a",
          "name": "Check UR created",
          "script": "(function execute() {\n  var incGr = new GlideRecord(\"incident\");\n  incGr.get(vaVars.inc_sysid);\n  vaVars.is_UR_created = !gs.nil(incGr.universal_request);\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "049abbe231b64a4ba2140998a2f40d53": {
          "id": "049abbe231b64a4ba2140998a2f40d53",
          "stepType": "Decision",
          "name": "Decision"
        },
        "558ebe6afa5144bb8d5d3ad2aa32916b": {
          "id": "558ebe6afa5144bb8d5d3ad2aa32916b",
          "stepType": "TextOutput",
          "name": "Request created",
          "value": [
            {
              "value": "(function execute() {\n    return gs.getMessageLang(\"Got it. I submitted your request and someone will be assigned to it soon.\", vaContext.getRequesterLang());\n})()\n",
              "mode": "script"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "4505d043a3004b33a13ebc30e8eeaf4a": {
          "id": "4505d043a3004b33a13ebc30e8eeaf4a",
          "stepType": "ScriptOutput",
          "name": "Display Request",
          "output_type": "single_part",
          "script": "(function execute() {\n    var itsm_helper = new sn_itsm_va.ItsmVaHelper();\n    var gr = new GlideRecord(\"incident\");\n    gr.get(vaVars.inc_sysid);\n\n    var title = gr.getElement(\"universal_request\").getLabel();\n    var eff_no = gr.getValue(\"task_effective_number\");\n    var link = gs.getProperty('glide.servlet.uri') + vaVars.portal + '?sys_id=' + vaVars.inc_sysid + '&amp;id=ticket&amp;table=incident';\n    var table_name = gr.getClassDisplayValue();\n    var priority = gr.getDisplayValue('priority');\n    var short_description = gr.getValue('short_description');\n    var description = gr.getValue('description');\n    var state = gr.getDisplayValue('state');\n    var category = gr.getDisplayValue('category');\n    var assignment_group = gr.getDisplayValue('assignment_group');\n    var fields = [];\n    if (short_description != null &amp;&amp; short_description != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"short_description\").getLabel(), \"fieldValue\": short_description });\n    if (state != null &amp;&amp; state != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"state\").getLabel(), \"fieldValue\": state });\n    if (priority != null &amp;&amp; priority != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"priority\").getLabel(), \"fieldValue\": priority });\n    if (category != null &amp;&amp; category != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"category\").getLabel(), \"fieldValue\": category });\n    if (assignment_group != null &amp;&amp; assignment_group != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"assignment_group\").getLabel(), \"fieldValue\": assignment_group });\n    if (description != null &amp;&amp; description != '')\n        fields.push({ \"fieldLabel\": gr.getElement(\"description\").getLabel(), \"fieldValue\": description });\n\n    var data = JSON.stringify({\n        \"title\": title,\n        \"fields\": fields,\n        \"subtitle\": eff_no,\n        \"url\": link\n\n    });\n    return vaSystem.renderCard(\"Card\", data);\n\n})()\n",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "69c7b65c52ad400f9a7ec68ac2bfe831": {
          "id": "69c7b65c52ad400f9a7ec68ac2bfe831",
          "name": "Attach incident record to conversation",
          "script": "(function execute() {\n    vaSystem.attachRecordToConversation(\"incident\", vaVars.inc_sysid);\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "5d5ed75c7f0041e2a61915f9a385af04",
          "edgeType": "Edge",
          "source": "558ebe6afa5144bb8d5d3ad2aa32916b",
          "target": "4505d043a3004b33a13ebc30e8eeaf4a",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "b4a739a4d8804bbcb175de010a1f47ab",
          "edgeType": "Edge",
          "source": "e15a6f4e281049ee89ded38801f9c3df",
          "target": "d226c18570ff44bd957423970db43914",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "63f5b2bc49ba4caa9afe281894183d78",
          "edgeType": "Edge",
          "source": "c7735cd8576546fb8f1fd905677c2767",
          "target": "a500d9685beb4b708e4929ca5a8d6e72",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "72fc7e591ebd403d94a726dbd7e4af07",
          "edgeType": "Edge",
          "source": "a500d9685beb4b708e4929ca5a8d6e72",
          "target": "39896219bbab4ffda4718719caa8b2a2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "cf9e11a3a07046ceb6bbec42e2d2fb9e",
          "edgeType": "Edge",
          "source": "e647584676f848ada6f9326f390d507a",
          "target": "049abbe231b64a4ba2140998a2f40d53",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "1c205a0b0a4244c6ac4647559f0e3fc0",
          "edgeType": "Branch",
          "source": "049abbe231b64a4ba2140998a2f40d53",
          "target": "c7735cd8576546fb8f1fd905677c2767",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.is_UR_created == false;\n})()\n"
          },
          "label": "No"
        },
        {
          "id": "372b4af3082e480e8b32e25e25a8941d",
          "edgeType": "Branch",
          "source": "049abbe231b64a4ba2140998a2f40d53",
          "target": "558ebe6afa5144bb8d5d3ad2aa32916b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.is_UR_created == true;\n})()\n"
          },
          "label": "Yes"
        },
        {
          "id": "973d16141ef0464e8e15bcef03e85129",
          "edgeType": "Edge",
          "source": "4505d043a3004b33a13ebc30e8eeaf4a",
          "target": "39896219bbab4ffda4718719caa8b2a2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "bae32dac82a74778b06f510adfb7afe4",
          "edgeType": "Edge",
          "source": "d226c18570ff44bd957423970db43914",
          "target": "69c7b65c52ad400f9a7ec68ac2bfe831",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "21d2bc541f164e54a69f0509eef88762",
          "edgeType": "Edge",
          "source": "69c7b65c52ad400f9a7ec68ac2bfe831",
          "target": "e647584676f848ada6f9326f390d507a",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "85e9092383a144c6838c348fececaf78": {
      "id": "85e9092383a144c6838c348fececaf78",
      "name": "caller",
      "label": "Caller",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "e15a6f4e281049ee89ded38801f9c3df",
      "isHidden": false
    },
    "034eb9455c724253a8ced479d905b1f1": {
      "id": "034eb9455c724253a8ced479d905b1f1",
      "name": "short_description",
      "label": "Short_description",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "e15a6f4e281049ee89ded38801f9c3df",
      "isHidden": false
    },
    "25abc91336cd40a090a3cbd79f96f69b": {
      "id": "25abc91336cd40a090a3cbd79f96f69b",
      "name": "urgency",
      "label": "Urgency",
      "defaultValue": "3",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "e15a6f4e281049ee89ded38801f9c3df",
      "isHidden": false
    },
    "e42fa4128cb24e68b66759b015174c35": {
      "id": "e42fa4128cb24e68b66759b015174c35",
      "name": "description",
      "label": "Description",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "e15a6f4e281049ee89ded38801f9c3df",
      "isHidden": false
    },
    "d554c42c69c4485da7e8230f4efdf210": {
      "category": "vaInputs",
      "id": "d554c42c69c4485da7e8230f4efdf210",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "0d26381665684abdbd1846e32e179df3": {
      "id": "0d26381665684abdbd1846e32e179df3",
      "name": "cmdb_ci",
      "label": "Cmdb_ci",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "e15a6f4e281049ee89ded38801f9c3df",
      "isHidden": false
    },
    "8b34aa6968454764b7f9a5b18f24bf4a": {
      "id": "8b34aa6968454764b7f9a5b18f24bf4a",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "is_UR_created",
      "label": "is_UR_created",
      "varType": "script",
      "category": "vaVars"
    },
    "4a56f258ff494cd796223482b4301522": {
      "id": "4a56f258ff494cd796223482b4301522",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "inc_sysid",
      "label": "inc_sysid",
      "varType": "script",
      "category": "vaVars"
    },
    "b3c0890bd6974e429f3d8af864d32605": {
      "id": "b3c0890bd6974e429f3d8af864d32605",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    if (vaContext.deviceType == 'ios' || vaContext.deviceType == 'android')\n        return 'mesp';\n    return gs.getProperty('sn_itsm_va.com.snc.itsm.virtualagent.portal_url');\n})()"
      },
      "name": "portal",
      "label": "portal",
      "varType": "script",
      "category": "vaVars"
    }
  }
}</graph><key_phrases/><library>true</library><live_agent>false</live_agent><name>Incident thing</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><roles/><root_topic_id>bd562ebd733333003ade8889faf6a777</root_topic_id><secure_custom_input_control>false</secure_custom_input_control><source_topic_id>bd562ebd733333003ade8889faf6a777</source_topic_id><sys_class_name>sys_cb_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 08:11:58</sys_created_on><sys_domain>global</sys_domain><sys_id>1ce2ac6647b00610c2e1a3e7826d4326</sys_id><sys_mod_count>1</sys_mod_count><sys_name>Incident thing</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_topic_1ce2ac6647b00610c2e1a3e7826d4326</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 08:12:09</sys_updated_on><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type></sys_cb_topic></record_update>]]></payload>
<payload_hash>1708527276</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>bc7c712647380610c2e1a3e7826d432c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e276b54de0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>Incident thing</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>bee2a42a51b00610d63c9f4a15f9c2f4</update_guid>
<update_guid_history>bee2a42a51b00610d63c9f4a15f9c2f4:1708527276,10e2ac66a2b00610c9932d9ea2e90828:701508476</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_3ada706247340610c2e1a3e7826d438b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__76da7062d83406105d2d0296e24d9a8a","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__76da7062d83406105d2d0296e24d9a8a","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation_JSON","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_f4eafd6ae42a48baa204e2c038b37df0_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_76da70623f3406106dad54b2581e308b","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Branch_e0d8c7c1f1c9494c90a6424ad0a7aa4a","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_36da70621d340610b00dec75e2304d8b","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_e072b9c04c0e4a69bc3ecf3e04c70322","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_f2da70622f3406101c812a5c9223b48b","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_f4eafd6ae42a48baa204e2c038b37df0_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_76da70623f3406106dad54b2581e308b\");vaInputs.initialize(\"__silent_Branch_e0d8c7c1f1c9494c90a6424ad0a7aa4a\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Decision_RootDecision_f2da70622f3406101c812a5c9223b48b\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"__silent_Branch_e072b9c04c0e4a69bc3ecf3e04c70322\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_36da70621d340610b00dec75e2304d8b\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");null;","fields":[{"name":"__silent_Decision_RootDecision_f2da70622f3406101c812a5c9223b48b","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_f2da70622f3406101c812a5c9223b48b\";vaInputs.__silent_Decision_RootDecision_f2da70622f3406101c812a5c9223b48b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_f2da70622f3406101c812a5c9223b48b\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_76da70623f3406106dad54b2581e308b=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_36da70621d340610b00dec75e2304d8b.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_f2da70622f3406101c812a5c9223b48b","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_36da70621d340610b00dec75e2304d8b","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_36da70621d340610b00dec75e2304d8b","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_f2da70622f3406101c812a5c9223b48b\" &amp;&amp; ((vaInputs.RootDecisionBranch_76da70623f3406106dad54b2581e308b.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_36da70621d340610b00dec75e2304d8b___RootDecisionBranch_36da70621d340610b00dec75e2304d8b\";vaInputs.__silent_Branch_RootDecisionBranch_36da70621d340610b00dec75e2304d8b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_36da70621d340610b00dec75e2304d8b___RootDecisionBranch_36da70621d340610b00dec75e2304d8b\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_36da70621d340610b00dec75e2304d8b","node_name":"RootDecisionBranch_36da70621d340610b00dec75e2304d8b","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_36da70621d340610b00dec75e2304d8b___RootDecisionBranch_36da70621d340610b00dec75e2304d8b\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_36da70621d340610b00dec75e2304d8b"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaInputs.enter_your_query}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Enter Your Query"],"next_node":"Print Response","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.choice.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Choice","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_e0d8c7c1f1c9494c90a6424ad0a7aa4a.reset();})();(function() {vaInputs.__silent_Branch_e072b9c04c0e4a69bc3ecf3e04c70322.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Print Response"],"next_node":"Decision","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_e0d8c7c1f1c9494c90a6424ad0a7aa4a.reset();})();(function() {vaInputs.__silent_Branch_e072b9c04c0e4a69bc3ecf3e04c70322.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_e0d8c7c1f1c9494c90a6424ad0a7aa4a","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___e0d8c7c1f1c9494c90a6424ad0a7aa4a\";vaInputs.__silent_Branch_e0d8c7c1f1c9494c90a6424ad0a7aa4a=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___e0d8c7c1f1c9494c90a6424ad0a7aa4a\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"e0d8c7c1f1c9494c90a6424ad0a7aa4a","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":9,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_e072b9c04c0e4a69bc3ecf3e04c70322","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___e072b9c04c0e4a69bc3ecf3e04c70322\";vaInputs.__silent_Branch_e072b9c04c0e4a69bc3ecf3e04c70322=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___e072b9c04c0e4a69bc3ecf3e04c70322\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"e072b9c04c0e4a69bc3ecf3e04c70322","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":9,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___e072b9c04c0e4a69bc3ecf3e04c70322\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"ChatGPT - Topic Block","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___e0d8c7c1f1c9494c90a6424ad0a7aa4a\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_f4eafd6ae42a48baa204e2c038b37df0_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 09:56:44</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__76da7062d83406105d2d0296e24d9a8a</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:56:44</sys_created_on><sys_domain>global</sys_domain><sys_id>3ada706247340610c2e1a3e7826d438b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__76da7062d83406105d2d0296e24d9a8a</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_3ada706247340610c2e1a3e7826d438b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:56:44</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=3ada706247340610c2e1a3e7826d438b"/></record_update>]]></payload>
<payload_hash>22864699</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>bc7c712647380610c2e1a3e7826d432f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27cb15960000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__76da7062d83406105d2d0296e24d9a8a</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>cfda70620b3406108336319cd3ac778c</update_guid>
<update_guid_history>cfda70620b3406108336319cd3ac778c:22864699</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_726ced2247b40610c2e1a3e7826d43d4</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__6e6ced2242b40610babca243b69dabd2","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__6e6ced2242b40610babca243b69dabd2","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_fbdcbfbca3a94314ab93719c24a68086_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_ae6ced22edb4061022ff06567bad99d3","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_84a40778160049689f473dbb4e223669","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_2e6ced2232b4061028c280599d2feed3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_6e6ced2295b40610c509f21a456779d3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_f9f1b571e34c4450b9d8611add90cfea","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_fbdcbfbca3a94314ab93719c24a68086_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_ae6ced22edb4061022ff06567bad99d3\");vaInputs.initialize(\"__silent_Branch_84a40778160049689f473dbb4e223669\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"__silent_Branch_f9f1b571e34c4450b9d8611add90cfea\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_Decision_RootDecision_2e6ced2232b4061028c280599d2feed3\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_6e6ced2295b40610c509f21a456779d3\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_2e6ced2232b4061028c280599d2feed3","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_2e6ced2232b4061028c280599d2feed3\";vaInputs.__silent_Decision_RootDecision_2e6ced2232b4061028c280599d2feed3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_2e6ced2232b4061028c280599d2feed3\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_ae6ced22edb4061022ff06567bad99d3=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_6e6ced2295b40610c509f21a456779d3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_2e6ced2232b4061028c280599d2feed3","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_6e6ced2295b40610c509f21a456779d3","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_6e6ced2295b40610c509f21a456779d3","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_2e6ced2232b4061028c280599d2feed3\" &amp;&amp; ((vaInputs.RootDecisionBranch_ae6ced22edb4061022ff06567bad99d3.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_6e6ced2295b40610c509f21a456779d3___RootDecisionBranch_6e6ced2295b40610c509f21a456779d3\";vaInputs.__silent_Branch_RootDecisionBranch_6e6ced2295b40610c509f21a456779d3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_6e6ced2295b40610c509f21a456779d3___RootDecisionBranch_6e6ced2295b40610c509f21a456779d3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_6e6ced2295b40610c509f21a456779d3","node_name":"RootDecisionBranch_6e6ced2295b40610c509f21a456779d3","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_6e6ced2295b40610c509f21a456779d3___RootDecisionBranch_6e6ced2295b40610c509f21a456779d3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_6e6ced2295b40610c509f21a456779d3"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_f9f1b571e34c4450b9d8611add90cfea.reset();})();(function() {vaInputs.__silent_Branch_84a40778160049689f473dbb4e223669.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_f9f1b571e34c4450b9d8611add90cfea.reset();})();(function() {vaInputs.__silent_Branch_84a40778160049689f473dbb4e223669.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_84a40778160049689f473dbb4e223669","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___84a40778160049689f473dbb4e223669\";vaInputs.__silent_Branch_84a40778160049689f473dbb4e223669=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___84a40778160049689f473dbb4e223669\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"84a40778160049689f473dbb4e223669","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_f9f1b571e34c4450b9d8611add90cfea","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___f9f1b571e34c4450b9d8611add90cfea\";vaInputs.__silent_Branch_f9f1b571e34c4450b9d8611add90cfea=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___f9f1b571e34c4450b9d8611add90cfea\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"f9f1b571e34c4450b9d8611add90cfea","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___f9f1b571e34c4450b9d8611add90cfea\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___84a40778160049689f473dbb4e223669\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_fbdcbfbca3a94314ab93719c24a68086_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 13:33:15</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__6e6ced2242b40610babca243b69dabd2</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:33:15</sys_created_on><sys_domain>global</sys_domain><sys_id>726ced2247b40610c2e1a3e7826d43d4</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__6e6ced2242b40610babca243b69dabd2</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_726ced2247b40610c2e1a3e7826d43d4</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:33:15</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=726ced2247b40610c2e1a3e7826d43d4"/></record_update>]]></payload>
<payload_hash>378768373</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>bc7c712647380610c2e1a3e7826d4332</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2891525d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__6e6ced2242b40610babca243b69dabd2</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>3e6ced2257b406100f6156559f323bd5</update_guid>
<update_guid_history>3e6ced2257b406100f6156559f323bd5:378768373</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_ac54dd6a47740610c2e1a3e7826d4398</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT - Topic Block">d6bfd8e247b00610c2e1a3e7826d4367</cb_topic_id><channels/><definition>{"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__e854dd6a817406109bad577c8a797a97","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__e854dd6a817406109bad577c8a797a97","applicability":"true","categories":[],"key_phrases":[],"variables":[{"name":"Output","type":"java.lang.Object"},{"name":"_reusable_topic_outputs_var","type":"java.lang.Object","init_value":"(function execute() {return JSON.stringify({\"populated\":false,\"values\":{\"output\":\"\"}})})()"},{"name":"__segment_trigger_aa24565574114c89966f6cdd8de90e53_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"request","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_a854dd6a537406106d8c11dbe0202f98","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Decision_RootDecision_2854dd6a63740610c005e6e95c0d0298","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_6854dd6a9b7406104aed912547d84798","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_aa24565574114c89966f6cdd8de90e53_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_a854dd6a537406106d8c11dbe0202f98\");vaInputs.initialize(\"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355\");vaInputs.initialize(\"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_6854dd6a9b7406104aed912547d84798\");vaInputs.initialize(\"__silent_Decision_RootDecision_2854dd6a63740610c005e6e95c0d0298\");vaInputs.initialize(\"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157\");vaInputs.initialize(\"request\");vaInputs.request=JSON.parse('\"\"');null;","fields":[{"name":"__silent_Decision_RootDecision_2854dd6a63740610c005e6e95c0d0298","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_2854dd6a63740610c005e6e95c0d0298\";vaInputs.__silent_Decision_RootDecision_2854dd6a63740610c005e6e95c0d0298=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_2854dd6a63740610c005e6e95c0d0298\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_a854dd6a537406106d8c11dbe0202f98=true;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_2854dd6a63740610c005e6e95c0d0298","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_6854dd6a9b7406104aed912547d84798","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_6854dd6a9b7406104aed912547d84798","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_2854dd6a63740610c005e6e95c0d0298\" &amp;&amp; ((vaInputs.RootDecisionBranch_a854dd6a537406106d8c11dbe0202f98.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_6854dd6a9b7406104aed912547d84798___RootDecisionBranch_6854dd6a9b7406104aed912547d84798\";vaInputs.__silent_Branch_RootDecisionBranch_6854dd6a9b7406104aed912547d84798=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_6854dd6a9b7406104aed912547d84798___RootDecisionBranch_6854dd6a9b7406104aed912547d84798\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_6854dd6a9b7406104aed912547d84798","node_name":"RootDecisionBranch_6854dd6a9b7406104aed912547d84798","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_6854dd6a9b7406104aed912547d84798___RootDecisionBranch_6854dd6a9b7406104aed912547d84798\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";vaInputs.__silent_StartGoal_a1f501f41a974866b3bda69f922f4680=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"a1f501f41a974866b3bda69f922f4680","node_name":"Start","predecessor_nodes":["RootDecisionBranch_6854dd6a9b7406104aed912547d84798"],"next_node":"Continue Conversation","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","applicable":"vaVars.previous_graph_node==\"Start___a1f501f41a974866b3bda69f922f4680\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";(function execute() {(function execute() {\n\nvar request = vaInputs.request.split(',');\nvar payload = [];\n\nfor (var i = 0; i &lt; request.length; i++) {\n    payload.push(JSON.parse(array[i]));\n}\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', payload);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\nvaVars.Output = responseBody.toString();\n\n}\ncatch(ex) {\n var message = ex.message;\n}\n\n\n})()\n;})();vaInputs.__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"27d00bf90d7249c9abffba1e26630355","node_name":"Continue Conversation","predecessor_nodes":["Start"],"next_node":"End","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","applicable":"vaVars.previous_graph_node==\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";vaInputs.__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_aa24565574114c89966f6cdd8de90e53_done=true;(function execute() {var tmp={values:{}};tmp.values.output=vaVars.Output;tmp.populated=true;vaVars._reusable_topic_outputs_var=JSON.stringify(tmp);})();ackMsg;","metadata":{"type":"graph_node","node_id":"5115d1d54b7a4c0c8e2f5717958b3157","node_name":"End","predecessor_nodes":["Continue Conversation"],"node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[],"confirmation_msg":"gs.getMessageLang('[PREVIEW ONLY] The topic return values are: {0}', vaContext.getRequesterLang(), JSON.stringify(JSON.parse(vaVars._reusable_topic_outputs_var).values));"}],"roles":[],"active":true,"published":false,"library":true,"expose_on_palette":false,"palette_label":"ChatGPT - Topic Block","flexible_conversation_switching":true,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"TOPIC_BLOCK","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT - Topic Block","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases/><last_published_on>2024-03-10 11:47:59</last_published_on><library>true</library><library_usage>{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","mode":"string","value":"{{vaVars.Output}}"}}]}</library_usage><metaphone/><name>_PRVW__e854dd6a817406109bad577c8a797a97</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label>ChatGPT - Topic Block</palette_label><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:47:59</sys_created_on><sys_domain>global</sys_domain><sys_id>ac54dd6a47740610c2e1a3e7826d4398</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__e854dd6a817406109bad577c8a797a97</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_ac54dd6a47740610c2e1a3e7826d4398</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:47:59</sys_updated_on><title>ChatGPT - Topic Block</title><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=ac54dd6a47740610c2e1a3e7826d4398"/></record_update>]]></payload>
<payload_hash>-931085873</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>bc7c712647380610c2e1a3e7826d4335</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2830f0cf0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__e854dd6a817406109bad577c8a797a97</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>6454dd6ae7740610218fb0b88af3f79a</update_guid>
<update_guid_history>6454dd6ae7740610218fb0b88af3f79a:-931085873</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_f19d252247b40610c2e1a3e7826d439d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__319d252280b4061030f19cdfc9cdde9c","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__319d252280b4061030f19cdfc9cdde9c","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_62a7926cf22046cf92bf6480eb29d645_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_319d252213b40610b5522401b1c6489d","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Branch_df3d0dc156154138aeb3d81d2a877a01","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_bd9d25228eb406108a9d112d98f1e79c","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_fd9d252250b4061055e1dec4b838d89c","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_e3ee0223b46645cfbc8aceaa4c3da64f","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_62a7926cf22046cf92bf6480eb29d645_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_319d252213b40610b5522401b1c6489d\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_fd9d252250b4061055e1dec4b838d89c\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Branch_e3ee0223b46645cfbc8aceaa4c3da64f\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"__silent_Branch_df3d0dc156154138aeb3d81d2a877a01\");vaInputs.initialize(\"__silent_Decision_RootDecision_bd9d25228eb406108a9d112d98f1e79c\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_bd9d25228eb406108a9d112d98f1e79c","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_bd9d25228eb406108a9d112d98f1e79c\";vaInputs.__silent_Decision_RootDecision_bd9d25228eb406108a9d112d98f1e79c=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_bd9d25228eb406108a9d112d98f1e79c\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_319d252213b40610b5522401b1c6489d=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_fd9d252250b4061055e1dec4b838d89c.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_bd9d25228eb406108a9d112d98f1e79c","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_fd9d252250b4061055e1dec4b838d89c","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_fd9d252250b4061055e1dec4b838d89c","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_bd9d25228eb406108a9d112d98f1e79c\" &amp;&amp; ((vaInputs.RootDecisionBranch_319d252213b40610b5522401b1c6489d.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_fd9d252250b4061055e1dec4b838d89c___RootDecisionBranch_fd9d252250b4061055e1dec4b838d89c\";vaInputs.__silent_Branch_RootDecisionBranch_fd9d252250b4061055e1dec4b838d89c=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_fd9d252250b4061055e1dec4b838d89c___RootDecisionBranch_fd9d252250b4061055e1dec4b838d89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_fd9d252250b4061055e1dec4b838d89c","node_name":"RootDecisionBranch_fd9d252250b4061055e1dec4b838d89c","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_fd9d252250b4061055e1dec4b838d89c___RootDecisionBranch_fd9d252250b4061055e1dec4b838d89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_fd9d252250b4061055e1dec4b838d89c"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_df3d0dc156154138aeb3d81d2a877a01.reset();})();(function() {vaInputs.__silent_Branch_e3ee0223b46645cfbc8aceaa4c3da64f.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_df3d0dc156154138aeb3d81d2a877a01.reset();})();(function() {vaInputs.__silent_Branch_e3ee0223b46645cfbc8aceaa4c3da64f.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_e3ee0223b46645cfbc8aceaa4c3da64f","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___e3ee0223b46645cfbc8aceaa4c3da64f\";vaInputs.__silent_Branch_e3ee0223b46645cfbc8aceaa4c3da64f=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___e3ee0223b46645cfbc8aceaa4c3da64f\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"e3ee0223b46645cfbc8aceaa4c3da64f","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_df3d0dc156154138aeb3d81d2a877a01","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___df3d0dc156154138aeb3d81d2a877a01\";vaInputs.__silent_Branch_df3d0dc156154138aeb3d81d2a877a01=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___df3d0dc156154138aeb3d81d2a877a01\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"df3d0dc156154138aeb3d81d2a877a01","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___df3d0dc156154138aeb3d81d2a877a01\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___e3ee0223b46645cfbc8aceaa4c3da64f\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_62a7926cf22046cf92bf6480eb29d645_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 13:38:23</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__319d252280b4061030f19cdfc9cdde9c</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:38:23</sys_created_on><sys_domain>global</sys_domain><sys_id>f19d252247b40610c2e1a3e7826d439d</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__319d252280b4061030f19cdfc9cdde9c</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_f19d252247b40610c2e1a3e7826d439d</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:38:23</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=f19d252247b40610c2e1a3e7826d439d"/></record_update>]]></payload>
<payload_hash>-1792371837</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>bc7c712647380610c2e1a3e7826d4338</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e289605840000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__319d252280b4061030f19cdfc9cdde9c</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>8a9d252296b406109fd42638b6dd2a9e</update_guid>
<update_guid_history>8a9d252296b406109fd42638b6dd2a9e:-1792371837</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_32ea4d6247740610c2e1a3e7826d4308</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__a2ea01aeda340610d9a45e0bb4afe053">66ea01ae47340610c2e1a3e7826d4354</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:06:54</sys_created_on><sys_domain>global</sys_domain><sys_id>32ea4d6247740610c2e1a3e7826d4308</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_32ea4d6247740610c2e1a3e7826d4308</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:06:54</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>719223616</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>bc7c712647380610c2e1a3e7826d433b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e280b51550000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>72ea4d62d2740610a4db3eeb37725c09</update_guid>
<update_guid_history>72ea4d62d2740610a4db3eeb37725c09:719223616</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_90bd452647740610c2e1a3e7826d4393</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__c8bd4526c47406100e8818dca607b38c">8cbd452647740610c2e1a3e7826d438d</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:19:01</sys_created_on><sys_domain>global</sys_domain><sys_id>90bd452647740610c2e1a3e7826d4393</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_90bd452647740610c2e1a3e7826d4393</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:19:01</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-462136669</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>bc7c712647380610c2e1a3e7826d433e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e281669c90000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>d0bd45268d740610b58de5dacdc7db94</update_guid>
<update_guid_history>d0bd45268d740610b58de5dacdc7db94:-462136669</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_e4ea71a247380610c2e1a3e7826d4319</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__20ea71a22138061071bec3f61c18fc13">e0ea71a247380610c2e1a3e7826d4314</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:36:28</sys_created_on><sys_domain>global</sys_domain><sys_id>e4ea71a247380610c2e1a3e7826d4319</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_e4ea71a247380610c2e1a3e7826d4319</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:36:28</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-123158109</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>bc7c712647380610c2e1a3e7826d4341</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28cb2fba0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>28ea71a251380610be886e133b9a061a</update_guid>
<update_guid_history>28ea71a251380610be886e133b9a061a:-123158109</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_properties_63f1a53377451110cd1b756f1b5a9991</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>Captures the last execution timestamp of the scheduled job 'Surface New Unconnected Content of Categories'</description><ignore_cache>true</ignore_cache><is_private>false</is_private><name>taxonomy.category.new_content_job_last_run</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2022-08-08 07:43:25</sys_created_on><sys_id>63f1a53377451110cd1b756f1b5a9991</sys_id><sys_mod_count>11</sys_mod_count><sys_name>taxonomy.category.new_content_job_last_run</sys_name><sys_package display_value="Content Taxonomy" source="com.snc.taxonomy">847cf8397d35311076daf29f52070dfd</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_properties_63f1a53377451110cd1b756f1b5a9991</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 08:00:04</sys_updated_on><type>date_format</type><value>2024-03-10</value><write_roles>maint</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=63f1a53377451110cd1b756f1b5a9991"/></record_update>]]></payload>
<payload_hash>-675429683</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>bc7c712647380610c2e1a3e7826d4344</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e276049920000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>taxonomy.category.new_content_job_last_run</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid>1a202c66e9b0061088bbe784ca6c63b7</update_guid>
<update_guid_history>1a202c66e9b0061088bbe784ca6c63b7:-675429683,d6b3e1a158300210fcce24bd63fa6057:1562798053,96b3e1a1d330021078a4d4c0d9c98b55:-437767834</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_6355392e47f40610c2e1a3e7826d43d9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__675539aaeff40610f0729ef8afc00c6d">2b5539aa47f40610c2e1a3e7826d436e</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"90348ecf6c294ce9add9d28db0b6235d","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"90348ecf6c294ce9add9d28db0b6235d"}],"goals":[{"name":"primary","trigger_id":"90348ecf6c294ce9add9d28db0b6235d","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"a1f501f41a974866b3bda69f922f4680","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"5115d1d54b7a4c0c8e2f5717958b3157","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n// var request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', [{ \"role\": \"user\", \"content\": \"Tell me about React JS\" }]);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n vaVars.Output = httpStatus.toString();\n gs.log(responseBody);\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = 'failure: '+ JSON.stringify(ex);\n}\n\n})()\n","id":"27d00bf90d7249c9abffba1e26630355","name":"Continue Conversation","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"27d00bf90d7249c9abffba1e26630355","target_node_id":"5115d1d54b7a4c0c8e2f5717958b3157","id":"49019a82541540bc840400911ef7a030"},{"type":"Edge","source_node_id":"a1f501f41a974866b3bda69f922f4680","target_node_id":"27d00bf90d7249c9abffba1e26630355","id":"7478d668356e446ab58435013b64513e"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Output","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"07ca374af3e94217bfa05558977275c1","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"request","list":false,"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","library-usage":{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Output}}"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__675539aaeff40610f0729ef8afc00c6d","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"csTopicId":"eae0a4a647b00610c2e1a3e7826d43af","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>d6bfd8e247b00610c2e1a3e7826d4367</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "a1f501f41a974866b3bda69f922f4680": {
          "id": "a1f501f41a974866b3bda69f922f4680",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "type": "String",
              "value": "",
              "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
              "name": "Request",
              "required": true,
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "1dc4bbfc8f5d4a2fbb244a5e87254429"
          ]
        },
        "5115d1d54b7a4c0c8e2f5717958b3157": {
          "id": "5115d1d54b7a4c0c8e2f5717958b3157",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "Output",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Output}}",
                        "displayValue": "Script Variables➛Output"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": false
            }
          ]
        },
        "27d00bf90d7249c9abffba1e26630355": {
          "id": "27d00bf90d7249c9abffba1e26630355",
          "name": "Continue Conversation",
          "script": "(function execute() {\n\n// var request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', [{ \"role\": \"user\", \"content\": \"Tell me about React JS\" }]);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n vaVars.Output = httpStatus.toString();\n gs.log(responseBody);\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = 'failure: '+ JSON.stringify(ex);\n}\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "49019a82541540bc840400911ef7a030",
          "edgeType": "Edge",
          "source": "27d00bf90d7249c9abffba1e26630355",
          "target": "5115d1d54b7a4c0c8e2f5717958b3157",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7478d668356e446ab58435013b64513e",
          "edgeType": "Edge",
          "source": "a1f501f41a974866b3bda69f922f4680",
          "target": "27d00bf90d7249c9abffba1e26630355",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "07ca374af3e94217bfa05558977275c1": {
      "id": "07ca374af3e94217bfa05558977275c1",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Output",
      "label": "Output",
      "varType": "script",
      "category": "vaVars"
    },
    "1dc4bbfc8f5d4a2fbb244a5e87254429": {
      "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
      "name": "request",
      "label": "Request",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "a1f501f41a974866b3bda69f922f4680",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__675539aaeff40610f0729ef8afc00c6d</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:12:22</sys_created_on><sys_domain>global</sys_domain><sys_id>6355392e47f40610c2e1a3e7826d43d9</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_6355392e47f40610c2e1a3e7826d43d9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:12:22</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-33522111</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>e07c712647380610c2e1a3e7826d4325</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28b520590000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>2355392e82f406109a1359ff905aceda</update_guid>
<update_guid_history>2355392e82f406109a1359ff905aceda:-33522111</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>m2m_sys_nlu_model_sys_entity_5e27f86e47f00610c2e1a3e7826d4377</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sys_nlu_model_sys_entity"><m2m_sys_nlu_model_sys_entity action="INSERT_OR_UPDATE"><active>true</active><entity>DATE_TIME</entity><model display_value="VA GPT">da27786e47f00610c2e1a3e7826d4339</model><sys_class_name>m2m_sys_nlu_model_sys_entity</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:40:35</sys_created_on><sys_entity/><sys_id>5e27f86e47f00610c2e1a3e7826d4377</sys_id><sys_mod_count>0</sys_mod_count><sys_name>VA GPT.</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>m2m_sys_nlu_model_sys_entity_5e27f86e47f00610c2e1a3e7826d4377</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:40:35</sys_updated_on></m2m_sys_nlu_model_sys_entity></record_update>]]></payload>
<payload_hash>-1194548668</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>e07c75a247380610c2e1a3e7826d4361</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bc4cff0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>VA GPT.</target_name>
<type>NLU Model System Entity</type>
<update_domain>global</update_domain>
<update_guid>5e27f86ea9f00610d1baf374b45e9278</update_guid>
<update_guid_history>5e27f86ea9f00610d1baf374b45e9278:-1194548668</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_2c54dd6a47740610c2e1a3e7826d439b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__e854dd6a817406109bad577c8a797a97">ac54dd6a47740610c2e1a3e7826d4398</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"aa24565574114c89966f6cdd8de90e53","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"aa24565574114c89966f6cdd8de90e53"}],"goals":[{"name":"primary","trigger_id":"aa24565574114c89966f6cdd8de90e53","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"a1f501f41a974866b3bda69f922f4680","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"5115d1d54b7a4c0c8e2f5717958b3157","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\nvar request = vaInputs.request.split(',');\nvar payload = [];\n\nfor (var i = 0; i &lt; request.length; i++) {\n    payload.push(JSON.parse(array[i]));\n}\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', payload);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\nvaVars.Output = responseBody.toString();\n\n}\ncatch(ex) {\n var message = ex.message;\n}\n\n\n})()\n","id":"27d00bf90d7249c9abffba1e26630355","name":"Continue Conversation","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"27d00bf90d7249c9abffba1e26630355","target_node_id":"5115d1d54b7a4c0c8e2f5717958b3157","id":"49019a82541540bc840400911ef7a030"},{"type":"Edge","source_node_id":"a1f501f41a974866b3bda69f922f4680","target_node_id":"27d00bf90d7249c9abffba1e26630355","id":"7478d668356e446ab58435013b64513e"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Output","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"07ca374af3e94217bfa05558977275c1","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"request","list":false,"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","library-usage":{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Output}}"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__e854dd6a817406109bad577c8a797a97","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"csTopicId":"eae0a4a647b00610c2e1a3e7826d43af","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>d6bfd8e247b00610c2e1a3e7826d4367</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "a1f501f41a974866b3bda69f922f4680": {
          "id": "a1f501f41a974866b3bda69f922f4680",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "type": "String",
              "value": "",
              "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
              "name": "Request",
              "required": true,
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "1dc4bbfc8f5d4a2fbb244a5e87254429"
          ]
        },
        "5115d1d54b7a4c0c8e2f5717958b3157": {
          "id": "5115d1d54b7a4c0c8e2f5717958b3157",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "Output",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Output}}",
                        "displayValue": "Script Variables➛Output"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": false
            }
          ]
        },
        "27d00bf90d7249c9abffba1e26630355": {
          "id": "27d00bf90d7249c9abffba1e26630355",
          "name": "Continue Conversation",
          "script": "(function execute() {\n\nvar request = vaInputs.request;\n\nvaVars.Output = 'Response From GPT Here';\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "49019a82541540bc840400911ef7a030",
          "edgeType": "Edge",
          "source": "27d00bf90d7249c9abffba1e26630355",
          "target": "5115d1d54b7a4c0c8e2f5717958b3157",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7478d668356e446ab58435013b64513e",
          "edgeType": "Edge",
          "source": "a1f501f41a974866b3bda69f922f4680",
          "target": "27d00bf90d7249c9abffba1e26630355",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "07ca374af3e94217bfa05558977275c1": {
      "id": "07ca374af3e94217bfa05558977275c1",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Output",
      "label": "Output",
      "varType": "script",
      "category": "vaVars"
    },
    "1dc4bbfc8f5d4a2fbb244a5e87254429": {
      "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
      "name": "request",
      "label": "Request",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "a1f501f41a974866b3bda69f922f4680",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__e854dd6a817406109bad577c8a797a97</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:47:59</sys_created_on><sys_domain>global</sys_domain><sys_id>2c54dd6a47740610c2e1a3e7826d439b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_2c54dd6a47740610c2e1a3e7826d439b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:47:59</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-1764747652</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>e07c75a247380610c2e1a3e7826d4364</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2830f0fb0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>6c54dd6a2b74061079867fa0c2f5ac9c</update_guid>
<update_guid_history>6c54dd6a2b74061079867fa0c2f5ac9c:-1764747652</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_5b9a742247340610c2e1a3e7826d4327</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__1b9a7422e7340610703cfe58e5910223">db9a742247340610c2e1a3e7826d4324</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"123825b13fb340b78510d661440e5a07","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"123825b13fb340b78510d661440e5a07"}],"goals":[{"name":"primary","trigger_id":"123825b13fb340b78510d661440e5a07","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"39e06b90da0148f5957ef2c12091ab2c","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"e856cce8868c45988cf515d0231a9873","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    // if (orignal_obj.length &gt; 0) {\n    //     message.push(orignal_obj);   // push initial or old data if exists\n    // }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    // if (gpt_response) {\n    //     var new_assistant_obj = {\n    //         \"role\": \"assistant\",\n    //         \"content\": gpt_response\n    //     };\n    //     message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    // }\n\n    vaVars.Request = message.toString();\n\n})()\n","id":"778b69bb03ad4167a9a7a1246ade5a8d","name":"Parse Data Into 1 JSON","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"39e06b90da0148f5957ef2c12091ab2c","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"39e06b90da0148f5957ef2c12091ab2c"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"e856cce8868c45988cf515d0231a9873","id":"7e27041fde704dafa3c57c0df71d7044","name":"e856cce8868c45988cf515d0231a9873"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"778b69bb03ad4167a9a7a1246ade5a8d","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"778b69bb03ad4167a9a7a1246ade5a8d","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"6d31c36a4f734fe4a0789b67028e593a"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation_JSON","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__1b9a7422e7340610703cfe58e5910223","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "778b69bb03ad4167a9a7a1246ade5a8d": {
          "id": "778b69bb03ad4167a9a7a1246ade5a8d",
          "name": "Parse Data Into 1 JSON",
          "script": "(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    // if (orignal_obj.length &gt; 0) {\n    //     message.push(orignal_obj);   // push initial or old data if exists\n    // }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    // if (gpt_response) {\n    //     var new_assistant_obj = {\n    //         \"role\": \"assistant\",\n    //         \"content\": gpt_response\n    //     };\n    //     message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    // }\n\n    vaVars.Request = message.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": false
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "778b69bb03ad4167a9a7a1246ade5a8d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "6d31c36a4f734fe4a0789b67028e593a",
          "edgeType": "Edge",
          "source": "778b69bb03ad4167a9a7a1246ade5a8d",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation_JSON",
      "label": "Continue_Conversation_JSON",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": false,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__1b9a7422e7340610703cfe58e5910223</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:55:40</sys_created_on><sys_domain>global</sys_domain><sys_id>5b9a742247340610c2e1a3e7826d4327</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_5b9a742247340610c2e1a3e7826d4327</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:55:40</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>978002181</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>e47c712647380610c2e1a3e7826d4324</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27ca1d020000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>9b9a7422773406108823086a68da6628</update_guid>
<update_guid_history>9b9a7422773406108823086a68da6628:978002181</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_21885dee47740610c2e1a3e7826d4336</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__dd885deef674061068a6657958d44331">91885dee47740610c2e1a3e7826d4333</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"f1c177de4e114a46b0a6076c6c4d076b","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"f1c177de4e114a46b0a6076c6c4d076b"}],"goals":[{"name":"primary","trigger_id":"f1c177de4e114a46b0a6076c6c4d076b","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"aceb9b02d84846129a80e9c0f174f967","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"452c629c41454d3a94440c1545b15d4a","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"aceb9b02d84846129a80e9c0f174f967","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"aceb9b02d84846129a80e9c0f174f967"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"452c629c41454d3a94440c1545b15d4a","id":"7e27041fde704dafa3c57c0df71d7044","name":"452c629c41454d3a94440c1545b15d4a"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__dd885deef674061068a6657958d44331","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__dd885deef674061068a6657958d44331</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:06:20</sys_created_on><sys_domain>global</sys_domain><sys_id>21885dee47740610c2e1a3e7826d4336</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_21885dee47740610c2e1a3e7826d4336</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:06:20</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>556401181</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>e47c75a247380610c2e1a3e7826d4363</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2841be320000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>61885dee0f740610a1979d96f760d437</update_guid>
<update_guid_history>61885dee0f740610a1979d96f760d437:556401181</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_4c2d81e247740610c2e1a3e7826d43e8</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__0c2d81e25c740610df946f983461f9e4">cc2d81e247740610c2e1a3e7826d43e5</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"994a77aedc43475085f01813f99e33c2","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"994a77aedc43475085f01813f99e33c2"}],"goals":[{"name":"primary","trigger_id":"994a77aedc43475085f01813f99e33c2","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"2d1f3aa5e8554e678d37ff3a843ee5e1","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"5801e7c7af10450a83ec54e6de64da13","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"2d1f3aa5e8554e678d37ff3a843ee5e1","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"2d1f3aa5e8554e678d37ff3a843ee5e1"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"5801e7c7af10450a83ec54e6de64da13","id":"7e27041fde704dafa3c57c0df71d7044","name":"5801e7c7af10450a83ec54e6de64da13"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__0c2d81e25c740610df946f983461f9e4","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__0c2d81e25c740610df946f983461f9e4</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:16:33</sys_created_on><sys_domain>global</sys_domain><sys_id>4c2d81e247740610c2e1a3e7826d43e8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_4c2d81e247740610c2e1a3e7826d43e8</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:16:33</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-1317406547</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>e87c712647380610c2e1a3e7826d4323</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e281428920000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>8c2d81e2fd740610a9bded9b29a734e9</update_guid>
<update_guid_history>8c2d81e2fd740610a9bded9b29a734e9:-1317406547</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_0267cd6e47340610c2e1a3e7826d43ff</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__ce67cd6e0134061052c41bc2287519fa">8267cd6e47340610c2e1a3e7826d43fc</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"6f25308aca1443db83fc2de413f3983e","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"6f25308aca1443db83fc2de413f3983e"}],"goals":[{"name":"primary","trigger_id":"6f25308aca1443db83fc2de413f3983e","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"cf05c62fa9504b49b46930b38ef4bf2f","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"9b2cc6333e6142ecb34fb7d9f9dca182","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    vaVars.Request  = JSON.stringify(user_output);\n    // vaVars.Continue_Conversation  = JSON.stringify(user_output);\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"cf05c62fa9504b49b46930b38ef4bf2f","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"cf05c62fa9504b49b46930b38ef4bf2f"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"9b2cc6333e6142ecb34fb7d9f9dca182","id":"7e27041fde704dafa3c57c0df71d7044","name":"9b2cc6333e6142ecb34fb7d9f9dca182"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__ce67cd6e0134061052c41bc2287519fa","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    vaVars.Request  = JSON.stringify(user_output);\n    // vaVars.Continue_Conversation  = JSON.stringify(user_output);\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__ce67cd6e0134061052c41bc2287519fa</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:51:34</sys_created_on><sys_domain>global</sys_domain><sys_id>0267cd6e47340610c2e1a3e7826d43ff</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_0267cd6e47340610c2e1a3e7826d43ff</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:51:34</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1571920118</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>e87c75a247380610c2e1a3e7826d4362</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27fd48d80000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>426701aee5340610b3a07521b56b4000</update_guid>
<update_guid_history>426701aee5340610b3a07521b56b4000:1571920118</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_734af56247380610c2e1a3e7826d43db</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__f34a316e4ff40610f79f5358b723a891">f34af56247380610c2e1a3e7826d43d8</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"76da424e448148ff98f74b7eaf6a5128","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"76da424e448148ff98f74b7eaf6a5128"}],"goals":[{"name":"primary","trigger_id":"76da424e448148ff98f74b7eaf6a5128","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"1f3dcd45f76a494ca6cfeee293a40b20","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"cb65cfc6a9824c8f9b66d33c9be63365","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"1f3dcd45f76a494ca6cfeee293a40b20","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"1f3dcd45f76a494ca6cfeee293a40b20"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"cb65cfc6a9824c8f9b66d33c9be63365","id":"7e27041fde704dafa3c57c0df71d7044","name":"cb65cfc6a9824c8f9b66d33c9be63365"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__f34a316e4ff40610f79f5358b723a891","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__f34a316e4ff40610f79f5358b723a891</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:33:57</sys_created_on><sys_domain>global</sys_domain><sys_id>734af56247380610c2e1a3e7826d43db</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_734af56247380610c2e1a3e7826d43db</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:33:57</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-1189797001</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>ec7c712647380610c2e1a3e7826d4325</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28c8e24c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>b34af562d9380610cd1e26824e64f5dc</update_guid>
<update_guid_history>b34af562d9380610cd1e26824e64f5dc:-1189797001</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>m2m_sys_nlu_model_sys_entity_d627786e47f00610c2e1a3e7826d4340</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sys_nlu_model_sys_entity"><m2m_sys_nlu_model_sys_entity action="INSERT_OR_UPDATE"><active>true</active><entity>DATE</entity><model display_value="VA GPT">da27786e47f00610c2e1a3e7826d4339</model><sys_class_name>m2m_sys_nlu_model_sys_entity</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:40:35</sys_created_on><sys_entity/><sys_id>d627786e47f00610c2e1a3e7826d4340</sys_id><sys_mod_count>0</sys_mod_count><sys_name>VA GPT.</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>m2m_sys_nlu_model_sys_entity_d627786e47f00610c2e1a3e7826d4340</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:40:35</sys_updated_on></m2m_sys_nlu_model_sys_entity></record_update>]]></payload>
<payload_hash>-900412174</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>ec7c75a247380610c2e1a3e7826d4361</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bc4bfb0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>VA GPT.</target_name>
<type>NLU Model System Entity</type>
<update_domain>global</update_domain>
<update_guid>1e27f86efaf00610fbbb82177ba4a859</update_guid>
<update_guid_history>1e27f86efaf00610fbbb82177ba4a859:-900412174</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_32db89ee47340610c2e1a3e7826d43b4</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__eedb89eec434061083aa90ac33d18faf">b2db89ee47340610c2e1a3e7826d43b1</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"d51ce951626444e09f21794d44d6c390","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"d51ce951626444e09f21794d44d6c390"}],"goals":[{"name":"primary","trigger_id":"d51ce951626444e09f21794d44d6c390","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"8feca22aef014f02a1f3b2f2ac61bde3","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"32465665ba4e4f4d87881592d702b0db","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"8feca22aef014f02a1f3b2f2ac61bde3","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"8feca22aef014f02a1f3b2f2ac61bde3"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"32465665ba4e4f4d87881592d702b0db","id":"7e27041fde704dafa3c57c0df71d7044","name":"32465665ba4e4f4d87881592d702b0db"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__eedb89eec434061083aa90ac33d18faf","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__eedb89eec434061083aa90ac33d18faf</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:11:00</sys_created_on><sys_domain>global</sys_domain><sys_id>32db89ee47340610c2e1a3e7826d43b4</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_32db89ee47340610c2e1a3e7826d43b4</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:11:00</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1101188625</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>ec7c75a247380610c2e1a3e7826d4364</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e280f12be0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>72db89ee7334061063ad0ab6d3555db5</update_guid>
<update_guid_history>72db89ee7334061063ad0ab6d3555db5:1101188625</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_a15dada247f40610c2e1a3e7826d43b8</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__615dada240f406109ec85de088cf94b4">255dada247f40610c2e1a3e7826d43b5</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"0db6f619696f431aa5cdbca2c78d55dc","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"0db6f619696f431aa5cdbca2c78d55dc"}],"goals":[{"name":"primary","trigger_id":"0db6f619696f431aa5cdbca2c78d55dc","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"519b26724b554881867a5ff5f4b505a1","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"3e61083a8c944682aaf134994a74c675","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"519b26724b554881867a5ff5f4b505a1","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"519b26724b554881867a5ff5f4b505a1"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"3e61083a8c944682aaf134994a74c675","id":"7e27041fde704dafa3c57c0df71d7044","name":"3e61083a8c944682aaf134994a74c675"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__615dada240f406109ec85de088cf94b4","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__615dada240f406109ec85de088cf94b4</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:37:17</sys_created_on><sys_domain>global</sys_domain><sys_id>a15dada247f40610c2e1a3e7826d43b8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_a15dada247f40610c2e1a3e7826d43b8</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:37:17</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-1111521461</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f07c712647380610c2e1a3e7826d4328</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2894ff030000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>e15dada2faf40610972e08cb558140b9</update_guid>
<update_guid_history>e15dada2faf40610972e08cb558140b9:-1111521461</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_da178d6a47340610c2e1a3e7826d4310</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__8a178d6a5f34061092b4453cad651a0c">5e178d6a47340610c2e1a3e7826d430d</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"1b1fe5e701ab46b8b4591e155e5334e1","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"1b1fe5e701ab46b8b4591e155e5334e1"}],"goals":[{"name":"primary","trigger_id":"1b1fe5e701ab46b8b4591e155e5334e1","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"600d9f73ae6f4dda9c0977db5129a8ea","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"47155b97d5004dbeb452d6c0b9b12df6","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    vaVars.Request  = JSON.stringify(user_output);\n    vaVars.Continue_Conversation  = JSON.stringify(user_output);\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"600d9f73ae6f4dda9c0977db5129a8ea","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"600d9f73ae6f4dda9c0977db5129a8ea"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"47155b97d5004dbeb452d6c0b9b12df6","id":"7e27041fde704dafa3c57c0df71d7044","name":"47155b97d5004dbeb452d6c0b9b12df6"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__8a178d6a5f34061092b4453cad651a0c","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    vaVars.Request  = JSON.stringify(user_output);\n    vaVars.Continue_Conversation  = JSON.stringify(user_output);\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__8a178d6a5f34061092b4453cad651a0c</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:50:12</sys_created_on><sys_domain>global</sys_domain><sys_id>da178d6a47340610c2e1a3e7826d4310</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_da178d6a47340610c2e1a3e7826d4310</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:50:12</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-888944192</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f07c712647380610c2e1a3e7826d432b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27fc0a7c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>1e178d6a3b340610418f6607b8a4d311</update_guid>
<update_guid_history>1e178d6a3b340610418f6607b8a4d311:-888944192</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_16aeede247f40610c2e1a3e7826d4394</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT - Topic Block">d6bfd8e247b00610c2e1a3e7826d4367</cb_topic_id><channels/><definition>{"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__52aeede215f40610439286a42028db93","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__52aeede215f40610439286a42028db93","applicability":"true","categories":[],"key_phrases":[],"variables":[{"name":"Output","type":"java.lang.Object"},{"name":"_reusable_topic_outputs_var","type":"java.lang.Object","init_value":"(function execute() {return JSON.stringify({\"populated\":false,\"values\":{\"output\":\"\"}})})()"},{"name":"__segment_trigger_8b4cd2b0a6004f1fbe08de5136cc7269_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"request","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_12aeede264f40610036469a01c85fb94","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Branch_RootDecisionBranch_deaeede2ecf40610cb4def25c9b17893","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_9eaeede21cf40610d2a986d9a0277d93","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_8b4cd2b0a6004f1fbe08de5136cc7269_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_12aeede264f40610036469a01c85fb94\");vaInputs.initialize(\"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355\");vaInputs.initialize(\"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_deaeede2ecf40610cb4def25c9b17893\");vaInputs.initialize(\"__silent_Decision_RootDecision_9eaeede21cf40610d2a986d9a0277d93\");vaInputs.initialize(\"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157\");vaInputs.initialize(\"request\");vaInputs.request=JSON.parse('\"[{\\\"role\\\": \\\"user\\\", \\\"content\\\": \\\"Tell me about React JS\\\"}]\"');null;","fields":[{"name":"__silent_Decision_RootDecision_9eaeede21cf40610d2a986d9a0277d93","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_9eaeede21cf40610d2a986d9a0277d93\";vaInputs.__silent_Decision_RootDecision_9eaeede21cf40610d2a986d9a0277d93=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_9eaeede21cf40610d2a986d9a0277d93\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_12aeede264f40610036469a01c85fb94=true;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_9eaeede21cf40610d2a986d9a0277d93","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_deaeede2ecf40610cb4def25c9b17893","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_deaeede2ecf40610cb4def25c9b17893","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_9eaeede21cf40610d2a986d9a0277d93\" &amp;&amp; ((vaInputs.RootDecisionBranch_12aeede264f40610036469a01c85fb94.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_deaeede2ecf40610cb4def25c9b17893___RootDecisionBranch_deaeede2ecf40610cb4def25c9b17893\";vaInputs.__silent_Branch_RootDecisionBranch_deaeede2ecf40610cb4def25c9b17893=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_deaeede2ecf40610cb4def25c9b17893___RootDecisionBranch_deaeede2ecf40610cb4def25c9b17893\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_deaeede2ecf40610cb4def25c9b17893","node_name":"RootDecisionBranch_deaeede2ecf40610cb4def25c9b17893","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_deaeede2ecf40610cb4def25c9b17893___RootDecisionBranch_deaeede2ecf40610cb4def25c9b17893\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";vaInputs.__silent_StartGoal_a1f501f41a974866b3bda69f922f4680=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"a1f501f41a974866b3bda69f922f4680","node_name":"Start","predecessor_nodes":["RootDecisionBranch_deaeede2ecf40610cb4def25c9b17893"],"next_node":"Continue Conversation","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","applicable":"vaVars.previous_graph_node==\"Start___a1f501f41a974866b3bda69f922f4680\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";(function execute() {(function execute() {\n\nvar request = vaInputs.request.toString();\nvar array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', array);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n var output = parsedBody.choices[0].message.content;\n vaVars.Output.u_your_answer = output.trim();\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = JSON.stringify(message);\n}\n\n})()\n;})();vaInputs.__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"27d00bf90d7249c9abffba1e26630355","node_name":"Continue Conversation","predecessor_nodes":["Start"],"next_node":"End","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","applicable":"vaVars.previous_graph_node==\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";vaInputs.__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_8b4cd2b0a6004f1fbe08de5136cc7269_done=true;(function execute() {var tmp={values:{}};tmp.values.output=vaVars.Output;tmp.populated=true;vaVars._reusable_topic_outputs_var=JSON.stringify(tmp);})();ackMsg;","metadata":{"type":"graph_node","node_id":"5115d1d54b7a4c0c8e2f5717958b3157","node_name":"End","predecessor_nodes":["Continue Conversation"],"node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[],"confirmation_msg":"gs.getMessageLang('[PREVIEW ONLY] The topic return values are: {0}', vaContext.getRequesterLang(), JSON.stringify(JSON.parse(vaVars._reusable_topic_outputs_var).values));"}],"roles":[],"active":true,"published":false,"library":true,"expose_on_palette":false,"palette_label":"ChatGPT - Topic Block","flexible_conversation_switching":true,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"TOPIC_BLOCK","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT - Topic Block","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases/><last_published_on>2024-03-10 13:43:04</last_published_on><library>true</library><library_usage>{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"[{\\\"role\\\": \\\"user\\\", \\\"content\\\": \\\"Tell me about React JS\\\"}]\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","mode":"string","value":"{{vaVars.Output}}"}}]}</library_usage><metaphone/><name>_PRVW__52aeede215f40610439286a42028db93</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label>ChatGPT - Topic Block</palette_label><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:43:04</sys_created_on><sys_domain>global</sys_domain><sys_id>16aeede247f40610c2e1a3e7826d4394</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__52aeede215f40610439286a42028db93</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_16aeede247f40610c2e1a3e7826d4394</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:43:04</sys_updated_on><title>ChatGPT - Topic Block</title><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=16aeede247f40610c2e1a3e7826d4394"/></record_update>]]></payload>
<payload_hash>2058062491</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f07c712647380610c2e1a3e7826d432e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e289a4ddf0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__52aeede215f40610439286a42028db93</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>eaaeede27df40610df60e86c32c51295</update_guid>
<update_guid_history>eaaeede27df40610df60e86c32c51295:2058062491</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_510619ea47740610c2e1a3e7826d4360</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT - Topic Block">d6bfd8e247b00610c2e1a3e7826d4367</cb_topic_id><channels/><definition>{"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__9d0619eade740610496479d1707c4e5e","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__9d0619eade740610496479d1707c4e5e","applicability":"true","categories":[],"key_phrases":[],"variables":[{"name":"Output","type":"java.lang.Object"},{"name":"_reusable_topic_outputs_var","type":"java.lang.Object","init_value":"(function execute() {return JSON.stringify({\"populated\":false,\"values\":{\"output\":\"\"}})})()"},{"name":"__segment_trigger_ab9a88f1039b4302870c7e7b955ee43c_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"request","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_5d0619ea6f7406102f8adc065b1b085f","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Branch_RootDecisionBranch_1d0619eab6740610ece821369eb7fb5f","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_d90619eab3740610ed3915b9c262635f","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_ab9a88f1039b4302870c7e7b955ee43c_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_5d0619ea6f7406102f8adc065b1b085f\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_1d0619eab6740610ece821369eb7fb5f\");vaInputs.initialize(\"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680\");vaInputs.initialize(\"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355\");vaInputs.initialize(\"__silent_Decision_RootDecision_d90619eab3740610ed3915b9c262635f\");vaInputs.initialize(\"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157\");vaInputs.initialize(\"request\");vaInputs.request=JSON.parse('\"\"');null;","fields":[{"name":"__silent_Decision_RootDecision_d90619eab3740610ed3915b9c262635f","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_d90619eab3740610ed3915b9c262635f\";vaInputs.__silent_Decision_RootDecision_d90619eab3740610ed3915b9c262635f=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_d90619eab3740610ed3915b9c262635f\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_5d0619ea6f7406102f8adc065b1b085f=true;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_d90619eab3740610ed3915b9c262635f","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_1d0619eab6740610ece821369eb7fb5f","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_1d0619eab6740610ece821369eb7fb5f","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_d90619eab3740610ed3915b9c262635f\" &amp;&amp; ((vaInputs.RootDecisionBranch_5d0619ea6f7406102f8adc065b1b085f.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_1d0619eab6740610ece821369eb7fb5f___RootDecisionBranch_1d0619eab6740610ece821369eb7fb5f\";vaInputs.__silent_Branch_RootDecisionBranch_1d0619eab6740610ece821369eb7fb5f=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_1d0619eab6740610ece821369eb7fb5f___RootDecisionBranch_1d0619eab6740610ece821369eb7fb5f\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_1d0619eab6740610ece821369eb7fb5f","node_name":"RootDecisionBranch_1d0619eab6740610ece821369eb7fb5f","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_1d0619eab6740610ece821369eb7fb5f___RootDecisionBranch_1d0619eab6740610ece821369eb7fb5f\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";vaInputs.__silent_StartGoal_a1f501f41a974866b3bda69f922f4680=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"a1f501f41a974866b3bda69f922f4680","node_name":"Start","predecessor_nodes":["RootDecisionBranch_1d0619eab6740610ece821369eb7fb5f"],"next_node":"Continue Conversation","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","applicable":"vaVars.previous_graph_node==\"Start___a1f501f41a974866b3bda69f922f4680\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";(function execute() {(function execute() {\n\nvar request = vaInputs.request;\nvar array = request.split(',');\nvar payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n//  try { \n//  var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n//  r.setStringParameterNoEscape('payload', payload);\n\n//  var response = r.execute();\n//  var responseBody = response.getBody();\n//  var httpStatus = response.getStatusCode();\n// vaVars.Output = responseBody.toString();\n\n// }\n// catch(ex) {\n//  var message = ex.message;\n// }\n\n\n})()\n;})();vaInputs.__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"27d00bf90d7249c9abffba1e26630355","node_name":"Continue Conversation","predecessor_nodes":["Start"],"next_node":"End","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","applicable":"vaVars.previous_graph_node==\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";vaInputs.__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_ab9a88f1039b4302870c7e7b955ee43c_done=true;(function execute() {var tmp={values:{}};tmp.values.output=vaVars.Output;tmp.populated=true;vaVars._reusable_topic_outputs_var=JSON.stringify(tmp);})();ackMsg;","metadata":{"type":"graph_node","node_id":"5115d1d54b7a4c0c8e2f5717958b3157","node_name":"End","predecessor_nodes":["Continue Conversation"],"node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[],"confirmation_msg":"gs.getMessageLang('[PREVIEW ONLY] The topic return values are: {0}', vaContext.getRequesterLang(), JSON.stringify(JSON.parse(vaVars._reusable_topic_outputs_var).values));"}],"roles":[],"active":true,"published":false,"library":true,"expose_on_palette":false,"palette_label":"ChatGPT - Topic Block","flexible_conversation_switching":true,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"TOPIC_BLOCK","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT - Topic Block","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases/><last_published_on>2024-03-10 11:55:24</last_published_on><library>true</library><library_usage>{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","mode":"string","value":"{{vaVars.Output}}"}}]}</library_usage><metaphone/><name>_PRVW__9d0619eade740610496479d1707c4e5e</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label>ChatGPT - Topic Block</palette_label><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:55:24</sys_created_on><sys_domain>global</sys_domain><sys_id>510619ea47740610c2e1a3e7826d4360</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__9d0619eade740610496479d1707c4e5e</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_510619ea47740610c2e1a3e7826d4360</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:55:24</sys_updated_on><title>ChatGPT - Topic Block</title><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=510619ea47740610c2e1a3e7826d4360"/></record_update>]]></payload>
<payload_hash>-91530821</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f07c712647380610c2e1a3e7826d4331</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2837bb380000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__9d0619eade740610496479d1707c4e5e</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>190619ea0f740610f41eeb775b2b7a61</update_guid>
<update_guid_history>190619ea0f740610f41eeb775b2b7a61:-91530821</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_817371e647f40610c2e1a3e7826d43a0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__057371e600f4061060fe607b13ffc69e","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__057371e600f4061060fe607b13ffc69e","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_4bd380d8cba74e5f86faebc56a52eaab_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_857371e60cf4061058cd91eea6ecdd9f","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_57176f8fc142437dada40e1ace22addc","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_56c554747d604a378b7d808bf638d1ab","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_457371e642f40610234f53c8ab9cf19f","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_057371e68bf40610d3d14719ecff759f","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_4bd380d8cba74e5f86faebc56a52eaab_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_857371e60cf4061058cd91eea6ecdd9f\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_457371e642f40610234f53c8ab9cf19f\");vaInputs.initialize(\"__silent_Branch_57176f8fc142437dada40e1ace22addc\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_RootDecision_057371e68bf40610d3d14719ecff759f\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Branch_56c554747d604a378b7d808bf638d1ab\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_057371e68bf40610d3d14719ecff759f","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_057371e68bf40610d3d14719ecff759f\";vaInputs.__silent_Decision_RootDecision_057371e68bf40610d3d14719ecff759f=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_057371e68bf40610d3d14719ecff759f\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_857371e60cf4061058cd91eea6ecdd9f=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_457371e642f40610234f53c8ab9cf19f.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_057371e68bf40610d3d14719ecff759f","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_457371e642f40610234f53c8ab9cf19f","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_457371e642f40610234f53c8ab9cf19f","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_057371e68bf40610d3d14719ecff759f\" &amp;&amp; ((vaInputs.RootDecisionBranch_857371e60cf4061058cd91eea6ecdd9f.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_457371e642f40610234f53c8ab9cf19f___RootDecisionBranch_457371e642f40610234f53c8ab9cf19f\";vaInputs.__silent_Branch_RootDecisionBranch_457371e642f40610234f53c8ab9cf19f=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_457371e642f40610234f53c8ab9cf19f___RootDecisionBranch_457371e642f40610234f53c8ab9cf19f\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_457371e642f40610234f53c8ab9cf19f","node_name":"RootDecisionBranch_457371e642f40610234f53c8ab9cf19f","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_457371e642f40610234f53c8ab9cf19f___RootDecisionBranch_457371e642f40610234f53c8ab9cf19f\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_457371e642f40610234f53c8ab9cf19f"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_57176f8fc142437dada40e1ace22addc.reset();})();(function() {vaInputs.__silent_Branch_56c554747d604a378b7d808bf638d1ab.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_57176f8fc142437dada40e1ace22addc.reset();})();(function() {vaInputs.__silent_Branch_56c554747d604a378b7d808bf638d1ab.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_57176f8fc142437dada40e1ace22addc","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___57176f8fc142437dada40e1ace22addc\";vaInputs.__silent_Branch_57176f8fc142437dada40e1ace22addc=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___57176f8fc142437dada40e1ace22addc\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"57176f8fc142437dada40e1ace22addc","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_56c554747d604a378b7d808bf638d1ab","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___56c554747d604a378b7d808bf638d1ab\";vaInputs.__silent_Branch_56c554747d604a378b7d808bf638d1ab=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___56c554747d604a378b7d808bf638d1ab\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"56c554747d604a378b7d808bf638d1ab","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___56c554747d604a378b7d808bf638d1ab\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___57176f8fc142437dada40e1ace22addc\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_4bd380d8cba74e5f86faebc56a52eaab_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 14:04:00</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__057371e600f4061060fe607b13ffc69e</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:04:00</sys_created_on><sys_domain>global</sys_domain><sys_id>817371e647f40610c2e1a3e7826d43a0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__057371e600f4061060fe607b13ffc69e</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_817371e647f40610c2e1a3e7826d43a0</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:04:00</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=817371e647f40610c2e1a3e7826d43a0"/></record_update>]]></payload>
<payload_hash>-749078431</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f07c712647380610c2e1a3e7826d4334</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28ad79970000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__057371e600f4061060fe607b13ffc69e</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>9973f5aad1f406104c961e7fb4dcf3ab</update_guid>
<update_guid_history>9973f5aad1f406104c961e7fb4dcf3ab:-749078431</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_d9f7dd6e47740610c2e1a3e7826d43ba</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__19f7dd6e71740610c38b21f1c9e0d2b9","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__19f7dd6e71740610c38b21f1c9e0d2b9","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_15b871c575044788a0463b3284c307f5_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_19f7dd6e9074061059d9ab08142a51ba","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Branch_ab19acc2b8924345a2d2bf3656a57ff2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_67729c3cdd1141f1bff9512bdc1400c8","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_95f7dd6eb2740610c1fbc6631cfc13ba","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_d5f7dd6e337406104856dae6376f0aba","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_15b871c575044788a0463b3284c307f5_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_19f7dd6e9074061059d9ab08142a51ba\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Branch_ab19acc2b8924345a2d2bf3656a57ff2\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Branch_67729c3cdd1141f1bff9512bdc1400c8\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_d5f7dd6e337406104856dae6376f0aba\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Decision_RootDecision_95f7dd6eb2740610c1fbc6631cfc13ba\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");null;","fields":[{"name":"__silent_Decision_RootDecision_95f7dd6eb2740610c1fbc6631cfc13ba","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_95f7dd6eb2740610c1fbc6631cfc13ba\";vaInputs.__silent_Decision_RootDecision_95f7dd6eb2740610c1fbc6631cfc13ba=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_95f7dd6eb2740610c1fbc6631cfc13ba\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_19f7dd6e9074061059d9ab08142a51ba=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_d5f7dd6e337406104856dae6376f0aba.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_95f7dd6eb2740610c1fbc6631cfc13ba","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_d5f7dd6e337406104856dae6376f0aba","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_d5f7dd6e337406104856dae6376f0aba","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_95f7dd6eb2740610c1fbc6631cfc13ba\" &amp;&amp; ((vaInputs.RootDecisionBranch_19f7dd6e9074061059d9ab08142a51ba.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_d5f7dd6e337406104856dae6376f0aba___RootDecisionBranch_d5f7dd6e337406104856dae6376f0aba\";vaInputs.__silent_Branch_RootDecisionBranch_d5f7dd6e337406104856dae6376f0aba=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_d5f7dd6e337406104856dae6376f0aba___RootDecisionBranch_d5f7dd6e337406104856dae6376f0aba\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_d5f7dd6e337406104856dae6376f0aba","node_name":"RootDecisionBranch_d5f7dd6e337406104856dae6376f0aba","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_d5f7dd6e337406104856dae6376f0aba___RootDecisionBranch_d5f7dd6e337406104856dae6376f0aba\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_d5f7dd6e337406104856dae6376f0aba"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_ab19acc2b8924345a2d2bf3656a57ff2.reset();})();(function() {vaInputs.__silent_Branch_67729c3cdd1141f1bff9512bdc1400c8.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_ab19acc2b8924345a2d2bf3656a57ff2.reset();})();(function() {vaInputs.__silent_Branch_67729c3cdd1141f1bff9512bdc1400c8.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_ab19acc2b8924345a2d2bf3656a57ff2","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___ab19acc2b8924345a2d2bf3656a57ff2\";vaInputs.__silent_Branch_ab19acc2b8924345a2d2bf3656a57ff2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___ab19acc2b8924345a2d2bf3656a57ff2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"ab19acc2b8924345a2d2bf3656a57ff2","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_67729c3cdd1141f1bff9512bdc1400c8","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___67729c3cdd1141f1bff9512bdc1400c8\";vaInputs.__silent_Branch_67729c3cdd1141f1bff9512bdc1400c8=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___67729c3cdd1141f1bff9512bdc1400c8\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"67729c3cdd1141f1bff9512bdc1400c8","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___67729c3cdd1141f1bff9512bdc1400c8\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___ab19acc2b8924345a2d2bf3656a57ff2\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_15b871c575044788a0463b3284c307f5_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 12:03:52</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__19f7dd6e71740610c38b21f1c9e0d2b9</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:03:52</sys_created_on><sys_domain>global</sys_domain><sys_id>d9f7dd6e47740610c2e1a3e7826d43ba</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__19f7dd6e71740610c38b21f1c9e0d2b9</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_d9f7dd6e47740610c2e1a3e7826d43ba</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:03:52</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=d9f7dd6e47740610c2e1a3e7826d43ba"/></record_update>]]></payload>
<payload_hash>879643272</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f07c712647380610c2e1a3e7826d4337</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e283f7b800000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__19f7dd6e71740610c38b21f1c9e0d2b9</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>91f7dd6e1d7406107de283a1ca6b26bc</update_guid>
<update_guid_history>91f7dd6e1d7406107de283a1ca6b26bc:879643272</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_0e8b78a247340610c2e1a3e7826d4359</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__0e8b78ee89f006105e0314f557b1ccf4">0a8b78a247340610c2e1a3e7826d4354</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:59:41</sys_created_on><sys_domain>global</sys_domain><sys_id>0e8b78a247340610c2e1a3e7826d4359</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_0e8b78a247340610c2e1a3e7826d4359</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:59:41</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-1486838337</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f07c712647380610c2e1a3e7826d433a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27cdc7ff0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>4e8b78a26e340610405734fc9329ba5a</update_guid>
<update_guid_history>4e8b78a26e340610405734fc9329ba5a:-1486838337</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_5d73f5aa47f40610c2e1a3e7826d43b1</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__057371e600f4061060fe607b13ffc69e">817371e647f40610c2e1a3e7826d43a0</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:04:01</sys_created_on><sys_domain>global</sys_domain><sys_id>5d73f5aa47f40610c2e1a3e7826d43b1</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_5d73f5aa47f40610c2e1a3e7826d43b1</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:04:01</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>668442757</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f07c712647380610c2e1a3e7826d433d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28ad7a2c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>5573f5aaa5f406108cea8a66eeee61b4</update_guid>
<update_guid_history>5573f5aaa5f406108cea8a66eeee61b4:668442757</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_b6db89ee47340610c2e1a3e7826d43b6</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__eedb89eec434061083aa90ac33d18faf">b2db89ee47340610c2e1a3e7826d43b1</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:11:00</sys_created_on><sys_domain>global</sys_domain><sys_id>b6db89ee47340610c2e1a3e7826d43b6</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_b6db89ee47340610c2e1a3e7826d43b6</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:11:00</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-1673977737</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f07c712647380610c2e1a3e7826d4340</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e280f12ee0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>f6db89ee233406105f6d0e13903d87b7</update_guid>
<update_guid_history>f6db89ee233406105f6d0e13903d87b7:-1673977737</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_nlu_model_da27786e47f00610c2e1a3e7826d4339</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_nlu_model"><sys_nlu_model action="INSERT_OR_UPDATE"><category>virtual_agent</category><confidence_threshold>0.65</confidence_threshold><description/><display_name>VA GPT</display_name><ignore_punctuation>true</ignore_punctuation><language>en</language><last_translated_on/><model_domain/><name>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</name><oob>false</oob><primary_model/><state>Draft</state><sys_class_name>sys_nlu_model</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:40:35</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>da27786e47f00610c2e1a3e7826d4339</sys_id><sys_mod_count>1</sys_mod_count><sys_name>VA GPT</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_nlu_model_da27786e47f00610c2e1a3e7826d4339</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:40:36</sys_updated_on><threshold_type>automatic</threshold_type><vocabulary_needs_review>false</vocabulary_needs_review></sys_nlu_model></record_update>]]></payload>
<payload_hash>1226297669</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f07c712647380610c2e1a3e7826d4343</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bc4f830000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>VA GPT</target_name>
<type>NLU Model</type>
<update_domain>global</update_domain>
<update_guid>ea27b86ecdf00610a5b886f475435ab5</update_guid>
<update_guid_history>ea27b86ecdf00610a5b886f475435ab5:1226297669,2a27f86e93f00610b47b201a7c29717a:268857165</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_ui_message_a136702e47f00610c2e1a3e7826d434b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_message"><sys_ui_message action="INSERT_OR_UPDATE"><application>Virtual Agent</application><code/><commented_message/><key>chatgpt</key><language>en</language><message>ChatGPT</message><sys_class_name>sys_ui_message</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:36:26</sys_created_on><sys_id>a136702e47f00610c2e1a3e7826d434b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>chatgpt</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_ui_message_a136702e47f00610c2e1a3e7826d434b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:36:26</sys_updated_on></sys_ui_message></record_update>]]></payload>
<payload_hash>-1513820337</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f07c712647380610c2e1a3e7826d4346</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27b87e610000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>chatgpt</target_name>
<type>Message</type>
<update_domain>global</update_domain>
<update_guid>e136702ebdf00610875c12dcdd52194c</update_guid>
<update_guid_history>e136702ebdf00610875c12dcdd52194c:-1513820337</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_978878ee47f00610c2e1a3e7826d4371</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__4f8878ee91f00610a11c9740ee5fcd6c">438878ee47f00610c2e1a3e7826d436e</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"8aa12b1c815b493eb763c0f5dc41fe9f","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"8aa12b1c815b493eb763c0f5dc41fe9f"}],"goals":[{"name":"primary","trigger_id":"8aa12b1c815b493eb763c0f5dc41fe9f","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"b11df0ba44024fb2a58d7492ae97e06b","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"6c44413ff0614bd6bd822ccd6f04be45","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    if (orignal_obj.length &gt; 0) {\n        message.push(orignal_obj);   // push initial or old data if exists\n    }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    if (gpt_response) {\n        var new_assistant_obj = {\n            \"role\": \"assistant\",\n            \"content\": gpt_response\n        };\n        message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    }\n\n    vaVars.Request = message.toString();\n\n})()\n","id":"778b69bb03ad4167a9a7a1246ade5a8d","name":"Parse Data Into 1 JSON","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"b11df0ba44024fb2a58d7492ae97e06b","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"b11df0ba44024fb2a58d7492ae97e06b"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"6c44413ff0614bd6bd822ccd6f04be45","id":"7e27041fde704dafa3c57c0df71d7044","name":"6c44413ff0614bd6bd822ccd6f04be45"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"778b69bb03ad4167a9a7a1246ade5a8d","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"778b69bb03ad4167a9a7a1246ade5a8d","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"6d31c36a4f734fe4a0789b67028e593a"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation_JSON","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__4f8878ee91f00610a11c9740ee5fcd6c","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "778b69bb03ad4167a9a7a1246ade5a8d": {
          "id": "778b69bb03ad4167a9a7a1246ade5a8d",
          "name": "Parse Data Into 1 JSON",
          "script": "(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    if (orignal_obj.length &gt; 0) {\n        message.push(orignal_obj);   // push initial or old data if exists\n    }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    if (gpt_response) {\n        var new_assistant_obj = {\n            \"role\": \"assistant\",\n            \"content\": gpt_response\n        };\n        message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    }\n\n    vaVars.Request = message.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": false
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "778b69bb03ad4167a9a7a1246ade5a8d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "6d31c36a4f734fe4a0789b67028e593a",
          "edgeType": "Edge",
          "source": "778b69bb03ad4167a9a7a1246ade5a8d",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation_JSON",
      "label": "Continue_Conversation_JSON",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": false,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__4f8878ee91f00610a11c9740ee5fcd6c</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:46:39</sys_created_on><sys_domain>global</sys_domain><sys_id>978878ee47f00610c2e1a3e7826d4371</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_978878ee47f00610c2e1a3e7826d4371</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:46:39</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>310649364</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f47c712647380610c2e1a3e7826d4327</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27c1d95a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>9b8878ee75f00610e82c051890934372</update_guid>
<update_guid_history>9b8878ee75f00610e82c051890934372:310649364</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_cc29152247b40610c2e1a3e7826d43e9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__8c2915221eb4061085225a657b3153e5">4029152247b40610c2e1a3e7826d43e7</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"342742cdb797403ba72dfdedabb20418","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"342742cdb797403ba72dfdedabb20418"}],"goals":[{"name":"primary","trigger_id":"342742cdb797403ba72dfdedabb20418","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"7be174b39a2940e8832edf0b67f096ce","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"06cb722db93a43b99f4191586c5e9dfb","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"7be174b39a2940e8832edf0b67f096ce","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"7be174b39a2940e8832edf0b67f096ce"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"06cb722db93a43b99f4191586c5e9dfb","id":"7e27041fde704dafa3c57c0df71d7044","name":"06cb722db93a43b99f4191586c5e9dfb"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__8c2915221eb4061085225a657b3153e5","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__8c2915221eb4061085225a657b3153e5</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:08:59</sys_created_on><sys_domain>global</sys_domain><sys_id>cc29152247b40610c2e1a3e7826d43e9</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_cc29152247b40610c2e1a3e7826d43e9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:08:59</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>777440183</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f47c712647380610c2e1a3e7826d432a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e284428e90000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>882959221ab40610ba86ef31ec78b718</update_guid>
<update_guid_history>882959221ab40610ba86ef31ec78b718:777440183</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_topic_language_54c7b8ae47f00610c2e1a3e7826d43cd</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_topic_language"><sys_cb_topic_language action="INSERT_OR_UPDATE"><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cb_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:43:11</sys_created_on><sys_domain>global</sys_domain><sys_id>54c7b8ae47f00610c2e1a3e7826d43cd</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_topic_language_54c7b8ae47f00610c2e1a3e7826d43cd</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:43:11</sys_updated_on></sys_cb_topic_language></record_update>]]></payload>
<payload_hash>-1221327470</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f47c712647380610c2e1a3e7826d432d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bead000000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CB Topic Language</type>
<update_domain>global</update_domain>
<update_guid>d4c7b8aec2f00610351c8d12ab678fcf</update_guid>
<update_guid_history>d4c7b8aec2f00610351c8d12ab678fcf:-1221327470</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_4029152247b40610c2e1a3e7826d43e7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__8c2915221eb4061085225a657b3153e5","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__8c2915221eb4061085225a657b3153e5","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_342742cdb797403ba72dfdedabb20418_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_8c29152231b40610aee751581e96cde6","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_0c29152293b406106e1ca6c6f20775e6","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_06cb722db93a43b99f4191586c5e9dfb","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_4c29152224b40610b537b99685f1dee6","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_7be174b39a2940e8832edf0b67f096ce","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_342742cdb797403ba72dfdedabb20418_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_8c29152231b40610aee751581e96cde6\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Branch_7be174b39a2940e8832edf0b67f096ce\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Branch_06cb722db93a43b99f4191586c5e9dfb\");vaInputs.initialize(\"__silent_Decision_RootDecision_0c29152293b406106e1ca6c6f20775e6\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_4c29152224b40610b537b99685f1dee6\");null;","fields":[{"name":"__silent_Decision_RootDecision_0c29152293b406106e1ca6c6f20775e6","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_0c29152293b406106e1ca6c6f20775e6\";vaInputs.__silent_Decision_RootDecision_0c29152293b406106e1ca6c6f20775e6=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_0c29152293b406106e1ca6c6f20775e6\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_8c29152231b40610aee751581e96cde6=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_4c29152224b40610b537b99685f1dee6.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_0c29152293b406106e1ca6c6f20775e6","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_4c29152224b40610b537b99685f1dee6","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_4c29152224b40610b537b99685f1dee6","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_0c29152293b406106e1ca6c6f20775e6\" &amp;&amp; ((vaInputs.RootDecisionBranch_8c29152231b40610aee751581e96cde6.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_4c29152224b40610b537b99685f1dee6___RootDecisionBranch_4c29152224b40610b537b99685f1dee6\";vaInputs.__silent_Branch_RootDecisionBranch_4c29152224b40610b537b99685f1dee6=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_4c29152224b40610b537b99685f1dee6___RootDecisionBranch_4c29152224b40610b537b99685f1dee6\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_4c29152224b40610b537b99685f1dee6","node_name":"RootDecisionBranch_4c29152224b40610b537b99685f1dee6","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_4c29152224b40610b537b99685f1dee6___RootDecisionBranch_4c29152224b40610b537b99685f1dee6\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_4c29152224b40610b537b99685f1dee6"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_06cb722db93a43b99f4191586c5e9dfb.reset();})();(function() {vaInputs.__silent_Branch_7be174b39a2940e8832edf0b67f096ce.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_06cb722db93a43b99f4191586c5e9dfb.reset();})();(function() {vaInputs.__silent_Branch_7be174b39a2940e8832edf0b67f096ce.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_7be174b39a2940e8832edf0b67f096ce","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___7be174b39a2940e8832edf0b67f096ce\";vaInputs.__silent_Branch_7be174b39a2940e8832edf0b67f096ce=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___7be174b39a2940e8832edf0b67f096ce\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"7be174b39a2940e8832edf0b67f096ce","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_06cb722db93a43b99f4191586c5e9dfb","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___06cb722db93a43b99f4191586c5e9dfb\";vaInputs.__silent_Branch_06cb722db93a43b99f4191586c5e9dfb=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___06cb722db93a43b99f4191586c5e9dfb\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"06cb722db93a43b99f4191586c5e9dfb","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___06cb722db93a43b99f4191586c5e9dfb\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___7be174b39a2940e8832edf0b67f096ce\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_342742cdb797403ba72dfdedabb20418_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 12:08:59</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__8c2915221eb4061085225a657b3153e5</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:08:59</sys_created_on><sys_domain>global</sys_domain><sys_id>4029152247b40610c2e1a3e7826d43e7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__8c2915221eb4061085225a657b3153e5</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_4029152247b40610c2e1a3e7826d43e7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:08:59</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=4029152247b40610c2e1a3e7826d43e7"/></record_update>]]></payload>
<payload_hash>-1759041154</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f47c712647380610c2e1a3e7826d4330</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e284428b10000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__8c2915221eb4061085225a657b3153e5</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>08291522eab406100a56b1a1d2dbfee8</update_guid>
<update_guid_history>08291522eab406100a56b1a1d2dbfee8:-1759041154</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_7910fd6647f40610c2e1a3e7826d43bc</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__b510fd66bcf406105adb4828d4e4e4bb","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__b510fd66bcf406105adb4828d4e4e4bb","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_775e6ebbc0f349979cd7b30c16bdfed8_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_b510fd66fcf406109439bbeac3876bbc","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_11a117cda78c47abb77d3c707465453b","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_7510fd66f8f40610d8def0a0923081bc","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_071111fa697c43cabb242df6bc43c610","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_3510fd66f3f406109307d3461df343bc","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_775e6ebbc0f349979cd7b30c16bdfed8_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_b510fd66fcf406109439bbeac3876bbc\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_11a117cda78c47abb77d3c707465453b\");vaInputs.initialize(\"__silent_Branch_071111fa697c43cabb242df6bc43c610\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_7510fd66f8f40610d8def0a0923081bc\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Decision_RootDecision_3510fd66f3f406109307d3461df343bc\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_3510fd66f3f406109307d3461df343bc","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_3510fd66f3f406109307d3461df343bc\";vaInputs.__silent_Decision_RootDecision_3510fd66f3f406109307d3461df343bc=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_3510fd66f3f406109307d3461df343bc\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_b510fd66fcf406109439bbeac3876bbc=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_7510fd66f8f40610d8def0a0923081bc.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_3510fd66f3f406109307d3461df343bc","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_7510fd66f8f40610d8def0a0923081bc","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_7510fd66f8f40610d8def0a0923081bc","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_3510fd66f3f406109307d3461df343bc\" &amp;&amp; ((vaInputs.RootDecisionBranch_b510fd66fcf406109439bbeac3876bbc.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_7510fd66f8f40610d8def0a0923081bc___RootDecisionBranch_7510fd66f8f40610d8def0a0923081bc\";vaInputs.__silent_Branch_RootDecisionBranch_7510fd66f8f40610d8def0a0923081bc=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_7510fd66f8f40610d8def0a0923081bc___RootDecisionBranch_7510fd66f8f40610d8def0a0923081bc\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_7510fd66f8f40610d8def0a0923081bc","node_name":"RootDecisionBranch_7510fd66f8f40610d8def0a0923081bc","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_7510fd66f8f40610d8def0a0923081bc___RootDecisionBranch_7510fd66f8f40610d8def0a0923081bc\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_7510fd66f8f40610d8def0a0923081bc"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_071111fa697c43cabb242df6bc43c610.reset();})();(function() {vaInputs.__silent_Branch_11a117cda78c47abb77d3c707465453b.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_071111fa697c43cabb242df6bc43c610.reset();})();(function() {vaInputs.__silent_Branch_11a117cda78c47abb77d3c707465453b.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_071111fa697c43cabb242df6bc43c610","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___071111fa697c43cabb242df6bc43c610\";vaInputs.__silent_Branch_071111fa697c43cabb242df6bc43c610=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___071111fa697c43cabb242df6bc43c610\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"071111fa697c43cabb242df6bc43c610","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_11a117cda78c47abb77d3c707465453b","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___11a117cda78c47abb77d3c707465453b\";vaInputs.__silent_Branch_11a117cda78c47abb77d3c707465453b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___11a117cda78c47abb77d3c707465453b\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"11a117cda78c47abb77d3c707465453b","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___11a117cda78c47abb77d3c707465453b\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___071111fa697c43cabb242df6bc43c610\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_775e6ebbc0f349979cd7b30c16bdfed8_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 13:49:19</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__b510fd66bcf406105adb4828d4e4e4bb</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:49:19</sys_created_on><sys_domain>global</sys_domain><sys_id>7910fd6647f40610c2e1a3e7826d43bc</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__b510fd66bcf406105adb4828d4e4e4bb</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_7910fd6647f40610c2e1a3e7826d43bc</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:49:19</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=7910fd6647f40610c2e1a3e7826d43bc"/></record_update>]]></payload>
<payload_hash>-1778096661</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f47c712647380610c2e1a3e7826d4333</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28a005330000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__b510fd66bcf406105adb4828d4e4e4bb</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>0210fd66def40610ca091d32daca19be</update_guid>
<update_guid_history>0210fd66def40610ca091d32daca19be:-1778096661</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_b4e85dee47740610c2e1a3e7826d439b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__f0e85dee0f740610c30940e1b087239a","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__f0e85dee0f740610c30940e1b087239a","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_0a303db124db42b092bc3da1f9b82f43_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_f0e85deee57406106835ff72a183c69b","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_b0e85dee8f740610fd8b8d568a8c919b","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_5b865336f8594c499470316948bae5db","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_a939e23f781047ca96117294dc3d33aa","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_70e85dee8474061062758f175c53859b","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_0a303db124db42b092bc3da1f9b82f43_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_f0e85deee57406106835ff72a183c69b\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_a939e23f781047ca96117294dc3d33aa\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Branch_5b865336f8594c499470316948bae5db\");vaInputs.initialize(\"__silent_Decision_RootDecision_70e85dee8474061062758f175c53859b\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_b0e85dee8f740610fd8b8d568a8c919b\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_70e85dee8474061062758f175c53859b","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_70e85dee8474061062758f175c53859b\";vaInputs.__silent_Decision_RootDecision_70e85dee8474061062758f175c53859b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_70e85dee8474061062758f175c53859b\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_f0e85deee57406106835ff72a183c69b=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_b0e85dee8f740610fd8b8d568a8c919b.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_70e85dee8474061062758f175c53859b","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_b0e85dee8f740610fd8b8d568a8c919b","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_b0e85dee8f740610fd8b8d568a8c919b","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_70e85dee8474061062758f175c53859b\" &amp;&amp; ((vaInputs.RootDecisionBranch_f0e85deee57406106835ff72a183c69b.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_b0e85dee8f740610fd8b8d568a8c919b___RootDecisionBranch_b0e85dee8f740610fd8b8d568a8c919b\";vaInputs.__silent_Branch_RootDecisionBranch_b0e85dee8f740610fd8b8d568a8c919b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_b0e85dee8f740610fd8b8d568a8c919b___RootDecisionBranch_b0e85dee8f740610fd8b8d568a8c919b\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_b0e85dee8f740610fd8b8d568a8c919b","node_name":"RootDecisionBranch_b0e85dee8f740610fd8b8d568a8c919b","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_b0e85dee8f740610fd8b8d568a8c919b___RootDecisionBranch_b0e85dee8f740610fd8b8d568a8c919b\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_b0e85dee8f740610fd8b8d568a8c919b"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_a939e23f781047ca96117294dc3d33aa.reset();})();(function() {vaInputs.__silent_Branch_5b865336f8594c499470316948bae5db.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_a939e23f781047ca96117294dc3d33aa.reset();})();(function() {vaInputs.__silent_Branch_5b865336f8594c499470316948bae5db.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_a939e23f781047ca96117294dc3d33aa","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___a939e23f781047ca96117294dc3d33aa\";vaInputs.__silent_Branch_a939e23f781047ca96117294dc3d33aa=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___a939e23f781047ca96117294dc3d33aa\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"a939e23f781047ca96117294dc3d33aa","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_5b865336f8594c499470316948bae5db","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___5b865336f8594c499470316948bae5db\";vaInputs.__silent_Branch_5b865336f8594c499470316948bae5db=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___5b865336f8594c499470316948bae5db\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"5b865336f8594c499470316948bae5db","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___5b865336f8594c499470316948bae5db\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___a939e23f781047ca96117294dc3d33aa\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_0a303db124db42b092bc3da1f9b82f43_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 12:07:56</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__f0e85dee0f740610c30940e1b087239a</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:07:56</sys_created_on><sys_domain>global</sys_domain><sys_id>b4e85dee47740610c2e1a3e7826d439b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__f0e85dee0f740610c30940e1b087239a</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_b4e85dee47740610c2e1a3e7826d439b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:07:56</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=b4e85dee47740610c2e1a3e7826d439b"/></record_update>]]></payload>
<payload_hash>-1935906299</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f47c712647380610c2e1a3e7826d4336</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e284332720000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__f0e85dee0f740610c30940e1b087239a</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>7ce85dee6b74061019225435752ef19c</update_guid>
<update_guid_history>7ce85dee6b74061019225435752ef19c:-1935906299</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_f7c7896e47340610c2e1a3e7826d4334</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__37c7896e213406102d792f4561cdf933","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__37c7896e213406102d792f4561cdf933","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_9c020f5e5c3f4f749c9bd3b6ba8604b7_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_37c7896e2034061035ad8efd8f36e734","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Branch_0d1318477859482a8afdcb154b0fbec2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_f3c7896e8b3406107ee18bbaee9d7a34","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_980ed9acc7bc4ebb8195568bbb6fc500","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_b3c7896e81340610815fd2f06326ba34","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_9c020f5e5c3f4f749c9bd3b6ba8604b7_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_37c7896e2034061035ad8efd8f36e734\");vaInputs.initialize(\"__silent_Decision_RootDecision_b3c7896e81340610815fd2f06326ba34\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Branch_980ed9acc7bc4ebb8195568bbb6fc500\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_f3c7896e8b3406107ee18bbaee9d7a34\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Branch_0d1318477859482a8afdcb154b0fbec2\");null;","fields":[{"name":"__silent_Decision_RootDecision_b3c7896e81340610815fd2f06326ba34","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_b3c7896e81340610815fd2f06326ba34\";vaInputs.__silent_Decision_RootDecision_b3c7896e81340610815fd2f06326ba34=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_b3c7896e81340610815fd2f06326ba34\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_37c7896e2034061035ad8efd8f36e734=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_f3c7896e8b3406107ee18bbaee9d7a34.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_b3c7896e81340610815fd2f06326ba34","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_f3c7896e8b3406107ee18bbaee9d7a34","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_f3c7896e8b3406107ee18bbaee9d7a34","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_b3c7896e81340610815fd2f06326ba34\" &amp;&amp; ((vaInputs.RootDecisionBranch_37c7896e2034061035ad8efd8f36e734.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_f3c7896e8b3406107ee18bbaee9d7a34___RootDecisionBranch_f3c7896e8b3406107ee18bbaee9d7a34\";vaInputs.__silent_Branch_RootDecisionBranch_f3c7896e8b3406107ee18bbaee9d7a34=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_f3c7896e8b3406107ee18bbaee9d7a34___RootDecisionBranch_f3c7896e8b3406107ee18bbaee9d7a34\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_f3c7896e8b3406107ee18bbaee9d7a34","node_name":"RootDecisionBranch_f3c7896e8b3406107ee18bbaee9d7a34","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_f3c7896e8b3406107ee18bbaee9d7a34___RootDecisionBranch_f3c7896e8b3406107ee18bbaee9d7a34\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_f3c7896e8b3406107ee18bbaee9d7a34"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    vaVars.Request  = JSON.stringify(user_output);\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.choice.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Choice","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_980ed9acc7bc4ebb8195568bbb6fc500.reset();})();(function() {vaInputs.__silent_Branch_0d1318477859482a8afdcb154b0fbec2.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Print Response"],"next_node":"Decision","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_980ed9acc7bc4ebb8195568bbb6fc500.reset();})();(function() {vaInputs.__silent_Branch_0d1318477859482a8afdcb154b0fbec2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_980ed9acc7bc4ebb8195568bbb6fc500","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___980ed9acc7bc4ebb8195568bbb6fc500\";vaInputs.__silent_Branch_980ed9acc7bc4ebb8195568bbb6fc500=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___980ed9acc7bc4ebb8195568bbb6fc500\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"980ed9acc7bc4ebb8195568bbb6fc500","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_0d1318477859482a8afdcb154b0fbec2","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___0d1318477859482a8afdcb154b0fbec2\";vaInputs.__silent_Branch_0d1318477859482a8afdcb154b0fbec2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___0d1318477859482a8afdcb154b0fbec2\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0d1318477859482a8afdcb154b0fbec2","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___0d1318477859482a8afdcb154b0fbec2\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___980ed9acc7bc4ebb8195568bbb6fc500\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_9c020f5e5c3f4f749c9bd3b6ba8604b7_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 10:53:19</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__37c7896e213406102d792f4561cdf933</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:53:19</sys_created_on><sys_domain>global</sys_domain><sys_id>f7c7896e47340610c2e1a3e7826d4334</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__37c7896e213406102d792f4561cdf933</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_f7c7896e47340610c2e1a3e7826d4334</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:53:19</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=f7c7896e47340610c2e1a3e7826d4334"/></record_update>]]></payload>
<payload_hash>-2134869952</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f47c712647380610c2e1a3e7826d4339</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27fee4740000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__37c7896e213406102d792f4561cdf933</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>bfc7896ebe3406106747301f2f994935</update_guid>
<update_guid_history>bfc7896ebe3406106747301f2f994935:-2134869952</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_4c907d6647f40610c2e1a3e7826d43e7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__b7807d6691f4061075ed5aeea03f78e1">7b807d6647f40610c2e1a3e7826d43e2</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:51:22</sys_created_on><sys_domain>global</sys_domain><sys_id>4c907d6647f40610c2e1a3e7826d43e7</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_4c907d6647f40610c2e1a3e7826d43e7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:51:22</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>2106618584</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f47c712647380610c2e1a3e7826d433c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28a1e65b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>8c907d66b7f406108782c39a4dd47de8</update_guid>
<update_guid_history>8c907d66b7f406108782c39a4dd47de8:2106618584</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_a5885dee47740610c2e1a3e7826d4338</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__dd885deef674061068a6657958d44331">91885dee47740610c2e1a3e7826d4333</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:06:21</sys_created_on><sys_domain>global</sys_domain><sys_id>a5885dee47740610c2e1a3e7826d4338</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_a5885dee47740610c2e1a3e7826d4338</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:06:21</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-386347341</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f47c712647380610c2e1a3e7826d433f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2841be6a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>e5885deed47406104c617c1c0eaf4539</update_guid>
<update_guid_history>e5885deed47406104c617c1c0eaf4539:-386347341</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_f74af56247380610c2e1a3e7826d43dd</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__f34a316e4ff40610f79f5358b723a891">f34af56247380610c2e1a3e7826d43d8</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:33:57</sys_created_on><sys_domain>global</sys_domain><sys_id>f74af56247380610c2e1a3e7826d43dd</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_f74af56247380610c2e1a3e7826d43dd</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:33:57</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>1143448146</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f47c712647380610c2e1a3e7826d4342</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28c8e2790000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>3b4af56222380610f7ea0fc9ebfc40de</update_guid>
<update_guid_history>3b4af56222380610f7ea0fc9ebfc40de:1143448146</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_ui_message_2ae0a4a647b00610c2e1a3e7826d43ab</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_message"><sys_ui_message action="INSERT_OR_UPDATE"><application>Virtual Agent</application><code/><commented_message/><key>describe</key><language>en</language><message>Describe</message><sys_class_name>sys_ui_message</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 08:03:23</sys_created_on><sys_id>2ae0a4a647b00610c2e1a3e7826d43ab</sys_id><sys_mod_count>0</sys_mod_count><sys_name>describe</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_ui_message_2ae0a4a647b00610c2e1a3e7826d43ab</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 08:03:23</sys_updated_on></sys_ui_message></record_update>]]></payload>
<payload_hash>-2146765147</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f47c712647380610c2e1a3e7826d4345</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27634e3c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>describe</target_name>
<type>Message</type>
<update_domain>global</update_domain>
<update_guid>26e0a4a6b2b006103479694b79dc1cad</update_guid>
<update_guid_history>26e0a4a6b2b006103479694b79dc1cad:-2146765147</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_87853d2e47f40610c2e1a3e7826d4341</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__c785fdeafaf406101bea33c95b214206">8b853d2e47f40610c2e1a3e7826d433e</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"070275ec6a814948a9005bc3e2ba2add","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"070275ec6a814948a9005bc3e2ba2add"}],"goals":[{"name":"primary","trigger_id":"070275ec6a814948a9005bc3e2ba2add","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"a1f501f41a974866b3bda69f922f4680","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"5115d1d54b7a4c0c8e2f5717958b3157","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n// var request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', [{ \"role\": \"user\", \"content\": \"Tell me about React JS\" }]);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n vaVars.Output = httpStatus.toString();\n gs.info('36358 - '+JSON.stringify(responseBody));\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = 'failure: '+ JSON.stringify(ex);\n}\n\n})()\n","id":"27d00bf90d7249c9abffba1e26630355","name":"Continue Conversation","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"27d00bf90d7249c9abffba1e26630355","target_node_id":"5115d1d54b7a4c0c8e2f5717958b3157","id":"49019a82541540bc840400911ef7a030"},{"type":"Edge","source_node_id":"a1f501f41a974866b3bda69f922f4680","target_node_id":"27d00bf90d7249c9abffba1e26630355","id":"7478d668356e446ab58435013b64513e"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Output","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"07ca374af3e94217bfa05558977275c1","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"request","list":false,"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","library-usage":{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Output}}"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__c785fdeafaf406101bea33c95b214206","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"csTopicId":"eae0a4a647b00610c2e1a3e7826d43af","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>d6bfd8e247b00610c2e1a3e7826d4367</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "a1f501f41a974866b3bda69f922f4680": {
          "id": "a1f501f41a974866b3bda69f922f4680",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "type": "String",
              "value": "",
              "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
              "name": "Request",
              "required": true,
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "1dc4bbfc8f5d4a2fbb244a5e87254429"
          ]
        },
        "5115d1d54b7a4c0c8e2f5717958b3157": {
          "id": "5115d1d54b7a4c0c8e2f5717958b3157",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "Output",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Output}}",
                        "displayValue": "Script Variables➛Output"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": false
            }
          ]
        },
        "27d00bf90d7249c9abffba1e26630355": {
          "id": "27d00bf90d7249c9abffba1e26630355",
          "name": "Continue Conversation",
          "script": "(function execute() {\n\n// var request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', [{ \"role\": \"user\", \"content\": \"Tell me about React JS\" }]);\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n vaVars.Output = httpStatus.toString();\n gs.info('36358 - '+JSON.stringify(responseBody));\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = 'failure: '+ JSON.stringify(ex);\n}\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "49019a82541540bc840400911ef7a030",
          "edgeType": "Edge",
          "source": "27d00bf90d7249c9abffba1e26630355",
          "target": "5115d1d54b7a4c0c8e2f5717958b3157",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7478d668356e446ab58435013b64513e",
          "edgeType": "Edge",
          "source": "a1f501f41a974866b3bda69f922f4680",
          "target": "27d00bf90d7249c9abffba1e26630355",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "07ca374af3e94217bfa05558977275c1": {
      "id": "07ca374af3e94217bfa05558977275c1",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Output",
      "label": "Output",
      "varType": "script",
      "category": "vaVars"
    },
    "1dc4bbfc8f5d4a2fbb244a5e87254429": {
      "id": "1dc4bbfc8f5d4a2fbb244a5e87254429",
      "name": "request",
      "label": "Request",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "a1f501f41a974866b3bda69f922f4680",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__c785fdeafaf406101bea33c95b214206</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:13:09</sys_created_on><sys_domain>global</sys_domain><sys_id>87853d2e47f40610c2e1a3e7826d4341</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_87853d2e47f40610c2e1a3e7826d4341</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:13:09</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1275637565</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f87c712647380610c2e1a3e7826d4326</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28b5d8340000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>47853d2e50f40610a72a0b46064fd742</update_guid>
<update_guid_history>47853d2e50f40610a72a0b46064fd742:1275637565</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_bf66382e47f00610c2e1a3e7826d43c4</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="ChatGPT">3366382e47f00610c2e1a3e7826d43c1</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"ff9db02673b04b3594fae807b7a1d29f","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"ff9db02673b04b3594fae807b7a1d29f"}],"goals":[{"name":"primary","trigger_id":"ff9db02673b04b3594fae807b7a1d29f","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"1550d231d0c049da9784c21c4673c8ed","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"09f28cfe21164c5cbcbb29b6c4371e8b","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"1550d231d0c049da9784c21c4673c8ed","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"1550d231d0c049da9784c21c4673c8ed"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"09f28cfe21164c5cbcbb29b6c4371e8b","id":"7e27041fde704dafa3c57c0df71d7044","name":"09f28cfe21164c5cbcbb29b6c4371e8b"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"ChatGPT","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>ChatGPT</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:37:25</sys_created_on><sys_domain>global</sys_domain><sys_id>bf66382e47f00610c2e1a3e7826d43c4</sys_id><sys_mod_count>2</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_bf66382e47f00610c2e1a3e7826d43c4</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:40:46</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1244410769</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f87c712647380610c2e1a3e7826d4329</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28cf21950000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>b3db35a2b438061091668b47262e4f9c</update_guid>
<update_guid_history>b3db35a2b438061091668b47262e4f9c:1244410769,b4c7b8ae5bf006102178fa9261e424db:972065672,ff66382e30f0061010271b28d424cdc5:-719697321</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_f70ccda247740610c2e1a3e7826d43e4</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__b70ccda249740610a741daf228edfae0">7b0ccda247740610c2e1a3e7826d43e1</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"e5ad1ed66b63402f9fd975493b6d3e48","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"e5ad1ed66b63402f9fd975493b6d3e48"}],"goals":[{"name":"primary","trigger_id":"e5ad1ed66b63402f9fd975493b6d3e48","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"15f720678f844a4791adb31f43aa7376","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"26db5d13d59947d890523a6f8470d796","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"15f720678f844a4791adb31f43aa7376","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"15f720678f844a4791adb31f43aa7376"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"26db5d13d59947d890523a6f8470d796","id":"7e27041fde704dafa3c57c0df71d7044","name":"26db5d13d59947d890523a6f8470d796"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__b70ccda249740610a741daf228edfae0","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__b70ccda249740610a741daf228edfae0</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:11:53</sys_created_on><sys_domain>global</sys_domain><sys_id>f70ccda247740610c2e1a3e7826d43e4</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_f70ccda247740610c2e1a3e7826d43e4</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:11:53</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>2084467571</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f87c712647380610c2e1a3e7826d432c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e280fe3550000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>3b0ccda2e5740610df3506496e46fae5</update_guid>
<update_guid_history>3b0ccda2e5740610df3506496e46fae5:2084467571</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_3366382e47f00610c2e1a3e7826d43c1</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"ChatGPT","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"ChatGPT","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_ff9db02673b04b3594fae807b7a1d29f_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_3bdb35a28b3806107983e4ae6c338c96","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Branch_RootDecisionBranch_f7db35a2f4380610f2509125550bff96","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_b7db35a247380610e6de40607760d596","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_09f28cfe21164c5cbcbb29b6c4371e8b","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_1550d231d0c049da9784c21c4673c8ed","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_ff9db02673b04b3594fae807b7a1d29f_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_3bdb35a28b3806107983e4ae6c338c96\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_f7db35a2f4380610f2509125550bff96\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Decision_RootDecision_b7db35a247380610e6de40607760d596\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Branch_1550d231d0c049da9784c21c4673c8ed\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"__silent_Branch_09f28cfe21164c5cbcbb29b6c4371e8b\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_b7db35a247380610e6de40607760d596","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_b7db35a247380610e6de40607760d596\";vaInputs.__silent_Decision_RootDecision_b7db35a247380610e6de40607760d596=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_b7db35a247380610e6de40607760d596\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_3bdb35a28b3806107983e4ae6c338c96=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_f7db35a2f4380610f2509125550bff96.reset();})();ackMsg;"},{"name":"__silent_Branch_RootDecisionBranch_f7db35a2f4380610f2509125550bff96","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_b7db35a247380610e6de40607760d596\" &amp;&amp; ((vaInputs.RootDecisionBranch_3bdb35a28b3806107983e4ae6c338c96.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_f7db35a2f4380610f2509125550bff96___RootDecisionBranch_f7db35a2f4380610f2509125550bff96\";vaInputs.__silent_Branch_RootDecisionBranch_f7db35a2f4380610f2509125550bff96=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_f7db35a2f4380610f2509125550bff96___RootDecisionBranch_f7db35a2f4380610f2509125550bff96\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;"},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_f7db35a2f4380610f2509125550bff96___RootDecisionBranch_f7db35a2f4380610f2509125550bff96\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;"},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;"},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;"},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE"},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;"},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_1550d231d0c049da9784c21c4673c8ed.reset();})();(function() {vaInputs.__silent_Branch_09f28cfe21164c5cbcbb29b6c4371e8b.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;"},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_1550d231d0c049da9784c21c4673c8ed.reset();})();(function() {vaInputs.__silent_Branch_09f28cfe21164c5cbcbb29b6c4371e8b.reset();})();ackMsg;"},{"name":"__silent_Branch_1550d231d0c049da9784c21c4673c8ed","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___1550d231d0c049da9784c21c4673c8ed\";vaInputs.__silent_Branch_1550d231d0c049da9784c21c4673c8ed=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___1550d231d0c049da9784c21c4673c8ed\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;"},{"name":"__silent_Branch_09f28cfe21164c5cbcbb29b6c4371e8b","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___09f28cfe21164c5cbcbb29b6c4371e8b\";vaInputs.__silent_Branch_09f28cfe21164c5cbcbb29b6c4371e8b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___09f28cfe21164c5cbcbb29b6c4371e8b\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;"},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___09f28cfe21164c5cbcbb29b6c4371e8b\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;"},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___1550d231d0c049da9784c21c4673c8ed\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_ff9db02673b04b3594fae807b7a1d29f_done=true;ackMsg;"}],"variables_update":[]}],"roles":[],"active":true,"published":true,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":true,"discoverable":true,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>true</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 14:40:46</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>ChatGPT</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>true</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:37:24</sys_created_on><sys_domain>global</sys_domain><sys_id>3366382e47f00610c2e1a3e7826d43c1</sys_id><sys_mod_count>2</sys_mod_count><sys_name>ChatGPT</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_3366382e47f00610c2e1a3e7826d43c1</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:40:46</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>true</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=3366382e47f00610c2e1a3e7826d43c1"/></record_update>]]></payload>
<payload_hash>-1370568766</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f87c712647380610c2e1a3e7826d432f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28cf21510000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>ChatGPT</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>37db35a20e380610a3e71b3bb48ff599</update_guid>
<update_guid_history>37db35a20e380610a3e71b3bb48ff599:-1370568766,70c7b8ae22f00610eed8e598aa4b3443:-651569450,f766382efaf00610ee13f2fc0f77d4c2:1839576967</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_6dbe0da247740610c2e1a3e7826d43b6</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__a9be0da29c7406100ebc6c82307d6cb5","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__a9be0da29c7406100ebc6c82307d6cb5","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_e9b5cda72a7847a7962be973af0f0a4f_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_a9be0da2d3740610e593da78a9578db6","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Decision_RootDecision_29be0da23c74061067fc19d2f81f50b6","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_e7a0e9e589414f7db54bf34cef46294f","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_4d35be3dfbd547c3994d10822001064c","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_69be0da2ad7406102f6098a115aea6b6","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_e9b5cda72a7847a7962be973af0f0a4f_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_a9be0da2d3740610e593da78a9578db6\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_69be0da2ad7406102f6098a115aea6b6\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Branch_e7a0e9e589414f7db54bf34cef46294f\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"__silent_Decision_RootDecision_29be0da23c74061067fc19d2f81f50b6\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_Branch_4d35be3dfbd547c3994d10822001064c\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");null;","fields":[{"name":"__silent_Decision_RootDecision_29be0da23c74061067fc19d2f81f50b6","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_29be0da23c74061067fc19d2f81f50b6\";vaInputs.__silent_Decision_RootDecision_29be0da23c74061067fc19d2f81f50b6=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_29be0da23c74061067fc19d2f81f50b6\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_a9be0da2d3740610e593da78a9578db6=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_69be0da2ad7406102f6098a115aea6b6.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_29be0da23c74061067fc19d2f81f50b6","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_69be0da2ad7406102f6098a115aea6b6","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_69be0da2ad7406102f6098a115aea6b6","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_29be0da23c74061067fc19d2f81f50b6\" &amp;&amp; ((vaInputs.RootDecisionBranch_a9be0da2d3740610e593da78a9578db6.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_69be0da2ad7406102f6098a115aea6b6___RootDecisionBranch_69be0da2ad7406102f6098a115aea6b6\";vaInputs.__silent_Branch_RootDecisionBranch_69be0da2ad7406102f6098a115aea6b6=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_69be0da2ad7406102f6098a115aea6b6___RootDecisionBranch_69be0da2ad7406102f6098a115aea6b6\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_69be0da2ad7406102f6098a115aea6b6","node_name":"RootDecisionBranch_69be0da2ad7406102f6098a115aea6b6","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_69be0da2ad7406102f6098a115aea6b6___RootDecisionBranch_69be0da2ad7406102f6098a115aea6b6\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_69be0da2ad7406102f6098a115aea6b6"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n\n    var arr = [vaVars.Request,output];\n\n    vaVars.Request  = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_e7a0e9e589414f7db54bf34cef46294f.reset();})();(function() {vaInputs.__silent_Branch_4d35be3dfbd547c3994d10822001064c.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_e7a0e9e589414f7db54bf34cef46294f.reset();})();(function() {vaInputs.__silent_Branch_4d35be3dfbd547c3994d10822001064c.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_e7a0e9e589414f7db54bf34cef46294f","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___e7a0e9e589414f7db54bf34cef46294f\";vaInputs.__silent_Branch_e7a0e9e589414f7db54bf34cef46294f=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___e7a0e9e589414f7db54bf34cef46294f\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"e7a0e9e589414f7db54bf34cef46294f","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_4d35be3dfbd547c3994d10822001064c","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___4d35be3dfbd547c3994d10822001064c\";vaInputs.__silent_Branch_4d35be3dfbd547c3994d10822001064c=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___4d35be3dfbd547c3994d10822001064c\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"4d35be3dfbd547c3994d10822001064c","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___4d35be3dfbd547c3994d10822001064c\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___e7a0e9e589414f7db54bf34cef46294f\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_e9b5cda72a7847a7962be973af0f0a4f_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 11:23:28</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__a9be0da29c7406100ebc6c82307d6cb5</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:23:28</sys_created_on><sys_domain>global</sys_domain><sys_id>6dbe0da247740610c2e1a3e7826d43b6</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__a9be0da29c7406100ebc6c82307d6cb5</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_6dbe0da247740610c2e1a3e7826d43b6</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:23:28</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=6dbe0da247740610c2e1a3e7826d43b6"/></record_update>]]></payload>
<payload_hash>-1821453879</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f87c712647380610c2e1a3e7826d4332</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e281a7fbd0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__a9be0da29c7406100ebc6c82307d6cb5</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>e1be89662f7406108962b7c4d912a93e</update_guid>
<update_guid_history>e1be89662f7406108962b7c4d912a93e:-1821453879</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_aae5392e47f40610c2e1a3e7826d43e8</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT - Topic Block">d6bfd8e247b00610c2e1a3e7826d4367</cb_topic_id><channels/><definition>{"id":"d6bfd8e247b00610c2e1a3e7826d4367","name":"_PRVW__e6e5392e8cf406109aa9690c80f453e7","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__e6e5392e8cf406109aa9690c80f453e7","applicability":"true","categories":[],"key_phrases":[],"variables":[{"name":"Output","type":"java.lang.Object"},{"name":"_reusable_topic_outputs_var","type":"java.lang.Object","init_value":"(function execute() {return JSON.stringify({\"populated\":false,\"values\":{\"output\":\"\"}})})()"},{"name":"__segment_trigger_314df0ea1be24a1a8cbd568fceecdad4_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"request","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"input"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_a6e5392e30f406108dc5146f7f82bce8","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_26e5392e25f406105f1301f88a82ffe8","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_66e5392e35f406108eeaffaa9f20cce8","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_314df0ea1be24a1a8cbd568fceecdad4_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_a6e5392e30f406108dc5146f7f82bce8\");vaInputs.initialize(\"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_66e5392e35f406108eeaffaa9f20cce8\");vaInputs.initialize(\"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157\");vaInputs.initialize(\"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355\");vaInputs.initialize(\"__silent_Decision_RootDecision_26e5392e25f406105f1301f88a82ffe8\");vaInputs.initialize(\"request\");vaInputs.request=JSON.parse('\"\"');null;","fields":[{"name":"__silent_Decision_RootDecision_26e5392e25f406105f1301f88a82ffe8","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_26e5392e25f406105f1301f88a82ffe8\";vaInputs.__silent_Decision_RootDecision_26e5392e25f406105f1301f88a82ffe8=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_26e5392e25f406105f1301f88a82ffe8\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_a6e5392e30f406108dc5146f7f82bce8=true;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_26e5392e25f406105f1301f88a82ffe8","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_66e5392e35f406108eeaffaa9f20cce8","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_66e5392e35f406108eeaffaa9f20cce8","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_26e5392e25f406105f1301f88a82ffe8\" &amp;&amp; ((vaInputs.RootDecisionBranch_a6e5392e30f406108dc5146f7f82bce8.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_66e5392e35f406108eeaffaa9f20cce8___RootDecisionBranch_66e5392e35f406108eeaffaa9f20cce8\";vaInputs.__silent_Branch_RootDecisionBranch_66e5392e35f406108eeaffaa9f20cce8=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_66e5392e35f406108eeaffaa9f20cce8___RootDecisionBranch_66e5392e35f406108eeaffaa9f20cce8\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_66e5392e35f406108eeaffaa9f20cce8","node_name":"RootDecisionBranch_66e5392e35f406108eeaffaa9f20cce8","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_a1f501f41a974866b3bda69f922f4680","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_66e5392e35f406108eeaffaa9f20cce8___RootDecisionBranch_66e5392e35f406108eeaffaa9f20cce8\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";vaInputs.__silent_StartGoal_a1f501f41a974866b3bda69f922f4680=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___a1f501f41a974866b3bda69f922f4680\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"a1f501f41a974866b3bda69f922f4680","node_name":"Start","predecessor_nodes":["RootDecisionBranch_66e5392e35f406108eeaffaa9f20cce8"],"next_node":"Continue Conversation","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355","applicable":"vaVars.previous_graph_node==\"Start___a1f501f41a974866b3bda69f922f4680\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";(function execute() {(function execute() {\n\n// var request = vaInputs.request.toString();\n// var array = request.split(',');\n// var payload = [];\n\n// for (var i = 0; i &lt; array.length; i++) {\n//     payload.push(JSON.parse(array[i]));\n// }\n\n try { \n var r = new sn_ws.RESTMessageV2('ChatGPT Integration', 'ChatGPT- Get Answers');\n r.setStringParameterNoEscape('payload', [{ \"role\": \"user\", \"content\": \"Tell me about React JS\" }].toString());\n\n var response = r.execute();\n var responseBody = response.getBody();\n var httpStatus = response.getStatusCode();\n vaVars.Output = httpStatus.toString();\n gs.info('36358 - '+JSON.stringify(responseBody));\n\n}\ncatch(ex) {\n var message = ex.message;\nvaVars.Output = 'failure: '+ JSON.stringify(ex);\n}\n\n})()\n;})();vaInputs.__silent_ScriptedAction_27d00bf90d7249c9abffba1e26630355=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\";var ackMsg=null;ackMsg=null;ackMsg;","metadata":{"type":"graph_node","node_id":"27d00bf90d7249c9abffba1e26630355","node_name":"Continue Conversation","predecessor_nodes":["Start"],"next_node":"End","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157","applicable":"vaVars.previous_graph_node==\"Continue Conversation___27d00bf90d7249c9abffba1e26630355\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";vaInputs.__silent_TerminateGoal_5115d1d54b7a4c0c8e2f5717958b3157=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___5115d1d54b7a4c0c8e2f5717958b3157\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_314df0ea1be24a1a8cbd568fceecdad4_done=true;(function execute() {var tmp={values:{}};tmp.values.output=vaVars.Output;tmp.populated=true;vaVars._reusable_topic_outputs_var=JSON.stringify(tmp);})();ackMsg;","metadata":{"type":"graph_node","node_id":"5115d1d54b7a4c0c8e2f5717958b3157","node_name":"End","predecessor_nodes":["Continue Conversation"],"node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[],"confirmation_msg":"gs.getMessageLang('[PREVIEW ONLY] The topic return values are: {0}', vaContext.getRequesterLang(), JSON.stringify(JSON.parse(vaVars._reusable_topic_outputs_var).values));"}],"roles":[],"active":true,"published":false,"library":true,"expose_on_palette":false,"palette_label":"ChatGPT - Topic Block","flexible_conversation_switching":true,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"TOPIC_BLOCK","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT - Topic Block","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases/><last_published_on>2024-03-10 14:14:45</last_published_on><library>true</library><library_usage>{"type":"Library","input-parameters":[{"name":"request","label":"Request","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"1dc4bbfc8f5d4a2fbb244a5e87254429","type":"String"}],"return-values-mapping":[{"name":"output","label":"Output","value":{"type":"String","mode":"string","value":"{{vaVars.Output}}"}}]}</library_usage><metaphone/><name>_PRVW__e6e5392e8cf406109aa9690c80f453e7</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label>ChatGPT - Topic Block</palette_label><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:14:45</sys_created_on><sys_domain>global</sys_domain><sys_id>aae5392e47f40610c2e1a3e7826d43e8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__e6e5392e8cf406109aa9690c80f453e7</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_aae5392e47f40610c2e1a3e7826d43e8</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:14:45</sys_updated_on><title>ChatGPT - Topic Block</title><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=aae5392e47f40610c2e1a3e7826d43e8"/></record_update>]]></payload>
<payload_hash>1375165740</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f87c712647380610c2e1a3e7826d4335</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28b74f440000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__e6e5392e8cf406109aa9690c80f453e7</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>62e5392e3bf406106bbcbc6d7e95d7ea</update_guid>
<update_guid_history>62e5392e3bf406106bbcbc6d7e95d7ea:1375165740</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_ec767cae47b00610c2e1a3e7826d43d7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__2c767caefeb006101c005d56a28c26d6","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__2c767caefeb006101c005d56a28c26d6","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation_JSON","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_3e5c59ed5eaf43218ab875451ba8723b_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_2c767cae9fb00610b23ede7ee61819d7","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_a8767caee7b00610325c258c7c8be2d7","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_8d44c5172aa1458385bbea56a721b369","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_8f377c2557434dc4a1fbf7a08d4e6137","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_e8767cae62b006105d6df836fe040bd7","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_3e5c59ed5eaf43218ab875451ba8723b_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_2c767cae9fb00610b23ede7ee61819d7\");vaInputs.initialize(\"__silent_Branch_8d44c5172aa1458385bbea56a721b369\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Decision_RootDecision_a8767caee7b00610325c258c7c8be2d7\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_e8767cae62b006105d6df836fe040bd7\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Branch_8f377c2557434dc4a1fbf7a08d4e6137\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");null;","fields":[{"name":"__silent_Decision_RootDecision_a8767caee7b00610325c258c7c8be2d7","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_a8767caee7b00610325c258c7c8be2d7\";vaInputs.__silent_Decision_RootDecision_a8767caee7b00610325c258c7c8be2d7=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_a8767caee7b00610325c258c7c8be2d7\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_2c767cae9fb00610b23ede7ee61819d7=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_e8767cae62b006105d6df836fe040bd7.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_a8767caee7b00610325c258c7c8be2d7","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_e8767cae62b006105d6df836fe040bd7","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_e8767cae62b006105d6df836fe040bd7","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_a8767caee7b00610325c258c7c8be2d7\" &amp;&amp; ((vaInputs.RootDecisionBranch_2c767cae9fb00610b23ede7ee61819d7.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_e8767cae62b006105d6df836fe040bd7___RootDecisionBranch_e8767cae62b006105d6df836fe040bd7\";vaInputs.__silent_Branch_RootDecisionBranch_e8767cae62b006105d6df836fe040bd7=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_e8767cae62b006105d6df836fe040bd7___RootDecisionBranch_e8767cae62b006105d6df836fe040bd7\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_e8767cae62b006105d6df836fe040bd7","node_name":"RootDecisionBranch_e8767cae62b006105d6df836fe040bd7","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_e8767cae62b006105d6df836fe040bd7___RootDecisionBranch_e8767cae62b006105d6df836fe040bd7\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_e8767cae62b006105d6df836fe040bd7"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\";(function execute() {(function execute() {\n\n    var message = [];\n    var orignal_obj = vaVars.Continue_Conversation_JSON.trim();\n    var user_input = vaInputs.enter_your_query.toString();\n    var gpt_response = vaInputs.output_from_chatgpt.toString();\n\n    var new_user_obj = {\n        \"role\": \"user\",\n        \"content\": user_input\n    };\n\n\n    if (orignal_obj.length &gt; 0) {\n        message.push(orignal_obj);   // push initial or old data if exists\n    }\n\n    message.push(JSON.stringify(new_user_obj));   // push user request\n\n    if (gpt_response.length &gt; 0) {\n        var new_assistant_obj = {\n            \"role\": \"assistant\",\n            \"content\": gpt_response\n        };\n        message.push(JSON.stringify(new_assistant_obj));  // push bot response\n    }\n\n    vaVars.Request = message.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"778b69bb03ad4167a9a7a1246ade5a8d","node_name":"Parse Data Into 1 JSON","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data Into 1 JSON___778b69bb03ad4167a9a7a1246ade5a8d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data Into 1 JSON"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.choice.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Choice","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_8f377c2557434dc4a1fbf7a08d4e6137.reset();})();(function() {vaInputs.__silent_Branch_8d44c5172aa1458385bbea56a721b369.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Print Response"],"next_node":"Decision","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_8f377c2557434dc4a1fbf7a08d4e6137.reset();})();(function() {vaInputs.__silent_Branch_8d44c5172aa1458385bbea56a721b369.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_8d44c5172aa1458385bbea56a721b369","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___8d44c5172aa1458385bbea56a721b369\";vaInputs.__silent_Branch_8d44c5172aa1458385bbea56a721b369=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___8d44c5172aa1458385bbea56a721b369\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"8d44c5172aa1458385bbea56a721b369","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_8f377c2557434dc4a1fbf7a08d4e6137","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___8f377c2557434dc4a1fbf7a08d4e6137\";vaInputs.__silent_Branch_8f377c2557434dc4a1fbf7a08d4e6137=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___8f377c2557434dc4a1fbf7a08d4e6137\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"8f377c2557434dc4a1fbf7a08d4e6137","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___8f377c2557434dc4a1fbf7a08d4e6137\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_778b69bb03ad4167a9a7a1246ade5a8d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data Into 1 JSON","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___8d44c5172aa1458385bbea56a721b369\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_3e5c59ed5eaf43218ab875451ba8723b_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 09:37:27</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__2c767caefeb006101c005d56a28c26d6</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:37:27</sys_created_on><sys_domain>global</sys_domain><sys_id>ec767cae47b00610c2e1a3e7826d43d7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__2c767caefeb006101c005d56a28c26d6</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_ec767cae47b00610c2e1a3e7826d43d7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:37:27</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=ec767cae47b00610c2e1a3e7826d43d7"/></record_update>]]></payload>
<payload_hash>-1249648010</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f87c712647380610c2e1a3e7826d4338</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27b96ea90000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__2c767caefeb006101c005d56a28c26d6</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>a4767cae5cb006108953f9b5ba4a2fd9</update_guid>
<update_guid_history>a4767cae5cb006108953f9b5ba4a2fd9:-1249648010</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_295dada247f40610c2e1a3e7826d43ba</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__615dada240f406109ec85de088cf94b4">255dada247f40610c2e1a3e7826d43b5</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:37:17</sys_created_on><sys_domain>global</sys_domain><sys_id>295dada247f40610c2e1a3e7826d43ba</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_295dada247f40610c2e1a3e7826d43ba</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:37:17</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-369239039</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f87c712647380610c2e1a3e7826d433b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2894ff2f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>695dada2a2f40610f651a11be856f5bb</update_guid>
<update_guid_history>695dada2a2f40610f651a11be856f5bb:-369239039</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_8cc6496e47340610c2e1a3e7826d43e1</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__4cc60d2a2e34061094747c541184acb3">80c60d2a47340610c2e1a3e7826d43b5</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:48:42</sys_created_on><sys_domain>global</sys_domain><sys_id>8cc6496e47340610c2e1a3e7826d43e1</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_8cc6496e47340610c2e1a3e7826d43e1</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:48:42</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>1873329422</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f87c712647380610c2e1a3e7826d433e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27faa76c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>04c6496e3434061083f91f52ce6f42e3</update_guid>
<update_guid_history>04c6496e3434061083f91f52ce6f42e3:1873329422</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_de1cbc6247340610c2e1a3e7826d4388</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__1a1cbc6231340610067d49c0b132ac82">da1cbc6247340610c2e1a3e7826d4383</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:02:09</sys_created_on><sys_domain>global</sys_domain><sys_id>de1cbc6247340610c2e1a3e7826d4388</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_de1cbc6247340610c2e1a3e7826d4388</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:02:09</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-14787386</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f87c712647380610c2e1a3e7826d4341</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27d00b230000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>121cbc62863406107914a71e7a7f7e8a</update_guid>
<update_guid_history>121cbc62863406107914a71e7a7f7e8a:-14787386</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_nlu_utterance_ea4730ae47f00610c2e1a3e7826d4323</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_nlu_utterance"><sys_nlu_utterance action="INSERT_OR_UPDATE"><intent display_value="Connect GPT">3f37fc6e47f00610c2e1a3e7826d43f7</intent><original_utterance/><primary_utterance/><source>manual</source><sys_class_name>sys_nlu_utterance</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:41:08</sys_created_on><sys_id>ea4730ae47f00610c2e1a3e7826d4323</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Question</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_nlu_utterance_ea4730ae47f00610c2e1a3e7826d4323</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:41:08</sys_updated_on><utterance>Question</utterance></sys_nlu_utterance></record_update>]]></payload>
<payload_hash>-967768204</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>f87c712647380610c2e1a3e7826d4344</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bccd2a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>Question</target_name>
<type>NLU Utterance</type>
<update_domain>global</update_domain>
<update_guid>ae4730ae06f006102c478e7b4e468c25</update_guid>
<update_guid_history>ae4730ae06f006102c478e7b4e468c25:-967768204</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_ab97bdae47f40610c2e1a3e7826d438e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__e797fd6e8ef406103a984bf4f19188de">2f97bdae47f40610c2e1a3e7826d438b</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"6a09be4a8f394b25b8ef90762e352074","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"6a09be4a8f394b25b8ef90762e352074"}],"goals":[{"name":"primary","trigger_id":"6a09be4a8f394b25b8ef90762e352074","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"f8522de443b94c31ac5acc15ff928c46","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"1158a5bb5a464f82af6a4c427df3db59","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"f8522de443b94c31ac5acc15ff928c46","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"f8522de443b94c31ac5acc15ff928c46"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"1158a5bb5a464f82af6a4c427df3db59","id":"7e27041fde704dafa3c57c0df71d7044","name":"1158a5bb5a464f82af6a4c427df3db59"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__e797fd6e8ef406103a984bf4f19188de","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__e797fd6e8ef406103a984bf4f19188de</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 14:22:12</sys_created_on><sys_domain>global</sys_domain><sys_id>ab97bdae47f40610c2e1a3e7826d438e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_ab97bdae47f40610c2e1a3e7826d438e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 14:22:12</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>-1739657884</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>fc7c712647380610c2e1a3e7826d4328</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e28be1ff30000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>eb97bdae51f40610dbef0ebf899f4a8f</update_guid>
<update_guid_history>eb97bdae51f40610dbef0ebf899f4a8f:-1739657884</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cb_design_topic_e576d96e47740610c2e1a3e7826d4348</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic"><sys_cb_design_topic action="INSERT_OR_UPDATE"><compiled_topic display_value="_PRVW__6176156ed0740610e4669e9027e09620">2576156e47740610c2e1a3e7826d4321</compiled_topic><design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"9d6e842d99a5434bae2bb4178c1419c2","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"9d6e842d99a5434bae2bb4178c1419c2"}],"goals":[{"name":"primary","trigger_id":"9d6e842d99a5434bae2bb4178c1419c2","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"6b083b676b264558b104e220288a1519","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"2d6806fab0d34cfcb7b754bdf5a96e63","name":"End"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3fa00982c744d97a15891d7bf8d9951","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"acdbd46e037a48de833c4120ddc810fb","name":"Enter Your Query","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=End Conversation"},"id":"1b5182f46ce94aea8348663faa8e3704","name":"Always"},{"type":"Branch","type":"Branch","label":"Always","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"choice=Continue Conversation"},"id":"002597e6200f42a3aafb7bed446a2648","name":"Always"}],"id":"6c90856f1900440db32eb75bba3e56b2","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"{{vaInputs.output_from_chatgpt}}"}],"id":"2247ad2271b34c42abe5e7176a8b63e0","name":"Print Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ChoiceInputPrompt","type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"c0babdc31ac645d78d4d3bf0140ce89c","name":"Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e5f1bf20d07241d79d693de7ae43a2e8","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"ChatGPT - Topic Block","library_topic_id":"eae0a4a647b00610c2e1a3e7826d43af","parameter-mappings":[{"parameter-name":"request","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.Request}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"output","main_topic_mapped_variable_name":"output_from_chatgpt"}],"id":"0f00102b57ca42febb65fcb23674460d","name":"ChatGPT - Topic Block","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n","id":"45495a2ea1544860a11bc3d9f93959f3","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n","id":"aba5b7adbe6840989322da15b9a8a251","name":"Parse Data","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","target_node_id":"6c90856f1900440db32eb75bba3e56b2","id":"cfc7f74e12e24d7b816f0e83a10b4aab"},{"type":"Edge","source_node_id":"6b083b676b264558b104e220288a1519","target_node_id":"acdbd46e037a48de833c4120ddc810fb","id":"230b7d87f571435b996f062823d729ef"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","branch_id":"1b5182f46ce94aea8348663faa8e3704","id":"8a4c2bbb4406456c8cd816ccd09d0393","name":"1b5182f46ce94aea8348663faa8e3704"},{"type":"Edge","source_node_id":"6c90856f1900440db32eb75bba3e56b2","target_node_id":"acdbd46e037a48de833c4120ddc810fb","branch_id":"002597e6200f42a3aafb7bed446a2648","id":"7e27041fde704dafa3c57c0df71d7044","name":"002597e6200f42a3aafb7bed446a2648"},{"type":"Edge","source_node_id":"0f00102b57ca42febb65fcb23674460d","target_node_id":"2247ad2271b34c42abe5e7176a8b63e0","id":"96a5b33fa895499bb01c0fc32bebc97b"},{"type":"Edge","source_node_id":"acdbd46e037a48de833c4120ddc810fb","target_node_id":"45495a2ea1544860a11bc3d9f93959f3","id":"9847db2beff74e588d48349b549a95c1"},{"type":"Edge","source_node_id":"45495a2ea1544860a11bc3d9f93959f3","target_node_id":"0f00102b57ca42febb65fcb23674460d","id":"9a981b26350d484b8b9ea07aea5cde81"},{"type":"Edge","source_node_id":"2247ad2271b34c42abe5e7176a8b63e0","target_node_id":"aba5b7adbe6840989322da15b9a8a251","id":"53f8572038f8491da10c36ed8f97d295"},{"type":"Edge","source_node_id":"aba5b7adbe6840989322da15b9a8a251","target_node_id":"c0babdc31ac645d78d4d3bf0140ce89c","id":"85c5cd15df2f4cb9b3130e63ed71ff59"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"Continue_Conversation","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"9ff6a01953554692849efd56b1c139de","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"Request","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f0a5b7a3614f47379e0137e0bb4604f3","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"enter_your_query","list":false,"id":"b3fa00982c744d97a15891d7bf8d9951","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[{"name":"Continue Conversation","element":"Continue Conversation"},{"name":"End Conversation","element":"End Conversation"}],"id":"e5f1bf20d07241d79d693de7ae43a2e8","name":"choice","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"output_from_chatgpt","list":false,"id":"438a42de6856443f9bed4215bf4c84e8","formatType":"text","metadata":{"libraryMappingType":"output"},"secure":false,"sensitive":false}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"d4ac3fff5b311200a4656ede91f91af2","domain":"global","topic_type":"STANDARD","channels":[],"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__6176156ed0740610e4669e9027e09620","key_phrases":["ChatGPT"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"csTopicId":"3366382e47f00610c2e1a3e7826d43c1","readOnly":false,"nluMapping":"[]"}</design_definition><design_topic_id>bb184bf947bc4210c2e1a3e7826d4371</design_topic_id><graph>{
  "graph_api_version": "1.0.42",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "6b083b676b264558b104e220288a1519": {
          "id": "6b083b676b264558b104e220288a1519",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "2d6806fab0d34cfcb7b754bdf5a96e63": {
          "id": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "acdbd46e037a48de833c4120ddc810fb": {
          "id": "acdbd46e037a48de833c4120ddc810fb",
          "stepType": "Prompt",
          "name": "Enter Your Query",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter Your Query"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "b3fa00982c744d97a15891d7bf8d9951",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6c90856f1900440db32eb75bba3e56b2": {
          "id": "6c90856f1900440db32eb75bba3e56b2",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2247ad2271b34c42abe5e7176a8b63e0": {
          "id": "2247ad2271b34c42abe5e7176a8b63e0",
          "stepType": "TextOutput",
          "name": "Print Response",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.output_from_chatgpt}}",
                        "displayValue": "Input Variables➛Output_from_chatgpt"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "c7ef2aa9d1c84be09d0ce7337a239f91"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c0babdc31ac645d78d4d3bf0140ce89c": {
          "stepType": "ChoicePrompt",
          "name": "Choice",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Select One of the option"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e5f1bf20d07241d79d693de7ae43a2e8",
          "id": "c0babdc31ac645d78d4d3bf0140ce89c",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0f00102b57ca42febb65fcb23674460d": {
          "id": "0f00102b57ca42febb65fcb23674460d",
          "stepType": "ReusableTopic",
          "name": "ChatGPT - Topic Block",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "ChatGPT - Topic Block",
          "reusableTopicId": "eae0a4a647b00610c2e1a3e7826d43af",
          "inputs": {
            "request": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.Request}}",
                        "displayValue": "Script Variables➛Request"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "outputs": [
            {
              "id": "438a42de6856443f9bed4215bf4c84e8",
              "value": "output",
              "mapping": "output_from_chatgpt",
              "preventDisable": true
            }
          ],
          "variableIds": [
            "438a42de6856443f9bed4215bf4c84e8"
          ],
          "outdatedNote": false,
          "loading": false
        },
        "45495a2ea1544860a11bc3d9f93959f3": {
          "id": "45495a2ea1544860a11bc3d9f93959f3",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "aba5b7adbe6840989322da15b9a8a251": {
          "id": "aba5b7adbe6840989322da15b9a8a251",
          "name": "Parse Data",
          "script": "(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        }
      },
      "edges": [
        {
          "id": "cfc7f74e12e24d7b816f0e83a10b4aab",
          "edgeType": "Edge",
          "source": "c0babdc31ac645d78d4d3bf0140ce89c",
          "target": "6c90856f1900440db32eb75bba3e56b2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "230b7d87f571435b996f062823d729ef",
          "edgeType": "Edge",
          "source": "6b083b676b264558b104e220288a1519",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a4c2bbb4406456c8cd816ccd09d0393",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "2d6806fab0d34cfcb7b754bdf5a96e63",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=End Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "7e27041fde704dafa3c57c0df71d7044",
          "edgeType": "Branch",
          "source": "6c90856f1900440db32eb75bba3e56b2",
          "target": "acdbd46e037a48de833c4120ddc810fb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choice=Continue Conversation",
            "mode": "query"
          },
          "label": "Always"
        },
        {
          "id": "96a5b33fa895499bb01c0fc32bebc97b",
          "edgeType": "Edge",
          "source": "0f00102b57ca42febb65fcb23674460d",
          "target": "2247ad2271b34c42abe5e7176a8b63e0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9847db2beff74e588d48349b549a95c1",
          "edgeType": "Edge",
          "source": "acdbd46e037a48de833c4120ddc810fb",
          "target": "45495a2ea1544860a11bc3d9f93959f3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a981b26350d484b8b9ea07aea5cde81",
          "edgeType": "Edge",
          "source": "45495a2ea1544860a11bc3d9f93959f3",
          "target": "0f00102b57ca42febb65fcb23674460d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53f8572038f8491da10c36ed8f97d295",
          "edgeType": "Edge",
          "source": "2247ad2271b34c42abe5e7176a8b63e0",
          "target": "aba5b7adbe6840989322da15b9a8a251",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85c5cd15df2f4cb9b3130e63ed71ff59",
          "edgeType": "Edge",
          "source": "aba5b7adbe6840989322da15b9a8a251",
          "target": "c0babdc31ac645d78d4d3bf0140ce89c",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "b3fa00982c744d97a15891d7bf8d9951": {
      "id": "b3fa00982c744d97a15891d7bf8d9951",
      "name": "enter_your_query",
      "label": "Enter Your Query",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTcwOTkwMDMyMjY1NCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "acdbd46e037a48de833c4120ddc810fb",
      "isHidden": false
    },
    "e5f1bf20d07241d79d693de7ae43a2e8": {
      "id": "e5f1bf20d07241d79d693de7ae43a2e8",
      "name": "choice",
      "label": "Choice",
      "varType": "choice",
      "choices": [
        {
          "label": "Continue Conversation",
          "value": "Continue Conversation"
        },
        {
          "label": "End Conversation",
          "value": "End Conversation"
        }
      ],
      "category": "vaInputs",
      "nodeId": "c0babdc31ac645d78d4d3bf0140ce89c",
      "isHidden": false
    },
    "9ff6a01953554692849efd56b1c139de": {
      "id": "9ff6a01953554692849efd56b1c139de",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "Continue_Conversation",
      "label": "Continue_Conversation",
      "varType": "script",
      "category": "vaVars"
    },
    "f0a5b7a3614f47379e0137e0bb4604f3": {
      "id": "f0a5b7a3614f47379e0137e0bb4604f3",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "Request",
      "label": "Request",
      "varType": "script",
      "category": "vaVars"
    },
    "438a42de6856443f9bed4215bf4c84e8": {
      "id": "438a42de6856443f9bed4215bf4c84e8",
      "name": "output_from_chatgpt",
      "label": "Output_from_chatgpt",
      "defaultValue": "output",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "output"
      },
      "preventDisable": true,
      "nodeId": "0f00102b57ca42febb65fcb23674460d",
      "isHidden": false
    }
  }
}</graph><name>_PRVW__6176156ed0740610e4669e9027e09620</name><sys_class_name>sys_cb_design_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:57:20</sys_created_on><sys_domain>global</sys_domain><sys_id>e576d96e47740610c2e1a3e7826d4348</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FlowTopic</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cb_design_topic_e576d96e47740610c2e1a3e7826d4348</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:57:20</sys_updated_on><type>FlowTopic</type></sys_cb_design_topic></record_update>]]></payload>
<payload_hash>1576965555</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>fc7c712647380610c2e1a3e7826d432b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2839802a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>FlowTopic</target_name>
<type>Published Topic</type>
<update_domain>global</update_domain>
<update_guid>2976d96ee374061090064c0977505d49</update_guid>
<update_guid_history>2976d96ee374061090064c0977505d49:1576965555</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_255dada247f40610c2e1a3e7826d43b5</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__615dada240f406109ec85de088cf94b4","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__615dada240f406109ec85de088cf94b4","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_0db6f619696f431aa5cdbca2c78d55dc_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_615dada22df406107a8febdf7d1ef6b5","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_215dada2e2f406101b4dd31487d6d3b5","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_519b26724b554881867a5ff5f4b505a1","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_3e61083a8c944682aaf134994a74c675","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_ed5dada2a1f40610fa4b72eb0007f8b4","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_0db6f619696f431aa5cdbca2c78d55dc_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_615dada22df406107a8febdf7d1ef6b5\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_3e61083a8c944682aaf134994a74c675\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_215dada2e2f406101b4dd31487d6d3b5\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_RootDecision_ed5dada2a1f40610fa4b72eb0007f8b4\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Branch_519b26724b554881867a5ff5f4b505a1\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_ed5dada2a1f40610fa4b72eb0007f8b4","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_ed5dada2a1f40610fa4b72eb0007f8b4\";vaInputs.__silent_Decision_RootDecision_ed5dada2a1f40610fa4b72eb0007f8b4=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_ed5dada2a1f40610fa4b72eb0007f8b4\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_615dada22df406107a8febdf7d1ef6b5=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_215dada2e2f406101b4dd31487d6d3b5.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_ed5dada2a1f40610fa4b72eb0007f8b4","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_215dada2e2f406101b4dd31487d6d3b5","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_215dada2e2f406101b4dd31487d6d3b5","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_ed5dada2a1f40610fa4b72eb0007f8b4\" &amp;&amp; ((vaInputs.RootDecisionBranch_615dada22df406107a8febdf7d1ef6b5.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_215dada2e2f406101b4dd31487d6d3b5___RootDecisionBranch_215dada2e2f406101b4dd31487d6d3b5\";vaInputs.__silent_Branch_RootDecisionBranch_215dada2e2f406101b4dd31487d6d3b5=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_215dada2e2f406101b4dd31487d6d3b5___RootDecisionBranch_215dada2e2f406101b4dd31487d6d3b5\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_215dada2e2f406101b4dd31487d6d3b5","node_name":"RootDecisionBranch_215dada2e2f406101b4dd31487d6d3b5","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_215dada2e2f406101b4dd31487d6d3b5___RootDecisionBranch_215dada2e2f406101b4dd31487d6d3b5\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_215dada2e2f406101b4dd31487d6d3b5"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_3e61083a8c944682aaf134994a74c675.reset();})();(function() {vaInputs.__silent_Branch_519b26724b554881867a5ff5f4b505a1.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_3e61083a8c944682aaf134994a74c675.reset();})();(function() {vaInputs.__silent_Branch_519b26724b554881867a5ff5f4b505a1.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_519b26724b554881867a5ff5f4b505a1","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___519b26724b554881867a5ff5f4b505a1\";vaInputs.__silent_Branch_519b26724b554881867a5ff5f4b505a1=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___519b26724b554881867a5ff5f4b505a1\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"519b26724b554881867a5ff5f4b505a1","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_3e61083a8c944682aaf134994a74c675","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___3e61083a8c944682aaf134994a74c675\";vaInputs.__silent_Branch_3e61083a8c944682aaf134994a74c675=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___3e61083a8c944682aaf134994a74c675\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"3e61083a8c944682aaf134994a74c675","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___3e61083a8c944682aaf134994a74c675\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___519b26724b554881867a5ff5f4b505a1\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_0db6f619696f431aa5cdbca2c78d55dc_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 13:37:16</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__615dada240f406109ec85de088cf94b4</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:37:16</sys_created_on><sys_domain>global</sys_domain><sys_id>255dada247f40610c2e1a3e7826d43b5</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__615dada240f406109ec85de088cf94b4</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_255dada247f40610c2e1a3e7826d43b5</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:37:16</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=255dada247f40610c2e1a3e7826d43b5"/></record_update>]]></payload>
<payload_hash>-2127977544</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>fc7c712647380610c2e1a3e7826d432e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2894febe0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__615dada240f406109ec85de088cf94b4</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>e95dada2e3f4061093c242dc4ac845b6</update_guid>
<update_guid_history>e95dada2e3f4061093c242dc4ac845b6:-2127977544</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_5e178d6a47340610c2e1a3e7826d430d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__8a178d6a5f34061092b4453cad651a0c","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__8a178d6a5f34061092b4453cad651a0c","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_1b1fe5e701ab46b8b4591e155e5334e1_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_9a178d6af0340610172cc086ac93ac0d","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Branch_600d9f73ae6f4dda9c0977db5129a8ea","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_47155b97d5004dbeb452d6c0b9b12df6","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_1a178d6a5e3406109e77233448a7040d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_5a178d6a42340610164fd497aa056e0d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_1b1fe5e701ab46b8b4591e155e5334e1_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_9a178d6af0340610172cc086ac93ac0d\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_47155b97d5004dbeb452d6c0b9b12df6\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_Decision_RootDecision_1a178d6a5e3406109e77233448a7040d\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_5a178d6a42340610164fd497aa056e0d\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Branch_600d9f73ae6f4dda9c0977db5129a8ea\");null;","fields":[{"name":"__silent_Decision_RootDecision_1a178d6a5e3406109e77233448a7040d","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_1a178d6a5e3406109e77233448a7040d\";vaInputs.__silent_Decision_RootDecision_1a178d6a5e3406109e77233448a7040d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_1a178d6a5e3406109e77233448a7040d\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_9a178d6af0340610172cc086ac93ac0d=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_5a178d6a42340610164fd497aa056e0d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_1a178d6a5e3406109e77233448a7040d","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_5a178d6a42340610164fd497aa056e0d","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_5a178d6a42340610164fd497aa056e0d","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_1a178d6a5e3406109e77233448a7040d\" &amp;&amp; ((vaInputs.RootDecisionBranch_9a178d6af0340610172cc086ac93ac0d.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_5a178d6a42340610164fd497aa056e0d___RootDecisionBranch_5a178d6a42340610164fd497aa056e0d\";vaInputs.__silent_Branch_RootDecisionBranch_5a178d6a42340610164fd497aa056e0d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_5a178d6a42340610164fd497aa056e0d___RootDecisionBranch_5a178d6a42340610164fd497aa056e0d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_5a178d6a42340610164fd497aa056e0d","node_name":"RootDecisionBranch_5a178d6a42340610164fd497aa056e0d","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_5a178d6a42340610164fd497aa056e0d___RootDecisionBranch_5a178d6a42340610164fd497aa056e0d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_5a178d6a42340610164fd497aa056e0d"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    vaVars.Request  = JSON.stringify(user_output);\n    vaVars.Continue_Conversation  = JSON.stringify(user_output);\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.choice.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Choice","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_600d9f73ae6f4dda9c0977db5129a8ea.reset();})();(function() {vaInputs.__silent_Branch_47155b97d5004dbeb452d6c0b9b12df6.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Print Response"],"next_node":"Decision","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_600d9f73ae6f4dda9c0977db5129a8ea.reset();})();(function() {vaInputs.__silent_Branch_47155b97d5004dbeb452d6c0b9b12df6.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_600d9f73ae6f4dda9c0977db5129a8ea","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___600d9f73ae6f4dda9c0977db5129a8ea\";vaInputs.__silent_Branch_600d9f73ae6f4dda9c0977db5129a8ea=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___600d9f73ae6f4dda9c0977db5129a8ea\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"600d9f73ae6f4dda9c0977db5129a8ea","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_47155b97d5004dbeb452d6c0b9b12df6","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___47155b97d5004dbeb452d6c0b9b12df6\";vaInputs.__silent_Branch_47155b97d5004dbeb452d6c0b9b12df6=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___47155b97d5004dbeb452d6c0b9b12df6\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"47155b97d5004dbeb452d6c0b9b12df6","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":10,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___47155b97d5004dbeb452d6c0b9b12df6\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___600d9f73ae6f4dda9c0977db5129a8ea\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_1b1fe5e701ab46b8b4591e155e5334e1_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 10:50:12</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__8a178d6a5f34061092b4453cad651a0c</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:50:12</sys_created_on><sys_domain>global</sys_domain><sys_id>5e178d6a47340610c2e1a3e7826d430d</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__8a178d6a5f34061092b4453cad651a0c</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_5e178d6a47340610c2e1a3e7826d430d</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:50:12</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=5e178d6a47340610c2e1a3e7826d430d"/></record_update>]]></payload>
<payload_hash>1430102419</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>fc7c712647380610c2e1a3e7826d4331</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27fc0a430000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__8a178d6a5f34061092b4453cad651a0c</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>16178d6a49340610f38fa7eab741340f</update_guid>
<update_guid_history>16178d6a49340610f38fa7eab741340f:1430102419</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_91885dee47740610c2e1a3e7826d4333</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__dd885deef674061068a6657958d44331","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__dd885deef674061068a6657958d44331","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_f1c177de4e114a46b0a6076c6c4d076b_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_dd885dee36740610d365d4ab01db1532","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Branch_aceb9b02d84846129a80e9c0f174f967","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_452c629c41454d3a94440c1545b15d4a","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_5d885dee327406106ec20479e9e4f832","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_9d885dee3474061086566b92d32c9e32","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_f1c177de4e114a46b0a6076c6c4d076b_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_dd885dee36740610d365d4ab01db1532\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_Decision_RootDecision_5d885dee327406106ec20479e9e4f832\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_9d885dee3474061086566b92d32c9e32\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_Branch_452c629c41454d3a94440c1545b15d4a\");vaInputs.initialize(\"__silent_Branch_aceb9b02d84846129a80e9c0f174f967\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_5d885dee327406106ec20479e9e4f832","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_5d885dee327406106ec20479e9e4f832\";vaInputs.__silent_Decision_RootDecision_5d885dee327406106ec20479e9e4f832=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_5d885dee327406106ec20479e9e4f832\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_dd885dee36740610d365d4ab01db1532=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_9d885dee3474061086566b92d32c9e32.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_5d885dee327406106ec20479e9e4f832","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_9d885dee3474061086566b92d32c9e32","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_9d885dee3474061086566b92d32c9e32","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_5d885dee327406106ec20479e9e4f832\" &amp;&amp; ((vaInputs.RootDecisionBranch_dd885dee36740610d365d4ab01db1532.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_9d885dee3474061086566b92d32c9e32___RootDecisionBranch_9d885dee3474061086566b92d32c9e32\";vaInputs.__silent_Branch_RootDecisionBranch_9d885dee3474061086566b92d32c9e32=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_9d885dee3474061086566b92d32c9e32___RootDecisionBranch_9d885dee3474061086566b92d32c9e32\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_9d885dee3474061086566b92d32c9e32","node_name":"RootDecisionBranch_9d885dee3474061086566b92d32c9e32","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_9d885dee3474061086566b92d32c9e32___RootDecisionBranch_9d885dee3474061086566b92d32c9e32\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_9d885dee3474061086566b92d32c9e32"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_aceb9b02d84846129a80e9c0f174f967.reset();})();(function() {vaInputs.__silent_Branch_452c629c41454d3a94440c1545b15d4a.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_aceb9b02d84846129a80e9c0f174f967.reset();})();(function() {vaInputs.__silent_Branch_452c629c41454d3a94440c1545b15d4a.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_aceb9b02d84846129a80e9c0f174f967","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___aceb9b02d84846129a80e9c0f174f967\";vaInputs.__silent_Branch_aceb9b02d84846129a80e9c0f174f967=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___aceb9b02d84846129a80e9c0f174f967\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aceb9b02d84846129a80e9c0f174f967","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_452c629c41454d3a94440c1545b15d4a","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___452c629c41454d3a94440c1545b15d4a\";vaInputs.__silent_Branch_452c629c41454d3a94440c1545b15d4a=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___452c629c41454d3a94440c1545b15d4a\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"452c629c41454d3a94440c1545b15d4a","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___452c629c41454d3a94440c1545b15d4a\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___aceb9b02d84846129a80e9c0f174f967\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_f1c177de4e114a46b0a6076c6c4d076b_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 12:06:20</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__dd885deef674061068a6657958d44331</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 12:06:20</sys_created_on><sys_domain>global</sys_domain><sys_id>91885dee47740610c2e1a3e7826d4333</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__dd885deef674061068a6657958d44331</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_91885dee47740610c2e1a3e7826d4333</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 12:06:20</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=91885dee47740610c2e1a3e7826d4333"/></record_update>]]></payload>
<payload_hash>1772783303</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>fc7c712647380610c2e1a3e7826d4334</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2841bdf60000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__dd885deef674061068a6657958d44331</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>69885deed7740610bb0fb27119ff1034</update_guid>
<update_guid_history>69885deed7740610bb0fb27119ff1034:1772783303</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_e20eede247f40610c2e1a3e7826d430e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic"><sys_cs_topic action="INSERT_OR_UPDATE"><active>true</active><applicability>true</applicability><autopilot_topic>false</autopilot_topic><cb_topic_id display_value="ChatGPT">bb184bf947bc4210c2e1a3e7826d4371</cb_topic_id><channels/><definition>{"id":"bb184bf947bc4210c2e1a3e7826d4371","name":"_PRVW__220eede2dbf406108f08200b0d66860d","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"_PRVW__220eede2dbf406108f08200b0d66860d","applicability":"true","categories":[],"key_phrases":["ChatGPT"],"variables":[{"name":"Continue_Conversation","type":"java.lang.Object"},{"name":"Request","type":"java.lang.Object"},{"name":"optionsCount_e5f1bf20d07241d79d693de7ae43a2e8","type":"java.lang.Object"},{"name":"__segment_trigger_f896a54a0d4049699a59170081ca817c_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"enter_your_query","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"ID","name":"choice","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"choice","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"Continue Conversation\",\"label\":gs.getMessageLang(\"Continue Conversation\", vaContext.getRequesterLang())},{\"value\":\"End Conversation\",\"label\":gs.getMessageLang(\"End Conversation\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_e5f1bf20d07241d79d693de7ae43a2e8 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"String","name":"output_from_chatgpt","unique":false,"key_phrases":[],"metadata":{"libraryMappingType":"output"},"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Boolean","name":"RootDecisionBranch_220eede2e2f40610fdede8bbf1260e0e","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_ae0eede29ff406105d7952ec59f2d70d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_5eee83b59abf4bdd94b77c4fcfc4efe8","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_ee0eede2cef4061041d09ca2e5ad4b0d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_8869c8b188944fccb73d204db64068fc","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_f896a54a0d4049699a59170081ca817c_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_220eede2e2f40610fdede8bbf1260e0e\");vaInputs.initialize(\"choice\");vaInputs.initialize(\"__silent_Branch_5eee83b59abf4bdd94b77c4fcfc4efe8\");vaInputs.initialize(\"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_ee0eede2cef4061041d09ca2e5ad4b0d\");vaInputs.initialize(\"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3\");vaInputs.initialize(\"__silent_Decision_RootDecision_ae0eede29ff406105d7952ec59f2d70d\");vaInputs.initialize(\"__silent_Branch_8869c8b188944fccb73d204db64068fc\");vaInputs.initialize(\"__silent_Decision_6c90856f1900440db32eb75bba3e56b2\");vaInputs.initialize(\"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63\");vaInputs.initialize(\"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d\");vaInputs.initialize(\"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0\");vaInputs.initialize(\"enter_your_query\");vaInputs.initialize(\"__silent_StartGoal_6b083b676b264558b104e220288a1519\");null;","fields":[{"name":"__silent_Decision_RootDecision_ae0eede29ff406105d7952ec59f2d70d","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_ae0eede29ff406105d7952ec59f2d70d\";vaInputs.__silent_Decision_RootDecision_ae0eede29ff406105d7952ec59f2d70d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_ae0eede29ff406105d7952ec59f2d70d\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_220eede2e2f40610fdede8bbf1260e0e=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_ee0eede2cef4061041d09ca2e5ad4b0d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecision_ae0eede29ff406105d7952ec59f2d70d","node_name":"RootDecision_for_goal_primary","predecessor_nodes":[],"next_node":"RootDecisionBranch_ee0eede2cef4061041d09ca2e5ad4b0d","node_depth":1,"decision_stack":[],"loopback":{"from":[]}}},{"name":"__silent_Branch_RootDecisionBranch_ee0eede2cef4061041d09ca2e5ad4b0d","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_ae0eede29ff406105d7952ec59f2d70d\" &amp;&amp; ((vaInputs.RootDecisionBranch_220eede2e2f40610fdede8bbf1260e0e.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_ee0eede2cef4061041d09ca2e5ad4b0d___RootDecisionBranch_ee0eede2cef4061041d09ca2e5ad4b0d\";vaInputs.__silent_Branch_RootDecisionBranch_ee0eede2cef4061041d09ca2e5ad4b0d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_ee0eede2cef4061041d09ca2e5ad4b0d___RootDecisionBranch_ee0eede2cef4061041d09ca2e5ad4b0d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"RootDecisionBranch_ee0eede2cef4061041d09ca2e5ad4b0d","node_name":"RootDecisionBranch_ee0eede2cef4061041d09ca2e5ad4b0d","predecessor_nodes":["RootDecision_for_goal_primary"],"next_node":"Start","node_depth":2,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_StartGoal_6b083b676b264558b104e220288a1519","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_ee0eede2cef4061041d09ca2e5ad4b0d___RootDecisionBranch_ee0eede2cef4061041d09ca2e5ad4b0d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";vaInputs.__silent_StartGoal_6b083b676b264558b104e220288a1519=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___6b083b676b264558b104e220288a1519\";var ackMsg=null;ackMsg=null;(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6b083b676b264558b104e220288a1519","node_name":"Start","predecessor_nodes":["RootDecisionBranch_ee0eede2cef4061041d09ca2e5ad4b0d"],"next_node":"Enter Your Query","node_depth":3,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3","applicable":"vaVars.previous_graph_node==\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";(function execute() {(function execute() {\n\n    var input = vaInputs.enter_your_query.toString();\n\n    var user_output = {\n        \"role\": \"user\",\n        \"content\": input\n    };\n\n    var output = JSON.stringify(user_output);\n    var arr = [vaVars.Request , output];\n\n\n    vaVars.Request  = arr.toString().replace(/^,/, '');\n\n})()\n;})();vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"45495a2ea1544860a11bc3d9f93959f3","node_name":"Parse Data","predecessor_nodes":["Enter Your Query"],"next_node":"ChatGPT - Topic Block","node_depth":5,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d","applicable":"vaVars.previous_graph_node==\"Parse Data___45495a2ea1544860a11bc3d9f93959f3\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";(function execute() {(function execute() {vaSystem.invokeSubTopic('ChatGPT - Topic Block', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"ChatGPT - Topic Block\",\"library_topic_id\":\"eae0a4a647b00610c2e1a3e7826d43af\",\"parameter-mappings\":[{\"parameter-name\":\"request\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"{{vaVars.Request}}\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[{\"main_topic_variable_namespace\":\"vaInputs\",\"library_topic_return_parameter_name\":\"output\",\"main_topic_mapped_variable_name\":\"output_from_chatgpt\"}],\"id\":\"0f00102b57ca42febb65fcb23674460d\",\"name\":\"ChatGPT - Topic Block\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_0f00102b57ca42febb65fcb23674460d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"0f00102b57ca42febb65fcb23674460d","node_name":"ChatGPT - Topic Block","predecessor_nodes":["Parse Data"],"next_node":"Print Response","node_depth":6,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0","applicable":"vaVars.previous_graph_node==\"ChatGPT - Topic Block___0f00102b57ca42febb65fcb23674460d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";vaInputs.__silent_TextOutputPrompt_2247ad2271b34c42abe5e7176a8b63e0=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\";var ackMsg=null;ackMsg=(function execute() {var textVariations = [function() { return vaInputs.output_from_chatgpt.getValue() }];if (vaContext.global_record_in_progress) return textVariations[0]();var index = Math.floor(Math.random() * textVariations.length);return textVariations[index]();})();(function() {vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE","metadata":{"type":"graph_node","node_id":"2247ad2271b34c42abe5e7176a8b63e0","node_name":"Print Response","predecessor_nodes":["ChatGPT - Topic Block"],"next_node":"Parse Data","node_depth":7,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251","applicable":"vaVars.previous_graph_node==\"Print Response___2247ad2271b34c42abe5e7176a8b63e0\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";(function execute() {(function execute() {\n\n    var bot_output = vaInputs.output_from_chatgpt.toString();\n\n    var bot_output = {\n        \"role\": \"assistant\",\n        \"content\": bot_output\n    };\n    \n    var output = JSON.stringify(bot_output);\n\n    var arr =  [vaVars.Request,output];\n\n    vaVars.Request = arr.toString();\n\n})()\n;})();vaInputs.__silent_ScriptedAction_aba5b7adbe6840989322da15b9a8a251=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Parse Data___aba5b7adbe6840989322da15b9a8a251\";var ackMsg=null;ackMsg=null;(function() {vaInputs.choice.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"aba5b7adbe6840989322da15b9a8a251","node_name":"Parse Data","predecessor_nodes":["Print Response"],"next_node":"Choice","node_depth":8,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"choice","applicable":"vaVars.previous_graph_node==\"Parse Data___aba5b7adbe6840989322da15b9a8a251\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";gs.getMessageLang(\"Select One of the option\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_5eee83b59abf4bdd94b77c4fcfc4efe8.reset();})();(function() {vaInputs.__silent_Branch_8869c8b188944fccb73d204db64068fc.reset();})();(function() {vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"c0babdc31ac645d78d4d3bf0140ce89c","node_name":"Choice","predecessor_nodes":["Parse Data"],"next_node":"Decision","node_depth":9,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Decision_6c90856f1900440db32eb75bba3e56b2","applicable":"vaVars.previous_graph_node==\"Choice___c0babdc31ac645d78d4d3bf0140ce89c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";vaInputs.__silent_Decision_6c90856f1900440db32eb75bba3e56b2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___6c90856f1900440db32eb75bba3e56b2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_5eee83b59abf4bdd94b77c4fcfc4efe8.reset();})();(function() {vaInputs.__silent_Branch_8869c8b188944fccb73d204db64068fc.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"6c90856f1900440db32eb75bba3e56b2","node_name":"Decision","predecessor_nodes":["Choice"],"next_node":"Always","node_depth":10,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_5eee83b59abf4bdd94b77c4fcfc4efe8","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"End Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___5eee83b59abf4bdd94b77c4fcfc4efe8\";vaInputs.__silent_Branch_5eee83b59abf4bdd94b77c4fcfc4efe8=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___5eee83b59abf4bdd94b77c4fcfc4efe8\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"5eee83b59abf4bdd94b77c4fcfc4efe8","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"End","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}},{"name":"__silent_Branch_8869c8b188944fccb73d204db64068fc","applicable":"vaVars.previous_graph_node==\"Decision___6c90856f1900440db32eb75bba3e56b2\" &amp;&amp; ((vaInputs.choice.getValue() == \"Continue Conversation\"))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Always___8869c8b188944fccb73d204db64068fc\";vaInputs.__silent_Branch_8869c8b188944fccb73d204db64068fc=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Always___8869c8b188944fccb73d204db64068fc\";var ackMsg=null;ackMsg=null;vaInputs.enter_your_query.reset();(function() {vaInputs.enter_your_query.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"8869c8b188944fccb73d204db64068fc","node_name":"Always","predecessor_nodes":["Decision"],"next_node":"Enter Your Query","node_depth":11,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[],"to":"Enter Your Query"}}},{"name":"enter_your_query","applicable":"(vaVars.previous_graph_node==\"Start___6b083b676b264558b104e220288a1519\" || vaVars.previous_graph_node==\"Always___8869c8b188944fccb73d204db64068fc\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";gs.getMessageLang(\"Enter Your Query\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Enter Your Query___acdbd46e037a48de833c4120ddc810fb\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_45495a2ea1544860a11bc3d9f93959f3.reset();})();ackMsg;","metadata":{"type":"graph_node","node_id":"acdbd46e037a48de833c4120ddc810fb","node_name":"Enter Your Query","predecessor_nodes":["Start","Always"],"next_node":"Parse Data","node_depth":4,"decision_stack":["RootDecision_for_goal_primary"],"loopback":{"from":["Always"]}}},{"name":"__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63","applicable":"vaVars.previous_graph_node==\"Always___5eee83b59abf4bdd94b77c4fcfc4efe8\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";vaInputs.__silent_TerminateGoal_2d6806fab0d34cfcb7b754bdf5a96e63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___2d6806fab0d34cfcb7b754bdf5a96e63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_f896a54a0d4049699a59170081ca817c_done=true;ackMsg;","metadata":{"type":"graph_node","node_id":"2d6806fab0d34cfcb7b754bdf5a96e63","node_name":"End","predecessor_nodes":["Always"],"node_depth":12,"decision_stack":["Decision","RootDecision_for_goal_primary"],"loopback":{"from":[]}}}],"variables_update":[]}],"roles":[],"active":true,"published":false,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":false,"discoverable":false,"sys_scope":"d4ac3fff5b311200a4656ede91f91af2","sys_domain":"global","title":"ChatGPT","nlu_intent_label":"","nlu_model_label":""}</definition><design_category/><discoverable>false</discoverable><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><is_system_topic>false</is_system_topic><key_phrases>ChatGPT</key_phrases><last_published_on>2024-03-10 13:40:21</last_published_on><library>false</library><library_usage>null</library_usage><metaphone/><name>_PRVW__220eede2dbf406108f08200b0d66860d</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><published>false</published><roles/><secure_custom_input_control>false</secure_custom_input_control><sys_class_name>sys_cs_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 13:40:21</sys_created_on><sys_domain>global</sys_domain><sys_id>e20eede247f40610c2e1a3e7826d430e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>_PRVW__220eede2dbf406108f08200b0d66860d</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_e20eede247f40610c2e1a3e7826d430e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 13:40:21</sys_updated_on><title>ChatGPT</title><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor><visible>false</visible></sys_cs_topic><sys_translated_text action="delete_multiple" query="documentkey=e20eede247f40610c2e1a3e7826d430e"/></record_update>]]></payload>
<payload_hash>-1915130981</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>fc7c712647380610c2e1a3e7826d4337</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e2897d07d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>_PRVW__220eede2dbf406108f08200b0d66860d</target_name>
<type>Topic</type>
<update_domain>global</update_domain>
<update_guid>aa0ee92640f4061030c37ca66ae05c7f</update_guid>
<update_guid_history>aa0ee92640f4061030c37ca66ae05c7f:-1915130981</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_138878ee47f00610c2e1a3e7826d4374</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__4f8878ee91f00610a11c9740ee5fcd6c">438878ee47f00610c2e1a3e7826d436e</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:46:39</sys_created_on><sys_domain>global</sys_domain><sys_id>138878ee47f00610c2e1a3e7826d4374</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_138878ee47f00610c2e1a3e7826d4374</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:46:39</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>2030966322</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>fc7c712647380610c2e1a3e7826d433a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27c1d98f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>978878ee5df0061075ff012134ece375</update_guid>
<update_guid_history>978878ee5df0061075ff012134ece375:2030966322</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_7f0ccda247740610c2e1a3e7826d43e6</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__b70ccda249740610a741daf228edfae0">7b0ccda247740610c2e1a3e7826d43e1</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 11:11:53</sys_created_on><sys_domain>global</sys_domain><sys_id>7f0ccda247740610c2e1a3e7826d43e6</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_7f0ccda247740610c2e1a3e7826d43e6</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 11:11:53</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-700695585</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>fc7c712647380610c2e1a3e7826d433d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e280fe37f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>bf0ccda2ac740610f3056cde3ec2ffe7</update_guid>
<update_guid_history>bf0ccda2ac740610f3056cde3ec2ffe7:-700695585</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_cs_topic_language_c0cb786247340610c2e1a3e7826d43d3</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic_language"><sys_cs_topic_language action="INSERT_OR_UPDATE"><cs_topic_id display_value="_PRVW__0ccb7862bb340610d5389abdd962e6cc">cccb786247340610c2e1a3e7826d43cd</cs_topic_id><language_code>en</language_code><nlu_entities>[]</nlu_entities><nlu_intent>Connect GPT</nlu_intent><nlu_intent_label>Connect GPT</nlu_intent_label><nlu_model>ml_x_813518_sn_hr_core_global_da27786e47f00610c2e1a3e7826d4339</nlu_model><nlu_model_label>VA GPT</nlu_model_label><nlu_provider>64c023c17300330021a044764df6a70e</nlu_provider><sys_class_name>sys_cs_topic_language</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 10:00:38</sys_created_on><sys_domain>global</sys_domain><sys_id>c0cb786247340610c2e1a3e7826d43d3</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_cs_topic_language_c0cb786247340610c2e1a3e7826d43d3</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 10:00:38</sys_updated_on></sys_cs_topic_language></record_update>]]></payload>
<payload_hash>-1627932373</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>fc7c712647380610c2e1a3e7826d4340</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27cea8490000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name/>
<type>CS Topic Language</type>
<update_domain>global</update_domain>
<update_guid>8ccb7ca2583406105403e16fccd1b18d</update_guid>
<update_guid_history>8ccb7ca2583406105403e16fccd1b18d:-1627932373</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</application>
<category>customer</category>
<comments/>
<name>sys_nlu_utterance_2257b0ae47f00610c2e1a3e7826d434c</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_nlu_utterance"><sys_nlu_utterance action="INSERT_OR_UPDATE"><intent display_value="Connect GPT">3f37fc6e47f00610c2e1a3e7826d43f7</intent><original_utterance/><primary_utterance/><source>manual</source><sys_class_name>sys_nlu_utterance</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-03-10 09:41:24</sys_created_on><sys_id>2257b0ae47f00610c2e1a3e7826d434c</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ChatGPT</sys_name><sys_package display_value="Human Resources: Core" source="sn_hr_core">d4ac3fff5b311200a4656ede91f91af2</sys_package><sys_policy/><sys_scope display_value="Human Resources: Core">d4ac3fff5b311200a4656ede91f91af2</sys_scope><sys_update_name>sys_nlu_utterance_2257b0ae47f00610c2e1a3e7826d434c</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-03-10 09:41:24</sys_updated_on><utterance>ChatGPT</utterance></sys_nlu_utterance></record_update>]]></payload>
<payload_hash>-730574770</payload_hash>
<remote_update_set display_value="USTT_Integrating_ChatGPT_With_Virtual Agent_Multi-round_V1.1">e47c75a247380610c2e1a3e7826d4360</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2024-03-10 14:43:18</sys_created_on>
<sys_id>fc7c712647380610c2e1a3e7826d4343</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18e27bd0d230000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2024-03-10 14:43:18</sys_updated_on>
<table/>
<target_name>ChatGPT</target_name>
<type>NLU Utterance</type>
<update_domain>global</update_domain>
<update_guid>2e57b0ae07f006107aaf80942c0c1b4d</update_guid>
<update_guid_history>2e57b0ae07f006107aaf80942c0c1b4d:-730574770</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
</unload>
